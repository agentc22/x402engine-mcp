var qN=Object.create;var mp=Object.defineProperty;var LN=Object.getOwnPropertyDescriptor;var UN=Object.getOwnPropertyNames;var FN=Object.getPrototypeOf,VN=Object.prototype.hasOwnProperty;var H=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),hc=(e,t)=>{for(var r in t)mp(e,r,{get:t[r],enumerable:!0})},BN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of UN(t))!VN.call(e,o)&&o!==r&&mp(e,o,{get:()=>t[o],enumerable:!(n=LN(t,o))||n.enumerable});return e};var gc=(e,t,r)=>(r=e!=null?qN(FN(e)):{},BN(t||!e||!e.__esModule?mp(r,"default",{value:e,enumerable:!0}):r,e));var Is=H(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.regexpCode=Ue.getEsmExportName=Ue.getProperty=Ue.safeStringify=Ue.stringify=Ue.strConcat=Ue.addCodeArg=Ue.str=Ue._=Ue.nil=Ue._Code=Ue.Name=Ue.IDENTIFIER=Ue._CodeOrName=void 0;var Ps=class{};Ue._CodeOrName=Ps;Ue.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var yi=class extends Ps{constructor(t){if(super(),!Ue.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};Ue.Name=yi;var Br=class extends Ps{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((r,n)=>(n instanceof yi&&(r[n.str]=(r[n.str]||0)+1),r),{})}};Ue._Code=Br;Ue.nil=new Br("");function x1(e,...t){let r=[e[0]],n=0;for(;n<t.length;)Xh(r,t[n]),r.push(e[++n]);return new Br(r)}Ue._=x1;var Yh=new Br("+");function $1(e,...t){let r=[Es(e[0])],n=0;for(;n<t.length;)r.push(Yh),Xh(r,t[n]),r.push(Yh,Es(e[++n]));return B9(r),new Br(r)}Ue.str=$1;function Xh(e,t){t instanceof Br?e.push(...t._items):t instanceof yi?e.push(t):e.push(W9(t))}Ue.addCodeArg=Xh;function B9(e){let t=1;for(;t<e.length-1;){if(e[t]===Yh){let r=H9(e[t-1],e[t+1]);if(r!==void 0){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}function H9(e,t){if(t==='""')return e;if(e==='""')return t;if(typeof e=="string")return t instanceof yi||e[e.length-1]!=='"'?void 0:typeof t!="string"?`${e.slice(0,-1)}${t}"`:t[0]==='"'?e.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(e instanceof yi))return`"${e}${t.slice(1)}`}function J9(e,t){return t.emptyStr()?e:e.emptyStr()?t:$1`${e}${t}`}Ue.strConcat=J9;function W9(e){return typeof e=="number"||typeof e=="boolean"||e===null?e:Es(Array.isArray(e)?e.join(","):e)}function G9(e){return new Br(Es(e))}Ue.stringify=G9;function Es(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}Ue.safeStringify=Es;function K9(e){return typeof e=="string"&&Ue.IDENTIFIER.test(e)?new Br(`.${e}`):x1`[${e}]`}Ue.getProperty=K9;function Y9(e){if(typeof e=="string"&&Ue.IDENTIFIER.test(e))return new Br(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)}Ue.getEsmExportName=Y9;function X9(e){return new Br(e.toString())}Ue.regexpCode=X9});var tg=H(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.ValueScope=_r.ValueScopeName=_r.Scope=_r.varKinds=_r.UsedValueState=void 0;var yr=Is(),Qh=class extends Error{constructor(t){super(`CodeGen: "code" for ${t} not defined`),this.value=t.value}},_l;(function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"})(_l||(_r.UsedValueState=_l={}));_r.varKinds={const:new yr.Name("const"),let:new yr.Name("let"),var:new yr.Name("var")};var vl=class{constructor({prefixes:t,parent:r}={}){this._names={},this._prefixes=t,this._parent=r}toName(t){return t instanceof yr.Name?t:this.name(t)}name(t){return new yr.Name(this._newName(t))}_newName(t){let r=this._names[t]||this._nameGroup(t);return`${t}${r.index++}`}_nameGroup(t){var r,n;if(!((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0)&&n.has(t)||this._prefixes&&!this._prefixes.has(t))throw new Error(`CodeGen: prefix "${t}" is not allowed in this scope`);return this._names[t]={prefix:t,index:0}}};_r.Scope=vl;var bl=class extends yr.Name{constructor(t,r){super(r),this.prefix=t}setValue(t,{property:r,itemIndex:n}){this.value=t,this.scopePath=(0,yr._)`.${new yr.Name(r)}[${n}]`}};_r.ValueScopeName=bl;var Q9=(0,yr._)`\n`,eg=class extends vl{constructor(t){super(t),this._values={},this._scope=t.scope,this.opts={...t,_n:t.lines?Q9:yr.nil}}get(){return this._scope}name(t){return new bl(t,this._newName(t))}value(t,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let o=this.toName(t),{prefix:a}=o,u=(n=r.key)!==null&&n!==void 0?n:r.ref,c=this._values[a];if(c){let m=c.get(u);if(m)return m}else c=this._values[a]=new Map;c.set(u,o);let d=this._scope[a]||(this._scope[a]=[]),f=d.length;return d[f]=r.ref,o.setValue(r,{property:a,itemIndex:f}),o}getValue(t,r){let n=this._values[t];if(n)return n.get(r)}scopeRefs(t,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,yr._)`${t}${n.scopePath}`})}scopeCode(t=this._values,r,n){return this._reduceValues(t,o=>{if(o.value===void 0)throw new Error(`CodeGen: name "${o}" has no value`);return o.value.code},r,n)}_reduceValues(t,r,n={},o){let a=yr.nil;for(let u in t){let c=t[u];if(!c)continue;let d=n[u]=n[u]||new Map;c.forEach(f=>{if(d.has(f))return;d.set(f,_l.Started);let m=r(f);if(m){let h=this.opts.es5?_r.varKinds.var:_r.varKinds.const;a=(0,yr._)`${a}${h} ${f} = ${m};${this.opts._n}`}else if(m=o?.(f))a=(0,yr._)`${a}${m}${this.opts._n}`;else throw new Qh(f);d.set(f,_l.Completed)})}return a}};_r.ValueScope=eg});var ke=H(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.or=Pe.and=Pe.not=Pe.CodeGen=Pe.operators=Pe.varKinds=Pe.ValueScopeName=Pe.ValueScope=Pe.Scope=Pe.Name=Pe.regexpCode=Pe.stringify=Pe.getProperty=Pe.nil=Pe.strConcat=Pe.str=Pe._=void 0;var De=Is(),dn=tg(),To=Is();Object.defineProperty(Pe,"_",{enumerable:!0,get:function(){return To._}});Object.defineProperty(Pe,"str",{enumerable:!0,get:function(){return To.str}});Object.defineProperty(Pe,"strConcat",{enumerable:!0,get:function(){return To.strConcat}});Object.defineProperty(Pe,"nil",{enumerable:!0,get:function(){return To.nil}});Object.defineProperty(Pe,"getProperty",{enumerable:!0,get:function(){return To.getProperty}});Object.defineProperty(Pe,"stringify",{enumerable:!0,get:function(){return To.stringify}});Object.defineProperty(Pe,"regexpCode",{enumerable:!0,get:function(){return To.regexpCode}});Object.defineProperty(Pe,"Name",{enumerable:!0,get:function(){return To.Name}});var kl=tg();Object.defineProperty(Pe,"Scope",{enumerable:!0,get:function(){return kl.Scope}});Object.defineProperty(Pe,"ValueScope",{enumerable:!0,get:function(){return kl.ValueScope}});Object.defineProperty(Pe,"ValueScopeName",{enumerable:!0,get:function(){return kl.ValueScopeName}});Object.defineProperty(Pe,"varKinds",{enumerable:!0,get:function(){return kl.varKinds}});Pe.operators={GT:new De._Code(">"),GTE:new De._Code(">="),LT:new De._Code("<"),LTE:new De._Code("<="),EQ:new De._Code("==="),NEQ:new De._Code("!=="),NOT:new De._Code("!"),OR:new De._Code("||"),AND:new De._Code("&&"),ADD:new De._Code("+")};var Kn=class{optimizeNodes(){return this}optimizeNames(t,r){return this}},rg=class extends Kn{constructor(t,r,n){super(),this.varKind=t,this.name=r,this.rhs=n}render({es5:t,_n:r}){let n=t?dn.varKinds.var:this.varKind,o=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${o};`+r}optimizeNames(t,r){if(t[this.name.str])return this.rhs&&(this.rhs=ca(this.rhs,t,r)),this}get names(){return this.rhs instanceof De._CodeOrName?this.rhs.names:{}}},wl=class extends Kn{constructor(t,r,n){super(),this.lhs=t,this.rhs=r,this.sideEffects=n}render({_n:t}){return`${this.lhs} = ${this.rhs};`+t}optimizeNames(t,r){if(!(this.lhs instanceof De.Name&&!t[this.lhs.str]&&!this.sideEffects))return this.rhs=ca(this.rhs,t,r),this}get names(){let t=this.lhs instanceof De.Name?{}:{...this.lhs.names};return $l(t,this.rhs)}},ng=class extends wl{constructor(t,r,n,o){super(t,n,o),this.op=r}render({_n:t}){return`${this.lhs} ${this.op}= ${this.rhs};`+t}},og=class extends Kn{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`${this.label}:`+t}},ig=class extends Kn{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`break${this.label?` ${this.label}`:""};`+t}},ag=class extends Kn{constructor(t){super(),this.error=t}render({_n:t}){return`throw ${this.error};`+t}get names(){return this.error.names}},sg=class extends Kn{constructor(t){super(),this.code=t}render({_n:t}){return`${this.code};`+t}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(t,r){return this.code=ca(this.code,t,r),this}get names(){return this.code instanceof De._CodeOrName?this.code.names:{}}},Rs=class extends Kn{constructor(t=[]){super(),this.nodes=t}render(t){return this.nodes.reduce((r,n)=>r+n.render(t),"")}optimizeNodes(){let{nodes:t}=this,r=t.length;for(;r--;){let n=t[r].optimizeNodes();Array.isArray(n)?t.splice(r,1,...n):n?t[r]=n:t.splice(r,1)}return t.length>0?this:void 0}optimizeNames(t,r){let{nodes:n}=this,o=n.length;for(;o--;){let a=n[o];a.optimizeNames(t,r)||(e5(t,a.names),n.splice(o,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((t,r)=>bi(t,r.names),{})}},Yn=class extends Rs{render(t){return"{"+t._n+super.render(t)+"}"+t._n}},ug=class extends Rs{},ua=class extends Yn{};ua.kind="else";var _i=class e extends Yn{constructor(t,r){super(r),this.condition=t}render(t){let r=`if(${this.condition})`+super.render(t);return this.else&&(r+="else "+this.else.render(t)),r}optimizeNodes(){super.optimizeNodes();let t=this.condition;if(t===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new ua(n):n}if(r)return t===!1?r instanceof e?r:r.nodes:this.nodes.length?this:new e(k1(t),r instanceof e?[r]:r.nodes);if(!(t===!1||!this.nodes.length))return this}optimizeNames(t,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(t,r),!!(super.optimizeNames(t,r)||this.else))return this.condition=ca(this.condition,t,r),this}get names(){let t=super.names;return $l(t,this.condition),this.else&&bi(t,this.else.names),t}};_i.kind="if";var vi=class extends Yn{};vi.kind="for";var cg=class extends vi{constructor(t){super(),this.iteration=t}render(t){return`for(${this.iteration})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iteration=ca(this.iteration,t,r),this}get names(){return bi(super.names,this.iteration.names)}},lg=class extends vi{constructor(t,r,n,o){super(),this.varKind=t,this.name=r,this.from=n,this.to=o}render(t){let r=t.es5?dn.varKinds.var:this.varKind,{name:n,from:o,to:a}=this;return`for(${r} ${n}=${o}; ${n}<${a}; ${n}++)`+super.render(t)}get names(){let t=$l(super.names,this.from);return $l(t,this.to)}},xl=class extends vi{constructor(t,r,n,o){super(),this.loop=t,this.varKind=r,this.name=n,this.iterable=o}render(t){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iterable=ca(this.iterable,t,r),this}get names(){return bi(super.names,this.iterable.names)}},Os=class extends Yn{constructor(t,r,n){super(),this.name=t,this.args=r,this.async=n}render(t){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(t)}};Os.kind="func";var Zs=class extends Rs{render(t){return"return "+super.render(t)}};Zs.kind="return";var dg=class extends Yn{render(t){let r="try"+super.render(t);return this.catch&&(r+=this.catch.render(t)),this.finally&&(r+=this.finally.render(t)),r}optimizeNodes(){var t,r;return super.optimizeNodes(),(t=this.catch)===null||t===void 0||t.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(t,r){var n,o;return super.optimizeNames(t,r),(n=this.catch)===null||n===void 0||n.optimizeNames(t,r),(o=this.finally)===null||o===void 0||o.optimizeNames(t,r),this}get names(){let t=super.names;return this.catch&&bi(t,this.catch.names),this.finally&&bi(t,this.finally.names),t}},js=class extends Yn{constructor(t){super(),this.error=t}render(t){return`catch(${this.error})`+super.render(t)}};js.kind="catch";var Ns=class extends Yn{render(t){return"finally"+super.render(t)}};Ns.kind="finally";var fg=class{constructor(t,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=t,this._scope=new dn.Scope({parent:t}),this._nodes=[new ug]}toString(){return this._root.render(this.opts)}name(t){return this._scope.name(t)}scopeName(t){return this._extScope.name(t)}scopeValue(t,r){let n=this._extScope.value(t,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(t,r){return this._extScope.getValue(t,r)}scopeRefs(t){return this._extScope.scopeRefs(t,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(t,r,n,o){let a=this._scope.toName(r);return n!==void 0&&o&&(this._constants[a.str]=n),this._leafNode(new rg(t,a,n)),a}const(t,r,n){return this._def(dn.varKinds.const,t,r,n)}let(t,r,n){return this._def(dn.varKinds.let,t,r,n)}var(t,r,n){return this._def(dn.varKinds.var,t,r,n)}assign(t,r,n){return this._leafNode(new wl(t,r,n))}add(t,r){return this._leafNode(new ng(t,Pe.operators.ADD,r))}code(t){return typeof t=="function"?t():t!==De.nil&&this._leafNode(new sg(t)),this}object(...t){let r=["{"];for(let[n,o]of t)r.length>1&&r.push(","),r.push(n),(n!==o||this.opts.es5)&&(r.push(":"),(0,De.addCodeArg)(r,o));return r.push("}"),new De._Code(r)}if(t,r,n){if(this._blockNode(new _i(t)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(t){return this._elseNode(new _i(t))}else(){return this._elseNode(new ua)}endIf(){return this._endBlockNode(_i,ua)}_for(t,r){return this._blockNode(t),r&&this.code(r).endFor(),this}for(t,r){return this._for(new cg(t),r)}forRange(t,r,n,o,a=this.opts.es5?dn.varKinds.var:dn.varKinds.let){let u=this._scope.toName(t);return this._for(new lg(a,u,r,n),()=>o(u))}forOf(t,r,n,o=dn.varKinds.const){let a=this._scope.toName(t);if(this.opts.es5){let u=r instanceof De.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,De._)`${u}.length`,c=>{this.var(a,(0,De._)`${u}[${c}]`),n(a)})}return this._for(new xl("of",o,a,r),()=>n(a))}forIn(t,r,n,o=this.opts.es5?dn.varKinds.var:dn.varKinds.const){if(this.opts.ownProperties)return this.forOf(t,(0,De._)`Object.keys(${r})`,n);let a=this._scope.toName(t);return this._for(new xl("in",o,a,r),()=>n(a))}endFor(){return this._endBlockNode(vi)}label(t){return this._leafNode(new og(t))}break(t){return this._leafNode(new ig(t))}return(t){let r=new Zs;if(this._blockNode(r),this.code(t),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Zs)}try(t,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let o=new dg;if(this._blockNode(o),this.code(t),r){let a=this.name("e");this._currNode=o.catch=new js(a),r(a)}return n&&(this._currNode=o.finally=new Ns,this.code(n)),this._endBlockNode(js,Ns)}throw(t){return this._leafNode(new ag(t))}block(t,r){return this._blockStarts.push(this._nodes.length),t&&this.code(t).endBlock(r),this}endBlock(t){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||t!==void 0&&n!==t)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${t} expected`);return this._nodes.length=r,this}func(t,r=De.nil,n,o){return this._blockNode(new Os(t,r,n)),o&&this.code(o).endFunc(),this}endFunc(){return this._endBlockNode(Os)}optimize(t=1){for(;t-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(t){return this._currNode.nodes.push(t),this}_blockNode(t){this._currNode.nodes.push(t),this._nodes.push(t)}_endBlockNode(t,r){let n=this._currNode;if(n instanceof t||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${t.kind}/${r.kind}`:t.kind}"`)}_elseNode(t){let r=this._currNode;if(!(r instanceof _i))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=t,this}get _root(){return this._nodes[0]}get _currNode(){let t=this._nodes;return t[t.length-1]}set _currNode(t){let r=this._nodes;r[r.length-1]=t}};Pe.CodeGen=fg;function bi(e,t){for(let r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function $l(e,t){return t instanceof De._CodeOrName?bi(e,t.names):e}function ca(e,t,r){if(e instanceof De.Name)return n(e);if(!o(e))return e;return new De._Code(e._items.reduce((a,u)=>(u instanceof De.Name&&(u=n(u)),u instanceof De._Code?a.push(...u._items):a.push(u),a),[]));function n(a){let u=r[a.str];return u===void 0||t[a.str]!==1?a:(delete t[a.str],u)}function o(a){return a instanceof De._Code&&a._items.some(u=>u instanceof De.Name&&t[u.str]===1&&r[u.str]!==void 0)}}function e5(e,t){for(let r in t)e[r]=(e[r]||0)-(t[r]||0)}function k1(e){return typeof e=="boolean"||typeof e=="number"||e===null?!e:(0,De._)`!${pg(e)}`}Pe.not=k1;var t5=z1(Pe.operators.AND);function r5(...e){return e.reduce(t5)}Pe.and=r5;var n5=z1(Pe.operators.OR);function o5(...e){return e.reduce(n5)}Pe.or=o5;function z1(e){return(t,r)=>t===De.nil?r:r===De.nil?t:(0,De._)`${pg(t)} ${e} ${pg(r)}`}function pg(e){return e instanceof De.Name?e:(0,De._)`(${e})`}});var Fe=H(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.checkStrictMode=Ee.getErrorPath=Ee.Type=Ee.useFunc=Ee.setEvaluated=Ee.evaluatedPropsToName=Ee.mergeEvaluated=Ee.eachItem=Ee.unescapeJsonPointer=Ee.escapeJsonPointer=Ee.escapeFragment=Ee.unescapeFragment=Ee.schemaRefOrVal=Ee.schemaHasRulesButRef=Ee.schemaHasRules=Ee.checkUnknownRules=Ee.alwaysValidSchema=Ee.toHash=void 0;var Qe=ke(),i5=Is();function a5(e){let t={};for(let r of e)t[r]=!0;return t}Ee.toHash=a5;function s5(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(P1(e,t),!E1(t,e.self.RULES.all))}Ee.alwaysValidSchema=s5;function P1(e,t=e.schema){let{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;let o=n.RULES.keywords;for(let a in t)o[a]||O1(e,`unknown keyword: "${a}"`)}Ee.checkUnknownRules=P1;function E1(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(t[r])return!0;return!1}Ee.schemaHasRules=E1;function u5(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}Ee.schemaHasRulesButRef=u5;function c5({topSchemaRef:e,schemaPath:t},r,n,o){if(!o){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,Qe._)`${r}`}return(0,Qe._)`${e}${t}${(0,Qe.getProperty)(n)}`}Ee.schemaRefOrVal=c5;function l5(e){return I1(decodeURIComponent(e))}Ee.unescapeFragment=l5;function d5(e){return encodeURIComponent(hg(e))}Ee.escapeFragment=d5;function hg(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}Ee.escapeJsonPointer=hg;function I1(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}Ee.unescapeJsonPointer=I1;function f5(e,t){if(Array.isArray(e))for(let r of e)t(r);else t(e)}Ee.eachItem=f5;function S1({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(o,a,u,c)=>{let d=u===void 0?a:u instanceof Qe.Name?(a instanceof Qe.Name?e(o,a,u):t(o,a,u),u):a instanceof Qe.Name?(t(o,u,a),a):r(a,u);return c===Qe.Name&&!(d instanceof Qe.Name)?n(o,d):d}}Ee.mergeEvaluated={props:S1({mergeNames:(e,t,r)=>e.if((0,Qe._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,Qe._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,Qe._)`${r} || {}`).code((0,Qe._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,Qe._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,Qe._)`${r} || {}`),gg(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:R1}),items:S1({mergeNames:(e,t,r)=>e.if((0,Qe._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,Qe._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,Qe._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,Qe._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function R1(e,t){if(t===!0)return e.var("props",!0);let r=e.var("props",(0,Qe._)`{}`);return t!==void 0&&gg(e,r,t),r}Ee.evaluatedPropsToName=R1;function gg(e,t,r){Object.keys(r).forEach(n=>e.assign((0,Qe._)`${t}${(0,Qe.getProperty)(n)}`,!0))}Ee.setEvaluated=gg;var T1={};function p5(e,t){return e.scopeValue("func",{ref:t,code:T1[t.code]||(T1[t.code]=new i5._Code(t.code))})}Ee.useFunc=p5;var mg;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(mg||(Ee.Type=mg={}));function m5(e,t,r){if(e instanceof Qe.Name){let n=t===mg.Num;return r?n?(0,Qe._)`"[" + ${e} + "]"`:(0,Qe._)`"['" + ${e} + "']"`:n?(0,Qe._)`"/" + ${e}`:(0,Qe._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,Qe.getProperty)(e).toString():"/"+hg(e)}Ee.getErrorPath=m5;function O1(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}Ee.checkStrictMode=O1});var Xn=H(yg=>{"use strict";Object.defineProperty(yg,"__esModule",{value:!0});var Kt=ke(),h5={data:new Kt.Name("data"),valCxt:new Kt.Name("valCxt"),instancePath:new Kt.Name("instancePath"),parentData:new Kt.Name("parentData"),parentDataProperty:new Kt.Name("parentDataProperty"),rootData:new Kt.Name("rootData"),dynamicAnchors:new Kt.Name("dynamicAnchors"),vErrors:new Kt.Name("vErrors"),errors:new Kt.Name("errors"),this:new Kt.Name("this"),self:new Kt.Name("self"),scope:new Kt.Name("scope"),json:new Kt.Name("json"),jsonPos:new Kt.Name("jsonPos"),jsonLen:new Kt.Name("jsonLen"),jsonPart:new Kt.Name("jsonPart")};yg.default=h5});var As=H(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.extendErrors=Yt.resetErrorsCount=Yt.reportExtraError=Yt.reportError=Yt.keyword$DataError=Yt.keywordError=void 0;var Le=ke(),zl=Fe(),or=Xn();Yt.keywordError={message:({keyword:e})=>(0,Le.str)`must pass "${e}" keyword validation`};Yt.keyword$DataError={message:({keyword:e,schemaType:t})=>t?(0,Le.str)`"${e}" keyword must be ${t} ($data)`:(0,Le.str)`"${e}" keyword is invalid ($data)`};function g5(e,t=Yt.keywordError,r,n){let{it:o}=e,{gen:a,compositeRule:u,allErrors:c}=o,d=N1(e,t,r);n??(u||c)?Z1(a,d):j1(o,(0,Le._)`[${d}]`)}Yt.reportError=g5;function y5(e,t=Yt.keywordError,r){let{it:n}=e,{gen:o,compositeRule:a,allErrors:u}=n,c=N1(e,t,r);Z1(o,c),a||u||j1(n,or.default.vErrors)}Yt.reportExtraError=y5;function _5(e,t){e.assign(or.default.errors,t),e.if((0,Le._)`${or.default.vErrors} !== null`,()=>e.if(t,()=>e.assign((0,Le._)`${or.default.vErrors}.length`,t),()=>e.assign(or.default.vErrors,null)))}Yt.resetErrorsCount=_5;function v5({gen:e,keyword:t,schemaValue:r,data:n,errsCount:o,it:a}){if(o===void 0)throw new Error("ajv implementation error");let u=e.name("err");e.forRange("i",o,or.default.errors,c=>{e.const(u,(0,Le._)`${or.default.vErrors}[${c}]`),e.if((0,Le._)`${u}.instancePath === undefined`,()=>e.assign((0,Le._)`${u}.instancePath`,(0,Le.strConcat)(or.default.instancePath,a.errorPath))),e.assign((0,Le._)`${u}.schemaPath`,(0,Le.str)`${a.errSchemaPath}/${t}`),a.opts.verbose&&(e.assign((0,Le._)`${u}.schema`,r),e.assign((0,Le._)`${u}.data`,n))})}Yt.extendErrors=v5;function Z1(e,t){let r=e.const("err",t);e.if((0,Le._)`${or.default.vErrors} === null`,()=>e.assign(or.default.vErrors,(0,Le._)`[${r}]`),(0,Le._)`${or.default.vErrors}.push(${r})`),e.code((0,Le._)`${or.default.errors}++`)}function j1(e,t){let{gen:r,validateName:n,schemaEnv:o}=e;o.$async?r.throw((0,Le._)`new ${e.ValidationError}(${t})`):(r.assign((0,Le._)`${n}.errors`,t),r.return(!1))}var wi={keyword:new Le.Name("keyword"),schemaPath:new Le.Name("schemaPath"),params:new Le.Name("params"),propertyName:new Le.Name("propertyName"),message:new Le.Name("message"),schema:new Le.Name("schema"),parentSchema:new Le.Name("parentSchema")};function N1(e,t,r){let{createErrors:n}=e.it;return n===!1?(0,Le._)`{}`:b5(e,t,r)}function b5(e,t,r={}){let{gen:n,it:o}=e,a=[w5(o,r),x5(e,r)];return $5(e,t,a),n.object(...a)}function w5({errorPath:e},{instancePath:t}){let r=t?(0,Le.str)`${e}${(0,zl.getErrorPath)(t,zl.Type.Str)}`:e;return[or.default.instancePath,(0,Le.strConcat)(or.default.instancePath,r)]}function x5({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:n}){let o=n?t:(0,Le.str)`${t}/${e}`;return r&&(o=(0,Le.str)`${o}${(0,zl.getErrorPath)(r,zl.Type.Str)}`),[wi.schemaPath,o]}function $5(e,{params:t,message:r},n){let{keyword:o,data:a,schemaValue:u,it:c}=e,{opts:d,propertyName:f,topSchemaRef:m,schemaPath:h}=c;n.push([wi.keyword,o],[wi.params,typeof t=="function"?t(e):t||(0,Le._)`{}`]),d.messages&&n.push([wi.message,typeof r=="function"?r(e):r]),d.verbose&&n.push([wi.schema,u],[wi.parentSchema,(0,Le._)`${m}${h}`],[or.default.data,a]),f&&n.push([wi.propertyName,f])}});var C1=H(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});la.boolOrEmptySchema=la.topBoolOrEmptySchema=void 0;var k5=As(),z5=ke(),S5=Xn(),T5={message:"boolean schema is false"};function P5(e){let{gen:t,schema:r,validateName:n}=e;r===!1?A1(e,!1):typeof r=="object"&&r.$async===!0?t.return(S5.default.data):(t.assign((0,z5._)`${n}.errors`,null),t.return(!0))}la.topBoolOrEmptySchema=P5;function E5(e,t){let{gen:r,schema:n}=e;n===!1?(r.var(t,!1),A1(e)):r.var(t,!0)}la.boolOrEmptySchema=E5;function A1(e,t){let{gen:r,data:n}=e,o={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,k5.reportError)(o,T5,void 0,t)}});var _g=H(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});da.getRules=da.isJSONType=void 0;var I5=["string","number","integer","boolean","null","object","array"],R5=new Set(I5);function O5(e){return typeof e=="string"&&R5.has(e)}da.isJSONType=O5;function Z5(){let e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}da.getRules=Z5});var vg=H(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});Po.shouldUseRule=Po.shouldUseGroup=Po.schemaHasRulesForType=void 0;function j5({schema:e,self:t},r){let n=t.RULES.types[r];return n&&n!==!0&&M1(e,n)}Po.schemaHasRulesForType=j5;function M1(e,t){return t.rules.some(r=>D1(e,r))}Po.shouldUseGroup=M1;function D1(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Po.shouldUseRule=D1});var Cs=H(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.reportTypeError=Xt.checkDataTypes=Xt.checkDataType=Xt.coerceAndCheckDataType=Xt.getJSONTypes=Xt.getSchemaTypes=Xt.DataType=void 0;var N5=_g(),A5=vg(),C5=As(),we=ke(),q1=Fe(),fa;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(fa||(Xt.DataType=fa={}));function M5(e){let t=L1(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}Xt.getSchemaTypes=M5;function L1(e){let t=Array.isArray(e)?e:e?[e]:[];if(t.every(N5.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}Xt.getJSONTypes=L1;function D5(e,t){let{gen:r,data:n,opts:o}=e,a=q5(t,o.coerceTypes),u=t.length>0&&!(a.length===0&&t.length===1&&(0,A5.schemaHasRulesForType)(e,t[0]));if(u){let c=wg(t,n,o.strictNumbers,fa.Wrong);r.if(c,()=>{a.length?L5(e,t,a):xg(e)})}return u}Xt.coerceAndCheckDataType=D5;var U1=new Set(["string","number","integer","boolean","null"]);function q5(e,t){return t?e.filter(r=>U1.has(r)||t==="array"&&r==="array"):[]}function L5(e,t,r){let{gen:n,data:o,opts:a}=e,u=n.let("dataType",(0,we._)`typeof ${o}`),c=n.let("coerced",(0,we._)`undefined`);a.coerceTypes==="array"&&n.if((0,we._)`${u} == 'object' && Array.isArray(${o}) && ${o}.length == 1`,()=>n.assign(o,(0,we._)`${o}[0]`).assign(u,(0,we._)`typeof ${o}`).if(wg(t,o,a.strictNumbers),()=>n.assign(c,o))),n.if((0,we._)`${c} !== undefined`);for(let f of r)(U1.has(f)||f==="array"&&a.coerceTypes==="array")&&d(f);n.else(),xg(e),n.endIf(),n.if((0,we._)`${c} !== undefined`,()=>{n.assign(o,c),U5(e,c)});function d(f){switch(f){case"string":n.elseIf((0,we._)`${u} == "number" || ${u} == "boolean"`).assign(c,(0,we._)`"" + ${o}`).elseIf((0,we._)`${o} === null`).assign(c,(0,we._)`""`);return;case"number":n.elseIf((0,we._)`${u} == "boolean" || ${o} === null
              || (${u} == "string" && ${o} && ${o} == +${o})`).assign(c,(0,we._)`+${o}`);return;case"integer":n.elseIf((0,we._)`${u} === "boolean" || ${o} === null
              || (${u} === "string" && ${o} && ${o} == +${o} && !(${o} % 1))`).assign(c,(0,we._)`+${o}`);return;case"boolean":n.elseIf((0,we._)`${o} === "false" || ${o} === 0 || ${o} === null`).assign(c,!1).elseIf((0,we._)`${o} === "true" || ${o} === 1`).assign(c,!0);return;case"null":n.elseIf((0,we._)`${o} === "" || ${o} === 0 || ${o} === false`),n.assign(c,null);return;case"array":n.elseIf((0,we._)`${u} === "string" || ${u} === "number"
              || ${u} === "boolean" || ${o} === null`).assign(c,(0,we._)`[${o}]`)}}}function U5({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,we._)`${t} !== undefined`,()=>e.assign((0,we._)`${t}[${r}]`,n))}function bg(e,t,r,n=fa.Correct){let o=n===fa.Correct?we.operators.EQ:we.operators.NEQ,a;switch(e){case"null":return(0,we._)`${t} ${o} null`;case"array":a=(0,we._)`Array.isArray(${t})`;break;case"object":a=(0,we._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":a=u((0,we._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":a=u();break;default:return(0,we._)`typeof ${t} ${o} ${e}`}return n===fa.Correct?a:(0,we.not)(a);function u(c=we.nil){return(0,we.and)((0,we._)`typeof ${t} == "number"`,c,r?(0,we._)`isFinite(${t})`:we.nil)}}Xt.checkDataType=bg;function wg(e,t,r,n){if(e.length===1)return bg(e[0],t,r,n);let o,a=(0,q1.toHash)(e);if(a.array&&a.object){let u=(0,we._)`typeof ${t} != "object"`;o=a.null?u:(0,we._)`!${t} || ${u}`,delete a.null,delete a.array,delete a.object}else o=we.nil;a.number&&delete a.integer;for(let u in a)o=(0,we.and)(o,bg(u,t,r,n));return o}Xt.checkDataTypes=wg;var F5={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,we._)`{type: ${e}}`:(0,we._)`{type: ${t}}`};function xg(e){let t=V5(e);(0,C5.reportError)(t,F5)}Xt.reportTypeError=xg;function V5(e){let{gen:t,data:r,schema:n}=e,o=(0,q1.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:o,schemaValue:o,parentSchema:n,params:{},it:e}}});var V1=H(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.assignDefaults=void 0;var pa=ke(),B5=Fe();function H5(e,t){let{properties:r,items:n}=e.schema;if(t==="object"&&r)for(let o in r)F1(e,o,r[o].default);else t==="array"&&Array.isArray(n)&&n.forEach((o,a)=>F1(e,a,o.default))}Sl.assignDefaults=H5;function F1(e,t,r){let{gen:n,compositeRule:o,data:a,opts:u}=e;if(r===void 0)return;let c=(0,pa._)`${a}${(0,pa.getProperty)(t)}`;if(o){(0,B5.checkStrictMode)(e,`default is ignored for: ${c}`);return}let d=(0,pa._)`${c} === undefined`;u.useDefaults==="empty"&&(d=(0,pa._)`${d} || ${c} === null || ${c} === ""`),n.if(d,(0,pa._)`${c} = ${(0,pa.stringify)(r)}`)}});var Hr=H(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.validateUnion=Ye.validateArray=Ye.usePattern=Ye.callValidateCode=Ye.schemaProperties=Ye.allSchemaProperties=Ye.noPropertyInData=Ye.propertyInData=Ye.isOwnProperty=Ye.hasPropFunc=Ye.reportMissingProp=Ye.checkMissingProp=Ye.checkReportMissingProp=void 0;var lt=ke(),$g=Fe(),Eo=Xn(),J5=Fe();function W5(e,t){let{gen:r,data:n,it:o}=e;r.if(zg(r,n,t,o.opts.ownProperties),()=>{e.setParams({missingProperty:(0,lt._)`${t}`},!0),e.error()})}Ye.checkReportMissingProp=W5;function G5({gen:e,data:t,it:{opts:r}},n,o){return(0,lt.or)(...n.map(a=>(0,lt.and)(zg(e,t,a,r.ownProperties),(0,lt._)`${o} = ${a}`)))}Ye.checkMissingProp=G5;function K5(e,t){e.setParams({missingProperty:t},!0),e.error()}Ye.reportMissingProp=K5;function B1(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,lt._)`Object.prototype.hasOwnProperty`})}Ye.hasPropFunc=B1;function kg(e,t,r){return(0,lt._)`${B1(e)}.call(${t}, ${r})`}Ye.isOwnProperty=kg;function Y5(e,t,r,n){let o=(0,lt._)`${t}${(0,lt.getProperty)(r)} !== undefined`;return n?(0,lt._)`${o} && ${kg(e,t,r)}`:o}Ye.propertyInData=Y5;function zg(e,t,r,n){let o=(0,lt._)`${t}${(0,lt.getProperty)(r)} === undefined`;return n?(0,lt.or)(o,(0,lt.not)(kg(e,t,r))):o}Ye.noPropertyInData=zg;function H1(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Ye.allSchemaProperties=H1;function X5(e,t){return H1(t).filter(r=>!(0,$g.alwaysValidSchema)(e,t[r]))}Ye.schemaProperties=X5;function Q5({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:o,errorPath:a},it:u},c,d,f){let m=f?(0,lt._)`${e}, ${t}, ${n}${o}`:t,h=[[Eo.default.instancePath,(0,lt.strConcat)(Eo.default.instancePath,a)],[Eo.default.parentData,u.parentData],[Eo.default.parentDataProperty,u.parentDataProperty],[Eo.default.rootData,Eo.default.rootData]];u.opts.dynamicRef&&h.push([Eo.default.dynamicAnchors,Eo.default.dynamicAnchors]);let y=(0,lt._)`${m}, ${r.object(...h)}`;return d!==lt.nil?(0,lt._)`${c}.call(${d}, ${y})`:(0,lt._)`${c}(${y})`}Ye.callValidateCode=Q5;var eD=(0,lt._)`new RegExp`;function tD({gen:e,it:{opts:t}},r){let n=t.unicodeRegExp?"u":"",{regExp:o}=t.code,a=o(r,n);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,lt._)`${o.code==="new RegExp"?eD:(0,J5.useFunc)(e,o)}(${r}, ${n})`})}Ye.usePattern=tD;function rD(e){let{gen:t,data:r,keyword:n,it:o}=e,a=t.name("valid");if(o.allErrors){let c=t.let("valid",!0);return u(()=>t.assign(c,!1)),c}return t.var(a,!0),u(()=>t.break()),a;function u(c){let d=t.const("len",(0,lt._)`${r}.length`);t.forRange("i",0,d,f=>{e.subschema({keyword:n,dataProp:f,dataPropType:$g.Type.Num},a),t.if((0,lt.not)(a),c)})}}Ye.validateArray=rD;function nD(e){let{gen:t,schema:r,keyword:n,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(d=>(0,$g.alwaysValidSchema)(o,d))&&!o.opts.unevaluated)return;let u=t.let("valid",!1),c=t.name("_valid");t.block(()=>r.forEach((d,f)=>{let m=e.subschema({keyword:n,schemaProp:f,compositeRule:!0},c);t.assign(u,(0,lt._)`${u} || ${c}`),e.mergeValidEvaluated(m,c)||t.if((0,lt.not)(u))})),e.result(u,()=>e.reset(),()=>e.error(!0))}Ye.validateUnion=nD});var G1=H(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.validateKeywordUsage=Tn.validSchemaType=Tn.funcKeywordCode=Tn.macroKeywordCode=void 0;var ir=ke(),xi=Xn(),oD=Hr(),iD=As();function aD(e,t){let{gen:r,keyword:n,schema:o,parentSchema:a,it:u}=e,c=t.macro.call(u.self,o,a,u),d=W1(r,n,c);u.opts.validateSchema!==!1&&u.self.validateSchema(c,!0);let f=r.name("valid");e.subschema({schema:c,schemaPath:ir.nil,errSchemaPath:`${u.errSchemaPath}/${n}`,topSchemaRef:d,compositeRule:!0},f),e.pass(f,()=>e.error(!0))}Tn.macroKeywordCode=aD;function sD(e,t){var r;let{gen:n,keyword:o,schema:a,parentSchema:u,$data:c,it:d}=e;cD(d,t);let f=!c&&t.compile?t.compile.call(d.self,a,u,d):t.validate,m=W1(n,o,f),h=n.let("valid");e.block$data(h,y),e.ok((r=t.valid)!==null&&r!==void 0?r:h);function y(){if(t.errors===!1)$(),t.modifying&&J1(e),z(()=>e.error());else{let I=t.async?v():w();t.modifying&&J1(e),z(()=>uD(e,I))}}function v(){let I=n.let("ruleErrs",null);return n.try(()=>$((0,ir._)`await `),A=>n.assign(h,!1).if((0,ir._)`${A} instanceof ${d.ValidationError}`,()=>n.assign(I,(0,ir._)`${A}.errors`),()=>n.throw(A))),I}function w(){let I=(0,ir._)`${m}.errors`;return n.assign(I,null),$(ir.nil),I}function $(I=t.async?(0,ir._)`await `:ir.nil){let A=d.opts.passContext?xi.default.this:xi.default.self,j=!("compile"in t&&!c||t.schema===!1);n.assign(h,(0,ir._)`${I}${(0,oD.callValidateCode)(e,m,A,j)}`,t.modifying)}function z(I){var A;n.if((0,ir.not)((A=t.valid)!==null&&A!==void 0?A:h),I)}}Tn.funcKeywordCode=sD;function J1(e){let{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,ir._)`${n.parentData}[${n.parentDataProperty}]`))}function uD(e,t){let{gen:r}=e;r.if((0,ir._)`Array.isArray(${t})`,()=>{r.assign(xi.default.vErrors,(0,ir._)`${xi.default.vErrors} === null ? ${t} : ${xi.default.vErrors}.concat(${t})`).assign(xi.default.errors,(0,ir._)`${xi.default.vErrors}.length`),(0,iD.extendErrors)(e)},()=>e.error())}function cD({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function W1(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,ir.stringify)(r)})}function lD(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Tn.validSchemaType=lD;function dD({schema:e,opts:t,self:r,errSchemaPath:n},o,a){if(Array.isArray(o.keyword)?!o.keyword.includes(a):o.keyword!==a)throw new Error("ajv implementation error");let u=o.dependencies;if(u?.some(c=>!Object.prototype.hasOwnProperty.call(e,c)))throw new Error(`parent schema must have dependencies of ${a}: ${u.join(",")}`);if(o.validateSchema&&!o.validateSchema(e[a])){let d=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(o.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(d);else throw new Error(d)}}Tn.validateKeywordUsage=dD});var Y1=H(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.extendSubschemaMode=Io.extendSubschemaData=Io.getSubschema=void 0;var Pn=ke(),K1=Fe();function fD(e,{keyword:t,schemaProp:r,schema:n,schemaPath:o,errSchemaPath:a,topSchemaRef:u}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){let c=e.schema[t];return r===void 0?{schema:c,schemaPath:(0,Pn._)`${e.schemaPath}${(0,Pn.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:c[r],schemaPath:(0,Pn._)`${e.schemaPath}${(0,Pn.getProperty)(t)}${(0,Pn.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,K1.escapeFragment)(r)}`}}if(n!==void 0){if(o===void 0||a===void 0||u===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:o,topSchemaRef:u,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}Io.getSubschema=fD;function pD(e,t,{dataProp:r,dataPropType:n,data:o,dataTypes:a,propertyName:u}){if(o!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:c}=t;if(r!==void 0){let{errorPath:f,dataPathArr:m,opts:h}=t,y=c.let("data",(0,Pn._)`${t.data}${(0,Pn.getProperty)(r)}`,!0);d(y),e.errorPath=(0,Pn.str)`${f}${(0,K1.getErrorPath)(r,n,h.jsPropertySyntax)}`,e.parentDataProperty=(0,Pn._)`${r}`,e.dataPathArr=[...m,e.parentDataProperty]}if(o!==void 0){let f=o instanceof Pn.Name?o:c.let("data",o,!0);d(f),u!==void 0&&(e.propertyName=u)}a&&(e.dataTypes=a);function d(f){e.data=f,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,f]}}Io.extendSubschemaData=pD;function mD(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:o,allErrors:a}){n!==void 0&&(e.compositeRule=n),o!==void 0&&(e.createErrors=o),a!==void 0&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=r}Io.extendSubschemaMode=mD});var Sg=H((uQ,X1)=>{"use strict";X1.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,o,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(o=n;o--!==0;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[o]))return!1;for(o=n;o--!==0;){var u=a[o];if(!e(t[u],r[u]))return!1}return!0}return t!==t&&r!==r}});var e$=H((cQ,Q1)=>{"use strict";var Ro=Q1.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},o=r.post||function(){};Tl(t,n,o,e,"",e)};Ro.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Ro.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Ro.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Ro.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Tl(e,t,r,n,o,a,u,c,d,f){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,o,a,u,c,d,f);for(var m in n){var h=n[m];if(Array.isArray(h)){if(m in Ro.arrayKeywords)for(var y=0;y<h.length;y++)Tl(e,t,r,h[y],o+"/"+m+"/"+y,a,o,m,n,y)}else if(m in Ro.propsKeywords){if(h&&typeof h=="object")for(var v in h)Tl(e,t,r,h[v],o+"/"+m+"/"+hD(v),a,o,m,n,v)}else(m in Ro.keywords||e.allKeys&&!(m in Ro.skipKeywords))&&Tl(e,t,r,h,o+"/"+m,a,o,m,n)}r(n,o,a,u,c,d,f)}}function hD(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}});var Ms=H(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.getSchemaRefs=vr.resolveUrl=vr.normalizeId=vr._getFullPath=vr.getFullPath=vr.inlineRef=void 0;var gD=Fe(),yD=Sg(),_D=e$(),vD=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function bD(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Tg(e):t?t$(e)<=t:!1}vr.inlineRef=bD;var wD=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Tg(e){for(let t in e){if(wD.has(t))return!0;let r=e[t];if(Array.isArray(r)&&r.some(Tg)||typeof r=="object"&&Tg(r))return!0}return!1}function t$(e){let t=0;for(let r in e){if(r==="$ref")return 1/0;if(t++,!vD.has(r)&&(typeof e[r]=="object"&&(0,gD.eachItem)(e[r],n=>t+=t$(n)),t===1/0))return 1/0}return t}function r$(e,t="",r){r!==!1&&(t=ma(t));let n=e.parse(t);return n$(e,n)}vr.getFullPath=r$;function n$(e,t){return e.serialize(t).split("#")[0]+"#"}vr._getFullPath=n$;var xD=/#\/?$/;function ma(e){return e?e.replace(xD,""):""}vr.normalizeId=ma;function $D(e,t,r){return r=ma(r),e.resolve(t,r)}vr.resolveUrl=$D;var kD=/^[a-z_][-a-z0-9._]*$/i;function zD(e,t){if(typeof e=="boolean")return{};let{schemaId:r,uriResolver:n}=this.opts,o=ma(e[r]||t),a={"":o},u=r$(n,o,!1),c={},d=new Set;return _D(e,{allKeys:!0},(h,y,v,w)=>{if(w===void 0)return;let $=u+y,z=a[w];typeof h[r]=="string"&&(z=I.call(this,h[r])),A.call(this,h.$anchor),A.call(this,h.$dynamicAnchor),a[y]=z;function I(j){let U=this.opts.uriResolver.resolve;if(j=ma(z?U(z,j):j),d.has(j))throw m(j);d.add(j);let G=this.refs[j];return typeof G=="string"&&(G=this.refs[G]),typeof G=="object"?f(h,G.schema,j):j!==ma($)&&(j[0]==="#"?(f(h,c[j],j),c[j]=h):this.refs[j]=$),j}function A(j){if(typeof j=="string"){if(!kD.test(j))throw new Error(`invalid anchor "${j}"`);I.call(this,`#${j}`)}}}),c;function f(h,y,v){if(y!==void 0&&!yD(h,y))throw m(v)}function m(h){return new Error(`reference "${h}" resolves to more than one schema`)}}vr.getSchemaRefs=zD});var Ls=H(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.getData=Oo.KeywordCxt=Oo.validateFunctionCode=void 0;var u$=C1(),o$=Cs(),Eg=vg(),Pl=Cs(),SD=V1(),qs=G1(),Pg=Y1(),ie=ke(),me=Xn(),TD=Ms(),Qn=Fe(),Ds=As();function PD(e){if(d$(e)&&(f$(e),l$(e))){RD(e);return}c$(e,()=>(0,u$.topBoolOrEmptySchema)(e))}Oo.validateFunctionCode=PD;function c$({gen:e,validateName:t,schema:r,schemaEnv:n,opts:o},a){o.code.es5?e.func(t,(0,ie._)`${me.default.data}, ${me.default.valCxt}`,n.$async,()=>{e.code((0,ie._)`"use strict"; ${i$(r,o)}`),ID(e,o),e.code(a)}):e.func(t,(0,ie._)`${me.default.data}, ${ED(o)}`,n.$async,()=>e.code(i$(r,o)).code(a))}function ED(e){return(0,ie._)`{${me.default.instancePath}="", ${me.default.parentData}, ${me.default.parentDataProperty}, ${me.default.rootData}=${me.default.data}${e.dynamicRef?(0,ie._)`, ${me.default.dynamicAnchors}={}`:ie.nil}}={}`}function ID(e,t){e.if(me.default.valCxt,()=>{e.var(me.default.instancePath,(0,ie._)`${me.default.valCxt}.${me.default.instancePath}`),e.var(me.default.parentData,(0,ie._)`${me.default.valCxt}.${me.default.parentData}`),e.var(me.default.parentDataProperty,(0,ie._)`${me.default.valCxt}.${me.default.parentDataProperty}`),e.var(me.default.rootData,(0,ie._)`${me.default.valCxt}.${me.default.rootData}`),t.dynamicRef&&e.var(me.default.dynamicAnchors,(0,ie._)`${me.default.valCxt}.${me.default.dynamicAnchors}`)},()=>{e.var(me.default.instancePath,(0,ie._)`""`),e.var(me.default.parentData,(0,ie._)`undefined`),e.var(me.default.parentDataProperty,(0,ie._)`undefined`),e.var(me.default.rootData,me.default.data),t.dynamicRef&&e.var(me.default.dynamicAnchors,(0,ie._)`{}`)})}function RD(e){let{schema:t,opts:r,gen:n}=e;c$(e,()=>{r.$comment&&t.$comment&&m$(e),AD(e),n.let(me.default.vErrors,null),n.let(me.default.errors,0),r.unevaluated&&OD(e),p$(e),DD(e)})}function OD(e){let{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,ie._)`${r}.evaluated`),t.if((0,ie._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,ie._)`${e.evaluated}.props`,(0,ie._)`undefined`)),t.if((0,ie._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,ie._)`${e.evaluated}.items`,(0,ie._)`undefined`))}function i$(e,t){let r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,ie._)`/*# sourceURL=${r} */`:ie.nil}function ZD(e,t){if(d$(e)&&(f$(e),l$(e))){jD(e,t);return}(0,u$.boolOrEmptySchema)(e,t)}function l$({schema:e,self:t}){if(typeof e=="boolean")return!e;for(let r in e)if(t.RULES.all[r])return!0;return!1}function d$(e){return typeof e.schema!="boolean"}function jD(e,t){let{schema:r,gen:n,opts:o}=e;o.$comment&&r.$comment&&m$(e),CD(e),MD(e);let a=n.const("_errs",me.default.errors);p$(e,a),n.var(t,(0,ie._)`${a} === ${me.default.errors}`)}function f$(e){(0,Qn.checkUnknownRules)(e),ND(e)}function p$(e,t){if(e.opts.jtd)return a$(e,[],!1,t);let r=(0,o$.getSchemaTypes)(e.schema),n=(0,o$.coerceAndCheckDataType)(e,r);a$(e,r,!n,t)}function ND(e){let{schema:t,errSchemaPath:r,opts:n,self:o}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Qn.schemaHasRulesButRef)(t,o.RULES)&&o.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function AD(e){let{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Qn.checkStrictMode)(e,"default is ignored in the schema root")}function CD(e){let t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,TD.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function MD(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function m$({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:o}){let a=r.$comment;if(o.$comment===!0)e.code((0,ie._)`${me.default.self}.logger.log(${a})`);else if(typeof o.$comment=="function"){let u=(0,ie.str)`${n}/$comment`,c=e.scopeValue("root",{ref:t.root});e.code((0,ie._)`${me.default.self}.opts.$comment(${a}, ${u}, ${c}.schema)`)}}function DD(e){let{gen:t,schemaEnv:r,validateName:n,ValidationError:o,opts:a}=e;r.$async?t.if((0,ie._)`${me.default.errors} === 0`,()=>t.return(me.default.data),()=>t.throw((0,ie._)`new ${o}(${me.default.vErrors})`)):(t.assign((0,ie._)`${n}.errors`,me.default.vErrors),a.unevaluated&&qD(e),t.return((0,ie._)`${me.default.errors} === 0`))}function qD({gen:e,evaluated:t,props:r,items:n}){r instanceof ie.Name&&e.assign((0,ie._)`${t}.props`,r),n instanceof ie.Name&&e.assign((0,ie._)`${t}.items`,n)}function a$(e,t,r,n){let{gen:o,schema:a,data:u,allErrors:c,opts:d,self:f}=e,{RULES:m}=f;if(a.$ref&&(d.ignoreKeywordsWithRef||!(0,Qn.schemaHasRulesButRef)(a,m))){o.block(()=>g$(e,"$ref",m.all.$ref.definition));return}d.jtd||LD(e,t),o.block(()=>{for(let y of m.rules)h(y);h(m.post)});function h(y){(0,Eg.shouldUseGroup)(a,y)&&(y.type?(o.if((0,Pl.checkDataType)(y.type,u,d.strictNumbers)),s$(e,y),t.length===1&&t[0]===y.type&&r&&(o.else(),(0,Pl.reportTypeError)(e)),o.endIf()):s$(e,y),c||o.if((0,ie._)`${me.default.errors} === ${n||0}`))}}function s$(e,t){let{gen:r,schema:n,opts:{useDefaults:o}}=e;o&&(0,SD.assignDefaults)(e,t.type),r.block(()=>{for(let a of t.rules)(0,Eg.shouldUseRule)(n,a)&&g$(e,a.keyword,a.definition,t.type)})}function LD(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(UD(e,t),e.opts.allowUnionTypes||FD(e,t),VD(e,e.dataTypes))}function UD(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{h$(e.dataTypes,r)||Ig(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),HD(e,t)}}function FD(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Ig(e,"use allowUnionTypes to allow union type keyword")}function VD(e,t){let r=e.self.RULES.all;for(let n in r){let o=r[n];if(typeof o=="object"&&(0,Eg.shouldUseRule)(e.schema,o)){let{type:a}=o.definition;a.length&&!a.some(u=>BD(t,u))&&Ig(e,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function BD(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function h$(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function HD(e,t){let r=[];for(let n of e.dataTypes)h$(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function Ig(e,t){let r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Qn.checkStrictMode)(e,t,e.opts.strictTypes)}var El=class{constructor(t,r,n){if((0,qs.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Qn.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",y$(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,qs.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",me.default.errors))}result(t,r,n){this.failResult((0,ie.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,ie.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);let{schemaCode:r}=this;this.fail((0,ie._)`${r} !== undefined && (${(0,ie.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Ds.reportExtraError:Ds.reportError)(this,this.def.error,r)}$dataError(){(0,Ds.reportError)(this,this.def.$dataError||Ds.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Ds.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=ie.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=ie.nil,r=ie.nil){if(!this.$data)return;let{gen:n,schemaCode:o,schemaType:a,def:u}=this;n.if((0,ie.or)((0,ie._)`${o} === undefined`,r)),t!==ie.nil&&n.assign(t,!0),(a.length||u.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==ie.nil&&n.assign(t,!1)),n.else()}invalid$data(){let{gen:t,schemaCode:r,schemaType:n,def:o,it:a}=this;return(0,ie.or)(u(),c());function u(){if(n.length){if(!(r instanceof ie.Name))throw new Error("ajv implementation error");let d=Array.isArray(n)?n:[n];return(0,ie._)`${(0,Pl.checkDataTypes)(d,r,a.opts.strictNumbers,Pl.DataType.Wrong)}`}return ie.nil}function c(){if(o.validateSchema){let d=t.scopeValue("validate$data",{ref:o.validateSchema});return(0,ie._)`!${d}(${r})`}return ie.nil}}subschema(t,r){let n=(0,Pg.getSubschema)(this.it,t);(0,Pg.extendSubschemaData)(n,this.it,t),(0,Pg.extendSubschemaMode)(n,t);let o={...this.it,...n,items:void 0,props:void 0};return ZD(o,r),o}mergeEvaluated(t,r){let{it:n,gen:o}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Qn.mergeEvaluated.props(o,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Qn.mergeEvaluated.items(o,t.items,n.items,r)))}mergeValidEvaluated(t,r){let{it:n,gen:o}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return o.if(r,()=>this.mergeEvaluated(t,ie.Name)),!0}};Oo.KeywordCxt=El;function g$(e,t,r,n){let o=new El(e,r,t);"code"in r?r.code(o,n):o.$data&&r.validate?(0,qs.funcKeywordCode)(o,r):"macro"in r?(0,qs.macroKeywordCode)(o,r):(r.compile||r.validate)&&(0,qs.funcKeywordCode)(o,r)}var JD=/^\/(?:[^~]|~0|~1)*$/,WD=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function y$(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let o,a;if(e==="")return me.default.rootData;if(e[0]==="/"){if(!JD.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);o=e,a=me.default.rootData}else{let f=WD.exec(e);if(!f)throw new Error(`Invalid JSON-pointer: ${e}`);let m=+f[1];if(o=f[2],o==="#"){if(m>=t)throw new Error(d("property/index",m));return n[t-m]}if(m>t)throw new Error(d("data",m));if(a=r[t-m],!o)return a}let u=a,c=o.split("/");for(let f of c)f&&(a=(0,ie._)`${a}${(0,ie.getProperty)((0,Qn.unescapeJsonPointer)(f))}`,u=(0,ie._)`${u} && ${a}`);return u;function d(f,m){return`Cannot access ${f} ${m} levels up, current level is ${t}`}}Oo.getData=y$});var Il=H(Og=>{"use strict";Object.defineProperty(Og,"__esModule",{value:!0});var Rg=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};Og.default=Rg});var Us=H(Ng=>{"use strict";Object.defineProperty(Ng,"__esModule",{value:!0});var Zg=Ms(),jg=class extends Error{constructor(t,r,n,o){super(o||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Zg.resolveUrl)(t,r,n),this.missingSchema=(0,Zg.normalizeId)((0,Zg.getFullPath)(t,this.missingRef))}};Ng.default=jg});var Ol=H(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.resolveSchema=Jr.getCompilingSchema=Jr.resolveRef=Jr.compileSchema=Jr.SchemaEnv=void 0;var fn=ke(),GD=Il(),$i=Xn(),pn=Ms(),_$=Fe(),KD=Ls(),ha=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,pn.normalizeId)(n?.[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n?.$async,this.refs={}}};Jr.SchemaEnv=ha;function Cg(e){let t=v$.call(this,e);if(t)return t;let r=(0,pn.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:o}=this.opts.code,{ownProperties:a}=this.opts,u=new fn.CodeGen(this.scope,{es5:n,lines:o,ownProperties:a}),c;e.$async&&(c=u.scopeValue("Error",{ref:GD.default,code:(0,fn._)`require("ajv/dist/runtime/validation_error").default`}));let d=u.scopeName("validate");e.validateName=d;let f={gen:u,allErrors:this.opts.allErrors,data:$i.default.data,parentData:$i.default.parentData,parentDataProperty:$i.default.parentDataProperty,dataNames:[$i.default.data],dataPathArr:[fn.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:u.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,fn.stringify)(e.schema)}:{ref:e.schema}),validateName:d,ValidationError:c,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:fn.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,fn._)`""`,opts:this.opts,self:this},m;try{this._compilations.add(e),(0,KD.validateFunctionCode)(f),u.optimize(this.opts.code.optimize);let h=u.toString();m=`${u.scopeRefs($i.default.scope)}return ${h}`,this.opts.code.process&&(m=this.opts.code.process(m,e));let v=new Function(`${$i.default.self}`,`${$i.default.scope}`,m)(this,this.scope.get());if(this.scope.value(d,{ref:v}),v.errors=null,v.schema=e.schema,v.schemaEnv=e,e.$async&&(v.$async=!0),this.opts.code.source===!0&&(v.source={validateName:d,validateCode:h,scopeValues:u._values}),this.opts.unevaluated){let{props:w,items:$}=f;v.evaluated={props:w instanceof fn.Name?void 0:w,items:$ instanceof fn.Name?void 0:$,dynamicProps:w instanceof fn.Name,dynamicItems:$ instanceof fn.Name},v.source&&(v.source.evaluated=(0,fn.stringify)(v.evaluated))}return e.validate=v,e}catch(h){throw delete e.validate,delete e.validateName,m&&this.logger.error("Error compiling schema, function code:",m),h}finally{this._compilations.delete(e)}}Jr.compileSchema=Cg;function YD(e,t,r){var n;r=(0,pn.resolveUrl)(this.opts.uriResolver,t,r);let o=e.refs[r];if(o)return o;let a=eq.call(this,e,r);if(a===void 0){let u=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:c}=this.opts;u&&(a=new ha({schema:u,schemaId:c,root:e,baseId:t}))}if(a!==void 0)return e.refs[r]=XD.call(this,a)}Jr.resolveRef=YD;function XD(e){return(0,pn.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Cg.call(this,e)}function v$(e){for(let t of this._compilations)if(QD(t,e))return t}Jr.getCompilingSchema=v$;function QD(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function eq(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Rl.call(this,e,t)}function Rl(e,t){let r=this.opts.uriResolver.parse(t),n=(0,pn._getFullPath)(this.opts.uriResolver,r),o=(0,pn.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===o)return Ag.call(this,r,e);let a=(0,pn.normalizeId)(n),u=this.refs[a]||this.schemas[a];if(typeof u=="string"){let c=Rl.call(this,e,u);return typeof c?.schema!="object"?void 0:Ag.call(this,r,c)}if(typeof u?.schema=="object"){if(u.validate||Cg.call(this,u),a===(0,pn.normalizeId)(t)){let{schema:c}=u,{schemaId:d}=this.opts,f=c[d];return f&&(o=(0,pn.resolveUrl)(this.opts.uriResolver,o,f)),new ha({schema:c,schemaId:d,root:e,baseId:o})}return Ag.call(this,r,u)}}Jr.resolveSchema=Rl;var tq=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Ag(e,{baseId:t,schema:r,root:n}){var o;if(((o=e.fragment)===null||o===void 0?void 0:o[0])!=="/")return;for(let c of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let d=r[(0,_$.unescapeFragment)(c)];if(d===void 0)return;r=d;let f=typeof r=="object"&&r[this.opts.schemaId];!tq.has(c)&&f&&(t=(0,pn.resolveUrl)(this.opts.uriResolver,t,f))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,_$.schemaHasRulesButRef)(r,this.RULES)){let c=(0,pn.resolveUrl)(this.opts.uriResolver,t,r.$ref);a=Rl.call(this,n,c)}let{schemaId:u}=this.opts;if(a=a||new ha({schema:r,schemaId:u,root:n,baseId:t}),a.schema!==a.root.schema)return a}});var b$=H((hQ,rq)=>{rq.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var Dg=H((gQ,k$)=>{"use strict";var nq=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),x$=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function Mg(e){let t="",r=0,n=0;for(n=0;n<e.length;n++)if(r=e[n].charCodeAt(0),r!==48){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n];break}for(n+=1;n<e.length;n++){if(r=e[n].charCodeAt(0),!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n]}return t}var oq=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function w$(e){return e.length=0,!0}function iq(e,t,r){if(e.length){let n=Mg(e);if(n!=="")t.push(n);else return r.error=!0,!1;e.length=0}return!0}function aq(e){let t=0,r={error:!1,address:"",zone:""},n=[],o=[],a=!1,u=!1,c=iq;for(let d=0;d<e.length;d++){let f=e[d];if(!(f==="["||f==="]"))if(f===":"){if(a===!0&&(u=!0),!c(o,n,r))break;if(++t>7){r.error=!0;break}d>0&&e[d-1]===":"&&(a=!0),n.push(":");continue}else if(f==="%"){if(!c(o,n,r))break;c=w$}else{o.push(f);continue}}return o.length&&(c===w$?r.zone=o.join(""):u?n.push(o.join("")):n.push(Mg(o))),r.address=n.join(""),r}function $$(e){if(sq(e,":")<2)return{host:e,isIPV6:!1};let t=aq(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,isIPV6:!0,escapedHost:n}}}function sq(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}function uq(e){let t=e,r=[],n=-1,o=0;for(;o=t.length;){if(o===1){if(t===".")break;if(t==="/"){r.push("/");break}else{r.push(t);break}}else if(o===2){if(t[0]==="."){if(t[1]===".")break;if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&(t[1]==="."||t[1]==="/")){r.push("/");break}}else if(o===3&&t==="/.."){r.length!==0&&r.pop(),r.push("/");break}if(t[0]==="."){if(t[1]==="."){if(t[2]==="/"){t=t.slice(3);continue}}else if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&t[1]==="."){if(t[2]==="/"){t=t.slice(2);continue}else if(t[2]==="."&&t[3]==="/"){t=t.slice(3),r.length!==0&&r.pop();continue}}if((n=t.indexOf("/",1))===-1){r.push(t);break}else r.push(t.slice(0,n)),t=t.slice(n)}return r.join("")}function cq(e,t){let r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function lq(e){let t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host);if(!x$(r)){let n=$$(r);n.isIPV6===!0?r=`[${n.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}k$.exports={nonSimpleDomain:oq,recomposeAuthority:lq,normalizeComponentEncoding:cq,removeDotSegments:uq,isIPv4:x$,isUUID:nq,normalizeIPv6:$$,stringArrayToHexStripped:Mg}});var E$=H((yQ,P$)=>{"use strict";var{isUUID:dq}=Dg(),fq=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,pq=["http","https","ws","wss","urn","urn:uuid"];function mq(e){return pq.indexOf(e)!==-1}function qg(e){return e.secure===!0?!0:e.secure===!1?!1:e.scheme?e.scheme.length===3&&(e.scheme[0]==="w"||e.scheme[0]==="W")&&(e.scheme[1]==="s"||e.scheme[1]==="S")&&(e.scheme[2]==="s"||e.scheme[2]==="S"):!1}function z$(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function S$(e){let t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function hq(e){return e.secure=qg(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function gq(e){if((e.port===(qg(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){let[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function yq(e,t){if(!e.path)return e.error="URN can not be parsed",e;let r=e.path.match(fq);if(r){let n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];let o=`${n}:${t.nid||e.nid}`,a=Lg(o);e.path=void 0,a&&(e=a.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function _q(e,t){if(e.nid===void 0)throw new Error("URN without nid cannot be serialized");let r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),o=`${r}:${t.nid||n}`,a=Lg(o);a&&(e=a.serialize(e,t));let u=e,c=e.nss;return u.path=`${n||t.nid}:${c}`,t.skipEscape=!0,u}function vq(e,t){let r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!dq(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function bq(e){let t=e;return t.nss=(e.uuid||"").toLowerCase(),t}var T$={scheme:"http",domainHost:!0,parse:z$,serialize:S$},wq={scheme:"https",domainHost:T$.domainHost,parse:z$,serialize:S$},Zl={scheme:"ws",domainHost:!0,parse:hq,serialize:gq},xq={scheme:"wss",domainHost:Zl.domainHost,parse:Zl.parse,serialize:Zl.serialize},$q={scheme:"urn",parse:yq,serialize:_q,skipNormalize:!0},kq={scheme:"urn:uuid",parse:vq,serialize:bq,skipNormalize:!0},jl={http:T$,https:wq,ws:Zl,wss:xq,urn:$q,"urn:uuid":kq};Object.setPrototypeOf(jl,null);function Lg(e){return e&&(jl[e]||jl[e.toLowerCase()])||void 0}P$.exports={wsIsSecure:qg,SCHEMES:jl,isValidSchemeName:mq,getSchemeHandler:Lg}});var O$=H((_Q,Al)=>{"use strict";var{normalizeIPv6:zq,removeDotSegments:Fs,recomposeAuthority:Sq,normalizeComponentEncoding:Nl,isIPv4:Tq,nonSimpleDomain:Pq}=Dg(),{SCHEMES:Eq,getSchemeHandler:I$}=E$();function Iq(e,t){return typeof e=="string"?e=En(eo(e,t),t):typeof e=="object"&&(e=eo(En(e,t),t)),e}function Rq(e,t,r){let n=r?Object.assign({scheme:"null"},r):{scheme:"null"},o=R$(eo(e,n),eo(t,n),n,!0);return n.skipEscape=!0,En(o,n)}function R$(e,t,r,n){let o={};return n||(e=eo(En(e,r),r),t=eo(En(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(o.scheme=t.scheme,o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=Fs(t.path||""),o.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=Fs(t.path||""),o.query=t.query):(t.path?(t.path[0]==="/"?o.path=Fs(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?o.path="/"+t.path:e.path?o.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:o.path=t.path,o.path=Fs(o.path)),o.query=t.query):(o.path=e.path,t.query!==void 0?o.query=t.query:o.query=e.query),o.userinfo=e.userinfo,o.host=e.host,o.port=e.port),o.scheme=e.scheme),o.fragment=t.fragment,o}function Oq(e,t,r){return typeof e=="string"?(e=unescape(e),e=En(Nl(eo(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=En(Nl(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=En(Nl(eo(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=En(Nl(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function En(e,t){let r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),o=[],a=I$(n.scheme||r.scheme);a&&a.serialize&&a.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&o.push(r.scheme,":");let u=Sq(r);if(u!==void 0&&(n.reference!=="suffix"&&o.push("//"),o.push(u),r.path&&r.path[0]!=="/"&&o.push("/")),r.path!==void 0){let c=r.path;!n.absolutePath&&(!a||!a.absolutePath)&&(c=Fs(c)),u===void 0&&c[0]==="/"&&c[1]==="/"&&(c="/%2F"+c.slice(2)),o.push(c)}return r.query!==void 0&&o.push("?",r.query),r.fragment!==void 0&&o.push("#",r.fragment),o.join("")}var Zq=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function eo(e,t){let r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},o=!1;r.reference==="suffix"&&(r.scheme?e=r.scheme+":"+e:e="//"+e);let a=e.match(Zq);if(a){if(n.scheme=a[1],n.userinfo=a[3],n.host=a[4],n.port=parseInt(a[5],10),n.path=a[6]||"",n.query=a[7],n.fragment=a[8],isNaN(n.port)&&(n.port=a[5]),n.host)if(Tq(n.host)===!1){let d=zq(n.host);n.host=d.host.toLowerCase(),o=d.isIPV6}else o=!0;n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");let u=I$(r.scheme||n.scheme);if(!r.unicodeSupport&&(!u||!u.unicodeSupport)&&n.host&&(r.domainHost||u&&u.domainHost)&&o===!1&&Pq(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(c){n.error=n.error||"Host's domain name can not be converted to ASCII: "+c}(!u||u&&!u.skipNormalize)&&(e.indexOf("%")!==-1&&(n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),n.host!==void 0&&(n.host=unescape(n.host))),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),u&&u.parse&&u.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}var Ug={SCHEMES:Eq,normalize:Iq,resolve:Rq,resolveComponent:R$,equal:Oq,serialize:En,parse:eo};Al.exports=Ug;Al.exports.default=Ug;Al.exports.fastUri=Ug});var j$=H(Fg=>{"use strict";Object.defineProperty(Fg,"__esModule",{value:!0});var Z$=O$();Z$.code='require("ajv/dist/runtime/uri").default';Fg.default=Z$});var U$=H(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.CodeGen=Ut.Name=Ut.nil=Ut.stringify=Ut.str=Ut._=Ut.KeywordCxt=void 0;var jq=Ls();Object.defineProperty(Ut,"KeywordCxt",{enumerable:!0,get:function(){return jq.KeywordCxt}});var ga=ke();Object.defineProperty(Ut,"_",{enumerable:!0,get:function(){return ga._}});Object.defineProperty(Ut,"str",{enumerable:!0,get:function(){return ga.str}});Object.defineProperty(Ut,"stringify",{enumerable:!0,get:function(){return ga.stringify}});Object.defineProperty(Ut,"nil",{enumerable:!0,get:function(){return ga.nil}});Object.defineProperty(Ut,"Name",{enumerable:!0,get:function(){return ga.Name}});Object.defineProperty(Ut,"CodeGen",{enumerable:!0,get:function(){return ga.CodeGen}});var Nq=Il(),D$=Us(),Aq=_g(),Vs=Ol(),Cq=ke(),Bs=Ms(),Cl=Cs(),Bg=Fe(),N$=b$(),Mq=j$(),q$=(e,t)=>new RegExp(e,t);q$.code="new RegExp";var Dq=["removeAdditional","useDefaults","coerceTypes"],qq=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Lq={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Uq={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},A$=200;function Fq(e){var t,r,n,o,a,u,c,d,f,m,h,y,v,w,$,z,I,A,j,U,G,te,X,he,Je;let tt=e.strict,wr=(t=e.code)===null||t===void 0?void 0:t.optimize,vu=wr===!0||wr===void 0?1:wr||0,bu=(n=(r=e.code)===null||r===void 0?void 0:r.regExp)!==null&&n!==void 0?n:q$,wu=(o=e.uriResolver)!==null&&o!==void 0?o:Mq.default;return{strictSchema:(u=(a=e.strictSchema)!==null&&a!==void 0?a:tt)!==null&&u!==void 0?u:!0,strictNumbers:(d=(c=e.strictNumbers)!==null&&c!==void 0?c:tt)!==null&&d!==void 0?d:!0,strictTypes:(m=(f=e.strictTypes)!==null&&f!==void 0?f:tt)!==null&&m!==void 0?m:"log",strictTuples:(y=(h=e.strictTuples)!==null&&h!==void 0?h:tt)!==null&&y!==void 0?y:"log",strictRequired:(w=(v=e.strictRequired)!==null&&v!==void 0?v:tt)!==null&&w!==void 0?w:!1,code:e.code?{...e.code,optimize:vu,regExp:bu}:{optimize:vu,regExp:bu},loopRequired:($=e.loopRequired)!==null&&$!==void 0?$:A$,loopEnum:(z=e.loopEnum)!==null&&z!==void 0?z:A$,meta:(I=e.meta)!==null&&I!==void 0?I:!0,messages:(A=e.messages)!==null&&A!==void 0?A:!0,inlineRefs:(j=e.inlineRefs)!==null&&j!==void 0?j:!0,schemaId:(U=e.schemaId)!==null&&U!==void 0?U:"$id",addUsedSchema:(G=e.addUsedSchema)!==null&&G!==void 0?G:!0,validateSchema:(te=e.validateSchema)!==null&&te!==void 0?te:!0,validateFormats:(X=e.validateFormats)!==null&&X!==void 0?X:!0,unicodeRegExp:(he=e.unicodeRegExp)!==null&&he!==void 0?he:!0,int32range:(Je=e.int32range)!==null&&Je!==void 0?Je:!0,uriResolver:wu}}var Hs=class{constructor(t={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,t=this.opts={...t,...Fq(t)};let{es5:r,lines:n}=this.opts.code;this.scope=new Cq.ValueScope({scope:{},prefixes:qq,es5:r,lines:n}),this.logger=Gq(t.logger);let o=t.validateFormats;t.validateFormats=!1,this.RULES=(0,Aq.getRules)(),C$.call(this,Lq,t,"NOT SUPPORTED"),C$.call(this,Uq,t,"DEPRECATED","warn"),this._metaOpts=Jq.call(this),t.formats&&Bq.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),t.keywords&&Hq.call(this,t.keywords),typeof t.meta=="object"&&this.addMetaSchema(t.meta),Vq.call(this),t.validateFormats=o}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:t,meta:r,schemaId:n}=this.opts,o=N$;n==="id"&&(o={...N$},o.id=o.$id,delete o.$id),r&&t&&this.addMetaSchema(o,o[n],!1)}defaultMeta(){let{meta:t,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof t=="object"?t[r]||t:void 0}validate(t,r){let n;if(typeof t=="string"){if(n=this.getSchema(t),!n)throw new Error(`no schema with key or ref "${t}"`)}else n=this.compile(t);let o=n(r);return"$async"in n||(this.errors=n.errors),o}compile(t,r){let n=this._addSchema(t,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(t,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return o.call(this,t,r);async function o(m,h){await a.call(this,m.$schema);let y=this._addSchema(m,h);return y.validate||u.call(this,y)}async function a(m){m&&!this.getSchema(m)&&await o.call(this,{$ref:m},!0)}async function u(m){try{return this._compileSchemaEnv(m)}catch(h){if(!(h instanceof D$.default))throw h;return c.call(this,h),await d.call(this,h.missingSchema),u.call(this,m)}}function c({missingSchema:m,missingRef:h}){if(this.refs[m])throw new Error(`AnySchema ${m} is loaded but ${h} cannot be resolved`)}async function d(m){let h=await f.call(this,m);this.refs[m]||await a.call(this,h.$schema),this.refs[m]||this.addSchema(h,m,r)}async function f(m){let h=this._loading[m];if(h)return h;try{return await(this._loading[m]=n(m))}finally{delete this._loading[m]}}}addSchema(t,r,n,o=this.opts.validateSchema){if(Array.isArray(t)){for(let u of t)this.addSchema(u,void 0,n,o);return this}let a;if(typeof t=="object"){let{schemaId:u}=this.opts;if(a=t[u],a!==void 0&&typeof a!="string")throw new Error(`schema ${u} must be string`)}return r=(0,Bs.normalizeId)(r||a),this._checkUnique(r),this.schemas[r]=this._addSchema(t,n,r,o,!0),this}addMetaSchema(t,r,n=this.opts.validateSchema){return this.addSchema(t,r,!0,n),this}validateSchema(t,r){if(typeof t=="boolean")return!0;let n;if(n=t.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let o=this.validate(n,t);if(!o&&r){let a="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(a);else throw new Error(a)}return o}getSchema(t){let r;for(;typeof(r=M$.call(this,t))=="string";)t=r;if(r===void 0){let{schemaId:n}=this.opts,o=new Vs.SchemaEnv({schema:{},schemaId:n});if(r=Vs.resolveSchema.call(this,o,t),!r)return;this.refs[t]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(t){if(t instanceof RegExp)return this._removeAllSchemas(this.schemas,t),this._removeAllSchemas(this.refs,t),this;switch(typeof t){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=M$.call(this,t);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[t],delete this.refs[t],this}case"object":{let r=t;this._cache.delete(r);let n=t[this.opts.schemaId];return n&&(n=(0,Bs.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(t){for(let r of t)this.addKeyword(r);return this}addKeyword(t,r){let n;if(typeof t=="string")n=t,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof t=="object"&&r===void 0){if(r=t,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Yq.call(this,n,r),!r)return(0,Bg.eachItem)(n,a=>Vg.call(this,a)),this;Qq.call(this,r);let o={...r,type:(0,Cl.getJSONTypes)(r.type),schemaType:(0,Cl.getJSONTypes)(r.schemaType)};return(0,Bg.eachItem)(n,o.type.length===0?a=>Vg.call(this,a,o):a=>o.type.forEach(u=>Vg.call(this,a,o,u))),this}getKeyword(t){let r=this.RULES.all[t];return typeof r=="object"?r.definition:!!r}removeKeyword(t){let{RULES:r}=this;delete r.keywords[t],delete r.all[t];for(let n of r.rules){let o=n.rules.findIndex(a=>a.keyword===t);o>=0&&n.rules.splice(o,1)}return this}addFormat(t,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[t]=r,this}errorsText(t=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!t||t.length===0?"No errors":t.map(o=>`${n}${o.instancePath} ${o.message}`).reduce((o,a)=>o+r+a)}$dataMetaSchema(t,r){let n=this.RULES.all;t=JSON.parse(JSON.stringify(t));for(let o of r){let a=o.split("/").slice(1),u=t;for(let c of a)u=u[c];for(let c in n){let d=n[c];if(typeof d!="object")continue;let{$data:f}=d.definition,m=u[c];f&&m&&(u[c]=L$(m))}}return t}_removeAllSchemas(t,r){for(let n in t){let o=t[n];(!r||r.test(n))&&(typeof o=="string"?delete t[n]:o&&!o.meta&&(this._cache.delete(o.schema),delete t[n]))}}_addSchema(t,r,n,o=this.opts.validateSchema,a=this.opts.addUsedSchema){let u,{schemaId:c}=this.opts;if(typeof t=="object")u=t[c];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof t!="boolean")throw new Error("schema must be object or boolean")}let d=this._cache.get(t);if(d!==void 0)return d;n=(0,Bs.normalizeId)(u||n);let f=Bs.getSchemaRefs.call(this,t,n);return d=new Vs.SchemaEnv({schema:t,schemaId:c,meta:r,baseId:n,localRefs:f}),this._cache.set(d.schema,d),a&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=d),o&&this.validateSchema(t,!0),d}_checkUnique(t){if(this.schemas[t]||this.refs[t])throw new Error(`schema with key or id "${t}" already exists`)}_compileSchemaEnv(t){if(t.meta?this._compileMetaSchema(t):Vs.compileSchema.call(this,t),!t.validate)throw new Error("ajv implementation error");return t.validate}_compileMetaSchema(t){let r=this.opts;this.opts=this._metaOpts;try{Vs.compileSchema.call(this,t)}finally{this.opts=r}}};Hs.ValidationError=Nq.default;Hs.MissingRefError=D$.default;Ut.default=Hs;function C$(e,t,r,n="error"){for(let o in e){let a=o;a in t&&this.logger[n](`${r}: option ${o}. ${e[a]}`)}}function M$(e){return e=(0,Bs.normalizeId)(e),this.schemas[e]||this.refs[e]}function Vq(){let e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(let t in e)this.addSchema(e[t],t)}function Bq(){for(let e in this.opts.formats){let t=this.opts.formats[e];t&&this.addFormat(e,t)}}function Hq(e){if(Array.isArray(e)){this.addVocabulary(e);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let t in e){let r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}function Jq(){let e={...this.opts};for(let t of Dq)delete e[t];return e}var Wq={log(){},warn(){},error(){}};function Gq(e){if(e===!1)return Wq;if(e===void 0)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}var Kq=/^[a-z_$][a-z0-9_$:-]*$/i;function Yq(e,t){let{RULES:r}=this;if((0,Bg.eachItem)(e,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!Kq.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!t&&t.$data&&!("code"in t||"validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function Vg(e,t,r){var n;let o=t?.post;if(r&&o)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:a}=this,u=o?a.post:a.rules.find(({type:d})=>d===r);if(u||(u={type:r,rules:[]},a.rules.push(u)),a.keywords[e]=!0,!t)return;let c={keyword:e,definition:{...t,type:(0,Cl.getJSONTypes)(t.type),schemaType:(0,Cl.getJSONTypes)(t.schemaType)}};t.before?Xq.call(this,u,c,t.before):u.rules.push(c),a.all[e]=c,(n=t.implements)===null||n===void 0||n.forEach(d=>this.addKeyword(d))}function Xq(e,t,r){let n=e.rules.findIndex(o=>o.keyword===r);n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function Qq(e){let{metaSchema:t}=e;t!==void 0&&(e.$data&&this.opts.$data&&(t=L$(t)),e.validateSchema=this.compile(t,!0))}var e6={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function L$(e){return{anyOf:[e,e6]}}});var F$=H(Hg=>{"use strict";Object.defineProperty(Hg,"__esModule",{value:!0});var t6={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Hg.default=t6});var J$=H(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.callRef=ki.getValidate=void 0;var r6=Us(),V$=Hr(),br=ke(),ya=Xn(),B$=Ol(),Ml=Fe(),n6={keyword:"$ref",schemaType:"string",code(e){let{gen:t,schema:r,it:n}=e,{baseId:o,schemaEnv:a,validateName:u,opts:c,self:d}=n,{root:f}=a;if((r==="#"||r==="#/")&&o===f.baseId)return h();let m=B$.resolveRef.call(d,f,o,r);if(m===void 0)throw new r6.default(n.opts.uriResolver,o,r);if(m instanceof B$.SchemaEnv)return y(m);return v(m);function h(){if(a===f)return Dl(e,u,a,a.$async);let w=t.scopeValue("root",{ref:f});return Dl(e,(0,br._)`${w}.validate`,f,f.$async)}function y(w){let $=H$(e,w);Dl(e,$,w,w.$async)}function v(w){let $=t.scopeValue("schema",c.code.source===!0?{ref:w,code:(0,br.stringify)(w)}:{ref:w}),z=t.name("valid"),I=e.subschema({schema:w,dataTypes:[],schemaPath:br.nil,topSchemaRef:$,errSchemaPath:r},z);e.mergeEvaluated(I),e.ok(z)}}};function H$(e,t){let{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,br._)`${r.scopeValue("wrapper",{ref:t})}.validate`}ki.getValidate=H$;function Dl(e,t,r,n){let{gen:o,it:a}=e,{allErrors:u,schemaEnv:c,opts:d}=a,f=d.passContext?ya.default.this:br.nil;n?m():h();function m(){if(!c.$async)throw new Error("async schema referenced by sync schema");let w=o.let("valid");o.try(()=>{o.code((0,br._)`await ${(0,V$.callValidateCode)(e,t,f)}`),v(t),u||o.assign(w,!0)},$=>{o.if((0,br._)`!(${$} instanceof ${a.ValidationError})`,()=>o.throw($)),y($),u||o.assign(w,!1)}),e.ok(w)}function h(){e.result((0,V$.callValidateCode)(e,t,f),()=>v(t),()=>y(t))}function y(w){let $=(0,br._)`${w}.errors`;o.assign(ya.default.vErrors,(0,br._)`${ya.default.vErrors} === null ? ${$} : ${ya.default.vErrors}.concat(${$})`),o.assign(ya.default.errors,(0,br._)`${ya.default.vErrors}.length`)}function v(w){var $;if(!a.opts.unevaluated)return;let z=($=r?.validate)===null||$===void 0?void 0:$.evaluated;if(a.props!==!0)if(z&&!z.dynamicProps)z.props!==void 0&&(a.props=Ml.mergeEvaluated.props(o,z.props,a.props));else{let I=o.var("props",(0,br._)`${w}.evaluated.props`);a.props=Ml.mergeEvaluated.props(o,I,a.props,br.Name)}if(a.items!==!0)if(z&&!z.dynamicItems)z.items!==void 0&&(a.items=Ml.mergeEvaluated.items(o,z.items,a.items));else{let I=o.var("items",(0,br._)`${w}.evaluated.items`);a.items=Ml.mergeEvaluated.items(o,I,a.items,br.Name)}}}ki.callRef=Dl;ki.default=n6});var W$=H(Jg=>{"use strict";Object.defineProperty(Jg,"__esModule",{value:!0});var o6=F$(),i6=J$(),a6=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",o6.default,i6.default];Jg.default=a6});var G$=H(Wg=>{"use strict";Object.defineProperty(Wg,"__esModule",{value:!0});var ql=ke(),Zo=ql.operators,Ll={maximum:{okStr:"<=",ok:Zo.LTE,fail:Zo.GT},minimum:{okStr:">=",ok:Zo.GTE,fail:Zo.LT},exclusiveMaximum:{okStr:"<",ok:Zo.LT,fail:Zo.GTE},exclusiveMinimum:{okStr:">",ok:Zo.GT,fail:Zo.LTE}},s6={message:({keyword:e,schemaCode:t})=>(0,ql.str)`must be ${Ll[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,ql._)`{comparison: ${Ll[e].okStr}, limit: ${t}}`},u6={keyword:Object.keys(Ll),type:"number",schemaType:"number",$data:!0,error:s6,code(e){let{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,ql._)`${r} ${Ll[t].fail} ${n} || isNaN(${r})`)}};Wg.default=u6});var K$=H(Gg=>{"use strict";Object.defineProperty(Gg,"__esModule",{value:!0});var Js=ke(),c6={message:({schemaCode:e})=>(0,Js.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Js._)`{multipleOf: ${e}}`},l6={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:c6,code(e){let{gen:t,data:r,schemaCode:n,it:o}=e,a=o.opts.multipleOfPrecision,u=t.let("res"),c=a?(0,Js._)`Math.abs(Math.round(${u}) - ${u}) > 1e-${a}`:(0,Js._)`${u} !== parseInt(${u})`;e.fail$data((0,Js._)`(${n} === 0 || (${u} = ${r}/${n}, ${c}))`)}};Gg.default=l6});var X$=H(Kg=>{"use strict";Object.defineProperty(Kg,"__esModule",{value:!0});function Y$(e){let t=e.length,r=0,n=0,o;for(;n<t;)r++,o=e.charCodeAt(n++),o>=55296&&o<=56319&&n<t&&(o=e.charCodeAt(n),(o&64512)===56320&&n++);return r}Kg.default=Y$;Y$.code='require("ajv/dist/runtime/ucs2length").default'});var Q$=H(Yg=>{"use strict";Object.defineProperty(Yg,"__esModule",{value:!0});var zi=ke(),d6=Fe(),f6=X$(),p6={message({keyword:e,schemaCode:t}){let r=e==="maxLength"?"more":"fewer";return(0,zi.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,zi._)`{limit: ${e}}`},m6={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:p6,code(e){let{keyword:t,data:r,schemaCode:n,it:o}=e,a=t==="maxLength"?zi.operators.GT:zi.operators.LT,u=o.opts.unicode===!1?(0,zi._)`${r}.length`:(0,zi._)`${(0,d6.useFunc)(e.gen,f6.default)}(${r})`;e.fail$data((0,zi._)`${u} ${a} ${n}`)}};Yg.default=m6});var ek=H(Xg=>{"use strict";Object.defineProperty(Xg,"__esModule",{value:!0});var h6=Hr(),Ul=ke(),g6={message:({schemaCode:e})=>(0,Ul.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Ul._)`{pattern: ${e}}`},y6={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:g6,code(e){let{data:t,$data:r,schema:n,schemaCode:o,it:a}=e,u=a.opts.unicodeRegExp?"u":"",c=r?(0,Ul._)`(new RegExp(${o}, ${u}))`:(0,h6.usePattern)(e,n);e.fail$data((0,Ul._)`!${c}.test(${t})`)}};Xg.default=y6});var tk=H(Qg=>{"use strict";Object.defineProperty(Qg,"__esModule",{value:!0});var Ws=ke(),_6={message({keyword:e,schemaCode:t}){let r=e==="maxProperties"?"more":"fewer";return(0,Ws.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Ws._)`{limit: ${e}}`},v6={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:_6,code(e){let{keyword:t,data:r,schemaCode:n}=e,o=t==="maxProperties"?Ws.operators.GT:Ws.operators.LT;e.fail$data((0,Ws._)`Object.keys(${r}).length ${o} ${n}`)}};Qg.default=v6});var rk=H(ey=>{"use strict";Object.defineProperty(ey,"__esModule",{value:!0});var Gs=Hr(),Ks=ke(),b6=Fe(),w6={message:({params:{missingProperty:e}})=>(0,Ks.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Ks._)`{missingProperty: ${e}}`},x6={keyword:"required",type:"object",schemaType:"array",$data:!0,error:w6,code(e){let{gen:t,schema:r,schemaCode:n,data:o,$data:a,it:u}=e,{opts:c}=u;if(!a&&r.length===0)return;let d=r.length>=c.loopRequired;if(u.allErrors?f():m(),c.strictRequired){let v=e.parentSchema.properties,{definedProperties:w}=e.it;for(let $ of r)if(v?.[$]===void 0&&!w.has($)){let z=u.schemaEnv.baseId+u.errSchemaPath,I=`required property "${$}" is not defined at "${z}" (strictRequired)`;(0,b6.checkStrictMode)(u,I,u.opts.strictRequired)}}function f(){if(d||a)e.block$data(Ks.nil,h);else for(let v of r)(0,Gs.checkReportMissingProp)(e,v)}function m(){let v=t.let("missing");if(d||a){let w=t.let("valid",!0);e.block$data(w,()=>y(v,w)),e.ok(w)}else t.if((0,Gs.checkMissingProp)(e,r,v)),(0,Gs.reportMissingProp)(e,v),t.else()}function h(){t.forOf("prop",n,v=>{e.setParams({missingProperty:v}),t.if((0,Gs.noPropertyInData)(t,o,v,c.ownProperties),()=>e.error())})}function y(v,w){e.setParams({missingProperty:v}),t.forOf(v,n,()=>{t.assign(w,(0,Gs.propertyInData)(t,o,v,c.ownProperties)),t.if((0,Ks.not)(w),()=>{e.error(),t.break()})},Ks.nil)}}};ey.default=x6});var nk=H(ty=>{"use strict";Object.defineProperty(ty,"__esModule",{value:!0});var Ys=ke(),$6={message({keyword:e,schemaCode:t}){let r=e==="maxItems"?"more":"fewer";return(0,Ys.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Ys._)`{limit: ${e}}`},k6={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:$6,code(e){let{keyword:t,data:r,schemaCode:n}=e,o=t==="maxItems"?Ys.operators.GT:Ys.operators.LT;e.fail$data((0,Ys._)`${r}.length ${o} ${n}`)}};ty.default=k6});var Fl=H(ry=>{"use strict";Object.defineProperty(ry,"__esModule",{value:!0});var ok=Sg();ok.code='require("ajv/dist/runtime/equal").default';ry.default=ok});var ik=H(oy=>{"use strict";Object.defineProperty(oy,"__esModule",{value:!0});var ny=Cs(),Ft=ke(),z6=Fe(),S6=Fl(),T6={message:({params:{i:e,j:t}})=>(0,Ft.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ft._)`{i: ${e}, j: ${t}}`},P6={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:T6,code(e){let{gen:t,data:r,$data:n,schema:o,parentSchema:a,schemaCode:u,it:c}=e;if(!n&&!o)return;let d=t.let("valid"),f=a.items?(0,ny.getSchemaTypes)(a.items):[];e.block$data(d,m,(0,Ft._)`${u} === false`),e.ok(d);function m(){let w=t.let("i",(0,Ft._)`${r}.length`),$=t.let("j");e.setParams({i:w,j:$}),t.assign(d,!0),t.if((0,Ft._)`${w} > 1`,()=>(h()?y:v)(w,$))}function h(){return f.length>0&&!f.some(w=>w==="object"||w==="array")}function y(w,$){let z=t.name("item"),I=(0,ny.checkDataTypes)(f,z,c.opts.strictNumbers,ny.DataType.Wrong),A=t.const("indices",(0,Ft._)`{}`);t.for((0,Ft._)`;${w}--;`,()=>{t.let(z,(0,Ft._)`${r}[${w}]`),t.if(I,(0,Ft._)`continue`),f.length>1&&t.if((0,Ft._)`typeof ${z} == "string"`,(0,Ft._)`${z} += "_"`),t.if((0,Ft._)`typeof ${A}[${z}] == "number"`,()=>{t.assign($,(0,Ft._)`${A}[${z}]`),e.error(),t.assign(d,!1).break()}).code((0,Ft._)`${A}[${z}] = ${w}`)})}function v(w,$){let z=(0,z6.useFunc)(t,S6.default),I=t.name("outer");t.label(I).for((0,Ft._)`;${w}--;`,()=>t.for((0,Ft._)`${$} = ${w}; ${$}--;`,()=>t.if((0,Ft._)`${z}(${r}[${w}], ${r}[${$}])`,()=>{e.error(),t.assign(d,!1).break(I)})))}}};oy.default=P6});var ak=H(ay=>{"use strict";Object.defineProperty(ay,"__esModule",{value:!0});var iy=ke(),E6=Fe(),I6=Fl(),R6={message:"must be equal to constant",params:({schemaCode:e})=>(0,iy._)`{allowedValue: ${e}}`},O6={keyword:"const",$data:!0,error:R6,code(e){let{gen:t,data:r,$data:n,schemaCode:o,schema:a}=e;n||a&&typeof a=="object"?e.fail$data((0,iy._)`!${(0,E6.useFunc)(t,I6.default)}(${r}, ${o})`):e.fail((0,iy._)`${a} !== ${r}`)}};ay.default=O6});var sk=H(sy=>{"use strict";Object.defineProperty(sy,"__esModule",{value:!0});var Xs=ke(),Z6=Fe(),j6=Fl(),N6={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Xs._)`{allowedValues: ${e}}`},A6={keyword:"enum",schemaType:"array",$data:!0,error:N6,code(e){let{gen:t,data:r,$data:n,schema:o,schemaCode:a,it:u}=e;if(!n&&o.length===0)throw new Error("enum must have non-empty array");let c=o.length>=u.opts.loopEnum,d,f=()=>d??(d=(0,Z6.useFunc)(t,j6.default)),m;if(c||n)m=t.let("valid"),e.block$data(m,h);else{if(!Array.isArray(o))throw new Error("ajv implementation error");let v=t.const("vSchema",a);m=(0,Xs.or)(...o.map((w,$)=>y(v,$)))}e.pass(m);function h(){t.assign(m,!1),t.forOf("v",a,v=>t.if((0,Xs._)`${f()}(${r}, ${v})`,()=>t.assign(m,!0).break()))}function y(v,w){let $=o[w];return typeof $=="object"&&$!==null?(0,Xs._)`${f()}(${r}, ${v}[${w}])`:(0,Xs._)`${r} === ${$}`}}};sy.default=A6});var uk=H(uy=>{"use strict";Object.defineProperty(uy,"__esModule",{value:!0});var C6=G$(),M6=K$(),D6=Q$(),q6=ek(),L6=tk(),U6=rk(),F6=nk(),V6=ik(),B6=ak(),H6=sk(),J6=[C6.default,M6.default,D6.default,q6.default,L6.default,U6.default,F6.default,V6.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},B6.default,H6.default];uy.default=J6});var ly=H(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.validateAdditionalItems=void 0;var Si=ke(),cy=Fe(),W6={message:({params:{len:e}})=>(0,Si.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Si._)`{limit: ${e}}`},G6={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:W6,code(e){let{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,cy.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}ck(e,n)}};function ck(e,t){let{gen:r,schema:n,data:o,keyword:a,it:u}=e;u.items=!0;let c=r.const("len",(0,Si._)`${o}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Si._)`${c} <= ${t.length}`);else if(typeof n=="object"&&!(0,cy.alwaysValidSchema)(u,n)){let f=r.var("valid",(0,Si._)`${c} <= ${t.length}`);r.if((0,Si.not)(f),()=>d(f)),e.ok(f)}function d(f){r.forRange("i",t.length,c,m=>{e.subschema({keyword:a,dataProp:m,dataPropType:cy.Type.Num},f),u.allErrors||r.if((0,Si.not)(f),()=>r.break())})}}Qs.validateAdditionalItems=ck;Qs.default=G6});var dy=H(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.validateTuple=void 0;var lk=ke(),Vl=Fe(),K6=Hr(),Y6={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){let{schema:t,it:r}=e;if(Array.isArray(t))return dk(e,"additionalItems",t);r.items=!0,!(0,Vl.alwaysValidSchema)(r,t)&&e.ok((0,K6.validateArray)(e))}};function dk(e,t,r=e.schema){let{gen:n,parentSchema:o,data:a,keyword:u,it:c}=e;m(o),c.opts.unevaluated&&r.length&&c.items!==!0&&(c.items=Vl.mergeEvaluated.items(n,r.length,c.items));let d=n.name("valid"),f=n.const("len",(0,lk._)`${a}.length`);r.forEach((h,y)=>{(0,Vl.alwaysValidSchema)(c,h)||(n.if((0,lk._)`${f} > ${y}`,()=>e.subschema({keyword:u,schemaProp:y,dataProp:y},d)),e.ok(d))});function m(h){let{opts:y,errSchemaPath:v}=c,w=r.length,$=w===h.minItems&&(w===h.maxItems||h[t]===!1);if(y.strictTuples&&!$){let z=`"${u}" is ${w}-tuple, but minItems or maxItems/${t} are not specified or different at path "${v}"`;(0,Vl.checkStrictMode)(c,z,y.strictTuples)}}}eu.validateTuple=dk;eu.default=Y6});var fk=H(fy=>{"use strict";Object.defineProperty(fy,"__esModule",{value:!0});var X6=dy(),Q6={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,X6.validateTuple)(e,"items")};fy.default=Q6});var mk=H(py=>{"use strict";Object.defineProperty(py,"__esModule",{value:!0});var pk=ke(),e3=Fe(),t3=Hr(),r3=ly(),n3={message:({params:{len:e}})=>(0,pk.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,pk._)`{limit: ${e}}`},o3={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:n3,code(e){let{schema:t,parentSchema:r,it:n}=e,{prefixItems:o}=r;n.items=!0,!(0,e3.alwaysValidSchema)(n,t)&&(o?(0,r3.validateAdditionalItems)(e,o):e.ok((0,t3.validateArray)(e)))}};py.default=o3});var hk=H(my=>{"use strict";Object.defineProperty(my,"__esModule",{value:!0});var Wr=ke(),Bl=Fe(),i3={message:({params:{min:e,max:t}})=>t===void 0?(0,Wr.str)`must contain at least ${e} valid item(s)`:(0,Wr.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Wr._)`{minContains: ${e}}`:(0,Wr._)`{minContains: ${e}, maxContains: ${t}}`},a3={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:i3,code(e){let{gen:t,schema:r,parentSchema:n,data:o,it:a}=e,u,c,{minContains:d,maxContains:f}=n;a.opts.next?(u=d===void 0?1:d,c=f):u=1;let m=t.const("len",(0,Wr._)`${o}.length`);if(e.setParams({min:u,max:c}),c===void 0&&u===0){(0,Bl.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(c!==void 0&&u>c){(0,Bl.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Bl.alwaysValidSchema)(a,r)){let $=(0,Wr._)`${m} >= ${u}`;c!==void 0&&($=(0,Wr._)`${$} && ${m} <= ${c}`),e.pass($);return}a.items=!0;let h=t.name("valid");c===void 0&&u===1?v(h,()=>t.if(h,()=>t.break())):u===0?(t.let(h,!0),c!==void 0&&t.if((0,Wr._)`${o}.length > 0`,y)):(t.let(h,!1),y()),e.result(h,()=>e.reset());function y(){let $=t.name("_valid"),z=t.let("count",0);v($,()=>t.if($,()=>w(z)))}function v($,z){t.forRange("i",0,m,I=>{e.subschema({keyword:"contains",dataProp:I,dataPropType:Bl.Type.Num,compositeRule:!0},$),z()})}function w($){t.code((0,Wr._)`${$}++`),c===void 0?t.if((0,Wr._)`${$} >= ${u}`,()=>t.assign(h,!0).break()):(t.if((0,Wr._)`${$} > ${c}`,()=>t.assign(h,!1).break()),u===1?t.assign(h,!0):t.if((0,Wr._)`${$} >= ${u}`,()=>t.assign(h,!0)))}}};my.default=a3});var _k=H(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.validateSchemaDeps=In.validatePropertyDeps=In.error=void 0;var hy=ke(),s3=Fe(),tu=Hr();In.error={message:({params:{property:e,depsCount:t,deps:r}})=>{let n=t===1?"property":"properties";return(0,hy.str)`must have ${n} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:n}})=>(0,hy._)`{property: ${e},
    missingProperty: ${n},
    depsCount: ${t},
    deps: ${r}}`};var u3={keyword:"dependencies",type:"object",schemaType:"object",error:In.error,code(e){let[t,r]=c3(e);gk(e,t),yk(e,r)}};function c3({schema:e}){let t={},r={};for(let n in e){if(n==="__proto__")continue;let o=Array.isArray(e[n])?t:r;o[n]=e[n]}return[t,r]}function gk(e,t=e.schema){let{gen:r,data:n,it:o}=e;if(Object.keys(t).length===0)return;let a=r.let("missing");for(let u in t){let c=t[u];if(c.length===0)continue;let d=(0,tu.propertyInData)(r,n,u,o.opts.ownProperties);e.setParams({property:u,depsCount:c.length,deps:c.join(", ")}),o.allErrors?r.if(d,()=>{for(let f of c)(0,tu.checkReportMissingProp)(e,f)}):(r.if((0,hy._)`${d} && (${(0,tu.checkMissingProp)(e,c,a)})`),(0,tu.reportMissingProp)(e,a),r.else())}}In.validatePropertyDeps=gk;function yk(e,t=e.schema){let{gen:r,data:n,keyword:o,it:a}=e,u=r.name("valid");for(let c in t)(0,s3.alwaysValidSchema)(a,t[c])||(r.if((0,tu.propertyInData)(r,n,c,a.opts.ownProperties),()=>{let d=e.subschema({keyword:o,schemaProp:c},u);e.mergeValidEvaluated(d,u)},()=>r.var(u,!0)),e.ok(u))}In.validateSchemaDeps=yk;In.default=u3});var bk=H(gy=>{"use strict";Object.defineProperty(gy,"__esModule",{value:!0});var vk=ke(),l3=Fe(),d3={message:"property name must be valid",params:({params:e})=>(0,vk._)`{propertyName: ${e.propertyName}}`},f3={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:d3,code(e){let{gen:t,schema:r,data:n,it:o}=e;if((0,l3.alwaysValidSchema)(o,r))return;let a=t.name("valid");t.forIn("key",n,u=>{e.setParams({propertyName:u}),e.subschema({keyword:"propertyNames",data:u,dataTypes:["string"],propertyName:u,compositeRule:!0},a),t.if((0,vk.not)(a),()=>{e.error(!0),o.allErrors||t.break()})}),e.ok(a)}};gy.default=f3});var _y=H(yy=>{"use strict";Object.defineProperty(yy,"__esModule",{value:!0});var Hl=Hr(),mn=ke(),p3=Xn(),Jl=Fe(),m3={message:"must NOT have additional properties",params:({params:e})=>(0,mn._)`{additionalProperty: ${e.additionalProperty}}`},h3={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:m3,code(e){let{gen:t,schema:r,parentSchema:n,data:o,errsCount:a,it:u}=e;if(!a)throw new Error("ajv implementation error");let{allErrors:c,opts:d}=u;if(u.props=!0,d.removeAdditional!=="all"&&(0,Jl.alwaysValidSchema)(u,r))return;let f=(0,Hl.allSchemaProperties)(n.properties),m=(0,Hl.allSchemaProperties)(n.patternProperties);h(),e.ok((0,mn._)`${a} === ${p3.default.errors}`);function h(){t.forIn("key",o,z=>{!f.length&&!m.length?w(z):t.if(y(z),()=>w(z))})}function y(z){let I;if(f.length>8){let A=(0,Jl.schemaRefOrVal)(u,n.properties,"properties");I=(0,Hl.isOwnProperty)(t,A,z)}else f.length?I=(0,mn.or)(...f.map(A=>(0,mn._)`${z} === ${A}`)):I=mn.nil;return m.length&&(I=(0,mn.or)(I,...m.map(A=>(0,mn._)`${(0,Hl.usePattern)(e,A)}.test(${z})`))),(0,mn.not)(I)}function v(z){t.code((0,mn._)`delete ${o}[${z}]`)}function w(z){if(d.removeAdditional==="all"||d.removeAdditional&&r===!1){v(z);return}if(r===!1){e.setParams({additionalProperty:z}),e.error(),c||t.break();return}if(typeof r=="object"&&!(0,Jl.alwaysValidSchema)(u,r)){let I=t.name("valid");d.removeAdditional==="failing"?($(z,I,!1),t.if((0,mn.not)(I),()=>{e.reset(),v(z)})):($(z,I),c||t.if((0,mn.not)(I),()=>t.break()))}}function $(z,I,A){let j={keyword:"additionalProperties",dataProp:z,dataPropType:Jl.Type.Str};A===!1&&Object.assign(j,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(j,I)}}};yy.default=h3});var $k=H(by=>{"use strict";Object.defineProperty(by,"__esModule",{value:!0});var g3=Ls(),wk=Hr(),vy=Fe(),xk=_y(),y3={keyword:"properties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,parentSchema:n,data:o,it:a}=e;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&xk.default.code(new g3.KeywordCxt(a,xk.default,"additionalProperties"));let u=(0,wk.allSchemaProperties)(r);for(let h of u)a.definedProperties.add(h);a.opts.unevaluated&&u.length&&a.props!==!0&&(a.props=vy.mergeEvaluated.props(t,(0,vy.toHash)(u),a.props));let c=u.filter(h=>!(0,vy.alwaysValidSchema)(a,r[h]));if(c.length===0)return;let d=t.name("valid");for(let h of c)f(h)?m(h):(t.if((0,wk.propertyInData)(t,o,h,a.opts.ownProperties)),m(h),a.allErrors||t.else().var(d,!0),t.endIf()),e.it.definedProperties.add(h),e.ok(d);function f(h){return a.opts.useDefaults&&!a.compositeRule&&r[h].default!==void 0}function m(h){e.subschema({keyword:"properties",schemaProp:h,dataProp:h},d)}}};by.default=y3});var Tk=H(wy=>{"use strict";Object.defineProperty(wy,"__esModule",{value:!0});var kk=Hr(),Wl=ke(),zk=Fe(),Sk=Fe(),_3={keyword:"patternProperties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,data:n,parentSchema:o,it:a}=e,{opts:u}=a,c=(0,kk.allSchemaProperties)(r),d=c.filter($=>(0,zk.alwaysValidSchema)(a,r[$]));if(c.length===0||d.length===c.length&&(!a.opts.unevaluated||a.props===!0))return;let f=u.strictSchema&&!u.allowMatchingProperties&&o.properties,m=t.name("valid");a.props!==!0&&!(a.props instanceof Wl.Name)&&(a.props=(0,Sk.evaluatedPropsToName)(t,a.props));let{props:h}=a;y();function y(){for(let $ of c)f&&v($),a.allErrors?w($):(t.var(m,!0),w($),t.if(m))}function v($){for(let z in f)new RegExp($).test(z)&&(0,zk.checkStrictMode)(a,`property ${z} matches pattern ${$} (use allowMatchingProperties)`)}function w($){t.forIn("key",n,z=>{t.if((0,Wl._)`${(0,kk.usePattern)(e,$)}.test(${z})`,()=>{let I=d.includes($);I||e.subschema({keyword:"patternProperties",schemaProp:$,dataProp:z,dataPropType:Sk.Type.Str},m),a.opts.unevaluated&&h!==!0?t.assign((0,Wl._)`${h}[${z}]`,!0):!I&&!a.allErrors&&t.if((0,Wl.not)(m),()=>t.break())})})}}};wy.default=_3});var Pk=H(xy=>{"use strict";Object.defineProperty(xy,"__esModule",{value:!0});var v3=Fe(),b3={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){let{gen:t,schema:r,it:n}=e;if((0,v3.alwaysValidSchema)(n,r)){e.fail();return}let o=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),e.failResult(o,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};xy.default=b3});var Ek=H($y=>{"use strict";Object.defineProperty($y,"__esModule",{value:!0});var w3=Hr(),x3={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:w3.validateUnion,error:{message:"must match a schema in anyOf"}};$y.default=x3});var Ik=H(ky=>{"use strict";Object.defineProperty(ky,"__esModule",{value:!0});var Gl=ke(),$3=Fe(),k3={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Gl._)`{passingSchemas: ${e.passing}}`},z3={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:k3,code(e){let{gen:t,schema:r,parentSchema:n,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(o.opts.discriminator&&n.discriminator)return;let a=r,u=t.let("valid",!1),c=t.let("passing",null),d=t.name("_valid");e.setParams({passing:c}),t.block(f),e.result(u,()=>e.reset(),()=>e.error(!0));function f(){a.forEach((m,h)=>{let y;(0,$3.alwaysValidSchema)(o,m)?t.var(d,!0):y=e.subschema({keyword:"oneOf",schemaProp:h,compositeRule:!0},d),h>0&&t.if((0,Gl._)`${d} && ${u}`).assign(u,!1).assign(c,(0,Gl._)`[${c}, ${h}]`).else(),t.if(d,()=>{t.assign(u,!0),t.assign(c,h),y&&e.mergeEvaluated(y,Gl.Name)})})}}};ky.default=z3});var Rk=H(zy=>{"use strict";Object.defineProperty(zy,"__esModule",{value:!0});var S3=Fe(),T3={keyword:"allOf",schemaType:"array",code(e){let{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");let o=t.name("valid");r.forEach((a,u)=>{if((0,S3.alwaysValidSchema)(n,a))return;let c=e.subschema({keyword:"allOf",schemaProp:u},o);e.ok(o),e.mergeEvaluated(c)})}};zy.default=T3});var jk=H(Sy=>{"use strict";Object.defineProperty(Sy,"__esModule",{value:!0});var Kl=ke(),Zk=Fe(),P3={message:({params:e})=>(0,Kl.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Kl._)`{failingKeyword: ${e.ifClause}}`},E3={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:P3,code(e){let{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Zk.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let o=Ok(n,"then"),a=Ok(n,"else");if(!o&&!a)return;let u=t.let("valid",!0),c=t.name("_valid");if(d(),e.reset(),o&&a){let m=t.let("ifClause");e.setParams({ifClause:m}),t.if(c,f("then",m),f("else",m))}else o?t.if(c,f("then")):t.if((0,Kl.not)(c),f("else"));e.pass(u,()=>e.error(!0));function d(){let m=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},c);e.mergeEvaluated(m)}function f(m,h){return()=>{let y=e.subschema({keyword:m},c);t.assign(u,c),e.mergeValidEvaluated(y,u),h?t.assign(h,(0,Kl._)`${m}`):e.setParams({ifClause:m})}}}};function Ok(e,t){let r=e.schema[t];return r!==void 0&&!(0,Zk.alwaysValidSchema)(e,r)}Sy.default=E3});var Nk=H(Ty=>{"use strict";Object.defineProperty(Ty,"__esModule",{value:!0});var I3=Fe(),R3={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,I3.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Ty.default=R3});var Ak=H(Py=>{"use strict";Object.defineProperty(Py,"__esModule",{value:!0});var O3=ly(),Z3=fk(),j3=dy(),N3=mk(),A3=hk(),C3=_k(),M3=bk(),D3=_y(),q3=$k(),L3=Tk(),U3=Pk(),F3=Ek(),V3=Ik(),B3=Rk(),H3=jk(),J3=Nk();function W3(e=!1){let t=[U3.default,F3.default,V3.default,B3.default,H3.default,J3.default,M3.default,D3.default,C3.default,q3.default,L3.default];return e?t.push(Z3.default,N3.default):t.push(O3.default,j3.default),t.push(A3.default),t}Py.default=W3});var Ck=H(Ey=>{"use strict";Object.defineProperty(Ey,"__esModule",{value:!0});var Tt=ke(),G3={message:({schemaCode:e})=>(0,Tt.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Tt._)`{format: ${e}}`},K3={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:G3,code(e,t){let{gen:r,data:n,$data:o,schema:a,schemaCode:u,it:c}=e,{opts:d,errSchemaPath:f,schemaEnv:m,self:h}=c;if(!d.validateFormats)return;o?y():v();function y(){let w=r.scopeValue("formats",{ref:h.formats,code:d.code.formats}),$=r.const("fDef",(0,Tt._)`${w}[${u}]`),z=r.let("fType"),I=r.let("format");r.if((0,Tt._)`typeof ${$} == "object" && !(${$} instanceof RegExp)`,()=>r.assign(z,(0,Tt._)`${$}.type || "string"`).assign(I,(0,Tt._)`${$}.validate`),()=>r.assign(z,(0,Tt._)`"string"`).assign(I,$)),e.fail$data((0,Tt.or)(A(),j()));function A(){return d.strictSchema===!1?Tt.nil:(0,Tt._)`${u} && !${I}`}function j(){let U=m.$async?(0,Tt._)`(${$}.async ? await ${I}(${n}) : ${I}(${n}))`:(0,Tt._)`${I}(${n})`,G=(0,Tt._)`(typeof ${I} == "function" ? ${U} : ${I}.test(${n}))`;return(0,Tt._)`${I} && ${I} !== true && ${z} === ${t} && !${G}`}}function v(){let w=h.formats[a];if(!w){A();return}if(w===!0)return;let[$,z,I]=j(w);$===t&&e.pass(U());function A(){if(d.strictSchema===!1){h.logger.warn(G());return}throw new Error(G());function G(){return`unknown format "${a}" ignored in schema at path "${f}"`}}function j(G){let te=G instanceof RegExp?(0,Tt.regexpCode)(G):d.code.formats?(0,Tt._)`${d.code.formats}${(0,Tt.getProperty)(a)}`:void 0,X=r.scopeValue("formats",{key:a,ref:G,code:te});return typeof G=="object"&&!(G instanceof RegExp)?[G.type||"string",G.validate,(0,Tt._)`${X}.validate`]:["string",G,X]}function U(){if(typeof w=="object"&&!(w instanceof RegExp)&&w.async){if(!m.$async)throw new Error("async format in sync schema");return(0,Tt._)`await ${I}(${n})`}return typeof z=="function"?(0,Tt._)`${I}(${n})`:(0,Tt._)`${I}.test(${n})`}}}};Ey.default=K3});var Mk=H(Iy=>{"use strict";Object.defineProperty(Iy,"__esModule",{value:!0});var Y3=Ck(),X3=[Y3.default];Iy.default=X3});var Dk=H(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.contentVocabulary=_a.metadataVocabulary=void 0;_a.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];_a.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var Lk=H(Ry=>{"use strict";Object.defineProperty(Ry,"__esModule",{value:!0});var Q3=W$(),eL=uk(),tL=Ak(),rL=Mk(),qk=Dk(),nL=[Q3.default,eL.default,(0,tL.default)(),rL.default,qk.metadataVocabulary,qk.contentVocabulary];Ry.default=nL});var Fk=H(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});Yl.DiscrError=void 0;var Uk;(function(e){e.Tag="tag",e.Mapping="mapping"})(Uk||(Yl.DiscrError=Uk={}))});var Bk=H(Zy=>{"use strict";Object.defineProperty(Zy,"__esModule",{value:!0});var va=ke(),Oy=Fk(),Vk=Ol(),oL=Us(),iL=Fe(),aL={message:({params:{discrError:e,tagName:t}})=>e===Oy.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,va._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},sL={keyword:"discriminator",type:"object",schemaType:"object",error:aL,code(e){let{gen:t,data:r,schema:n,parentSchema:o,it:a}=e,{oneOf:u}=o;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");let c=n.propertyName;if(typeof c!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!u)throw new Error("discriminator: requires oneOf keyword");let d=t.let("valid",!1),f=t.const("tag",(0,va._)`${r}${(0,va.getProperty)(c)}`);t.if((0,va._)`typeof ${f} == "string"`,()=>m(),()=>e.error(!1,{discrError:Oy.DiscrError.Tag,tag:f,tagName:c})),e.ok(d);function m(){let v=y();t.if(!1);for(let w in v)t.elseIf((0,va._)`${f} === ${w}`),t.assign(d,h(v[w]));t.else(),e.error(!1,{discrError:Oy.DiscrError.Mapping,tag:f,tagName:c}),t.endIf()}function h(v){let w=t.name("valid"),$=e.subschema({keyword:"oneOf",schemaProp:v},w);return e.mergeEvaluated($,va.Name),w}function y(){var v;let w={},$=I(o),z=!0;for(let U=0;U<u.length;U++){let G=u[U];if(G?.$ref&&!(0,iL.schemaHasRulesButRef)(G,a.self.RULES)){let X=G.$ref;if(G=Vk.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,X),G instanceof Vk.SchemaEnv&&(G=G.schema),G===void 0)throw new oL.default(a.opts.uriResolver,a.baseId,X)}let te=(v=G?.properties)===null||v===void 0?void 0:v[c];if(typeof te!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${c}"`);z=z&&($||I(G)),A(te,U)}if(!z)throw new Error(`discriminator: "${c}" must be required`);return w;function I({required:U}){return Array.isArray(U)&&U.includes(c)}function A(U,G){if(U.const)j(U.const,G);else if(U.enum)for(let te of U.enum)j(te,G);else throw new Error(`discriminator: "properties/${c}" must have "const" or "enum"`)}function j(U,G){if(typeof U!="string"||U in w)throw new Error(`discriminator: "${c}" values must be unique strings`);w[U]=G}}}};Zy.default=sL});var Hk=H((aee,uL)=>{uL.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var Ny=H((dt,jy)=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.MissingRefError=dt.ValidationError=dt.CodeGen=dt.Name=dt.nil=dt.stringify=dt.str=dt._=dt.KeywordCxt=dt.Ajv=void 0;var cL=U$(),lL=Lk(),dL=Bk(),Jk=Hk(),fL=["/properties"],Xl="http://json-schema.org/draft-07/schema",ba=class extends cL.default{_addVocabularies(){super._addVocabularies(),lL.default.forEach(t=>this.addVocabulary(t)),this.opts.discriminator&&this.addKeyword(dL.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let t=this.opts.$data?this.$dataMetaSchema(Jk,fL):Jk;this.addMetaSchema(t,Xl,!1),this.refs["http://json-schema.org/schema"]=Xl}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Xl)?Xl:void 0)}};dt.Ajv=ba;jy.exports=dt=ba;jy.exports.Ajv=ba;Object.defineProperty(dt,"__esModule",{value:!0});dt.default=ba;var pL=Ls();Object.defineProperty(dt,"KeywordCxt",{enumerable:!0,get:function(){return pL.KeywordCxt}});var wa=ke();Object.defineProperty(dt,"_",{enumerable:!0,get:function(){return wa._}});Object.defineProperty(dt,"str",{enumerable:!0,get:function(){return wa.str}});Object.defineProperty(dt,"stringify",{enumerable:!0,get:function(){return wa.stringify}});Object.defineProperty(dt,"nil",{enumerable:!0,get:function(){return wa.nil}});Object.defineProperty(dt,"Name",{enumerable:!0,get:function(){return wa.Name}});Object.defineProperty(dt,"CodeGen",{enumerable:!0,get:function(){return wa.CodeGen}});var mL=Il();Object.defineProperty(dt,"ValidationError",{enumerable:!0,get:function(){return mL.default}});var hL=Us();Object.defineProperty(dt,"MissingRefError",{enumerable:!0,get:function(){return hL.default}})});var tz=H(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});On.formatNames=On.fastFormats=On.fullFormats=void 0;function Rn(e,t){return{validate:e,compare:t}}On.fullFormats={date:Rn(Yk,Dy),time:Rn(Cy(!0),qy),"date-time":Rn(Wk(!0),Qk),"iso-time":Rn(Cy(),Xk),"iso-date-time":Rn(Wk(),ez),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:wL,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:PL,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:xL,int32:{type:"number",validate:zL},int64:{type:"number",validate:SL},float:{type:"number",validate:Kk},double:{type:"number",validate:Kk},password:!0,binary:!0};On.fastFormats={...On.fullFormats,date:Rn(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,Dy),time:Rn(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,qy),"date-time":Rn(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,Qk),"iso-time":Rn(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Xk),"iso-date-time":Rn(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,ez),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};On.formatNames=Object.keys(On.fullFormats);function gL(e){return e%4===0&&(e%100!==0||e%400===0)}var yL=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,_L=[0,31,28,31,30,31,30,31,31,30,31,30,31];function Yk(e){let t=yL.exec(e);if(!t)return!1;let r=+t[1],n=+t[2],o=+t[3];return n>=1&&n<=12&&o>=1&&o<=(n===2&&gL(r)?29:_L[n])}function Dy(e,t){if(e&&t)return e>t?1:e<t?-1:0}var Ay=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function Cy(e){return function(r){let n=Ay.exec(r);if(!n)return!1;let o=+n[1],a=+n[2],u=+n[3],c=n[4],d=n[5]==="-"?-1:1,f=+(n[6]||0),m=+(n[7]||0);if(f>23||m>59||e&&!c)return!1;if(o<=23&&a<=59&&u<60)return!0;let h=a-m*d,y=o-f*d-(h<0?1:0);return(y===23||y===-1)&&(h===59||h===-1)&&u<61}}function qy(e,t){if(!(e&&t))return;let r=new Date("2020-01-01T"+e).valueOf(),n=new Date("2020-01-01T"+t).valueOf();if(r&&n)return r-n}function Xk(e,t){if(!(e&&t))return;let r=Ay.exec(e),n=Ay.exec(t);if(r&&n)return e=r[1]+r[2]+r[3],t=n[1]+n[2]+n[3],e>t?1:e<t?-1:0}var My=/t|\s/i;function Wk(e){let t=Cy(e);return function(n){let o=n.split(My);return o.length===2&&Yk(o[0])&&t(o[1])}}function Qk(e,t){if(!(e&&t))return;let r=new Date(e).valueOf(),n=new Date(t).valueOf();if(r&&n)return r-n}function ez(e,t){if(!(e&&t))return;let[r,n]=e.split(My),[o,a]=t.split(My),u=Dy(r,o);if(u!==void 0)return u||qy(n,a)}var vL=/\/|:/,bL=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function wL(e){return vL.test(e)&&bL.test(e)}var Gk=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function xL(e){return Gk.lastIndex=0,Gk.test(e)}var $L=-(2**31),kL=2**31-1;function zL(e){return Number.isInteger(e)&&e<=kL&&e>=$L}function SL(e){return Number.isInteger(e)}function Kk(){return!0}var TL=/[^\\]\\Z/;function PL(e){if(TL.test(e))return!1;try{return new RegExp(e),!0}catch{return!1}}});var rz=H(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.formatLimitDefinition=void 0;var EL=Ny(),hn=ke(),jo=hn.operators,Ql={formatMaximum:{okStr:"<=",ok:jo.LTE,fail:jo.GT},formatMinimum:{okStr:">=",ok:jo.GTE,fail:jo.LT},formatExclusiveMaximum:{okStr:"<",ok:jo.LT,fail:jo.GTE},formatExclusiveMinimum:{okStr:">",ok:jo.GT,fail:jo.LTE}},IL={message:({keyword:e,schemaCode:t})=>(0,hn.str)`should be ${Ql[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,hn._)`{comparison: ${Ql[e].okStr}, limit: ${t}}`};xa.formatLimitDefinition={keyword:Object.keys(Ql),type:"string",schemaType:"string",$data:!0,error:IL,code(e){let{gen:t,data:r,schemaCode:n,keyword:o,it:a}=e,{opts:u,self:c}=a;if(!u.validateFormats)return;let d=new EL.KeywordCxt(a,c.RULES.all.format.definition,"format");d.$data?f():m();function f(){let y=t.scopeValue("formats",{ref:c.formats,code:u.code.formats}),v=t.const("fmt",(0,hn._)`${y}[${d.schemaCode}]`);e.fail$data((0,hn.or)((0,hn._)`typeof ${v} != "object"`,(0,hn._)`${v} instanceof RegExp`,(0,hn._)`typeof ${v}.compare != "function"`,h(v)))}function m(){let y=d.schema,v=c.formats[y];if(!v||v===!0)return;if(typeof v!="object"||v instanceof RegExp||typeof v.compare!="function")throw new Error(`"${o}": format "${y}" does not define "compare" function`);let w=t.scopeValue("formats",{key:y,ref:v,code:u.code.formats?(0,hn._)`${u.code.formats}${(0,hn.getProperty)(y)}`:void 0});e.fail$data(h(w))}function h(y){return(0,hn._)`${y}.compare(${r}, ${n}) ${Ql[o].fail} 0`}},dependencies:["format"]};var RL=e=>(e.addKeyword(xa.formatLimitDefinition),e);xa.default=RL});var az=H((ru,iz)=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});var $a=tz(),OL=rz(),Ly=ke(),nz=new Ly.Name("fullFormats"),ZL=new Ly.Name("fastFormats"),Uy=(e,t={keywords:!0})=>{if(Array.isArray(t))return oz(e,t,$a.fullFormats,nz),e;let[r,n]=t.mode==="fast"?[$a.fastFormats,ZL]:[$a.fullFormats,nz],o=t.formats||$a.formatNames;return oz(e,o,r,n),t.keywords&&(0,OL.default)(e),e};Uy.get=(e,t="full")=>{let n=(t==="fast"?$a.fastFormats:$a.fullFormats)[e];if(!n)throw new Error(`Unknown format "${e}"`);return n};function oz(e,t,r,n){var o,a;(o=(a=e.opts.code).formats)!==null&&o!==void 0||(a.formats=(0,Ly._)`require("ajv-formats/dist/formats").${n}`);for(let u of t)e.addFormat(u,r[u])}iz.exports=ru=Uy;Object.defineProperty(ru,"__esModule",{value:!0});ru.default=Uy});var Wy={};hc(Wy,{createSandboxServer:()=>UL});var W={};hc(W,{BRAND:()=>yA,DIRTY:()=>Wo,EMPTY_PATH:()=>GN,INVALID:()=>ce,NEVER:()=>eC,OK:()=>Gt,ParseStatus:()=>Ct,Schema:()=>$e,ZodAny:()=>vo,ZodArray:()=>Wn,ZodBigInt:()=>Ko,ZodBoolean:()=>Yo,ZodBranded:()=>rs,ZodCatch:()=>ui,ZodDate:()=>Xo,ZodDefault:()=>si,ZodDiscriminatedUnion:()=>vc,ZodEffects:()=>Lr,ZodEnum:()=>ii,ZodError:()=>pr,ZodFirstPartyTypeKind:()=>L,ZodFunction:()=>wc,ZodIntersection:()=>ri,ZodIssueCode:()=>q,ZodLazy:()=>ni,ZodLiteral:()=>oi,ZodMap:()=>Yi,ZodNaN:()=>Qi,ZodNativeEnum:()=>ai,ZodNever:()=>sn,ZodNull:()=>ei,ZodNullable:()=>zn,ZodNumber:()=>Go,ZodObject:()=>hr,ZodOptional:()=>mr,ZodParsedType:()=>J,ZodPipeline:()=>ns,ZodPromise:()=>bo,ZodReadonly:()=>ci,ZodRecord:()=>bc,ZodSchema:()=>$e,ZodSet:()=>Xi,ZodString:()=>_o,ZodSymbol:()=>Gi,ZodTransformer:()=>Lr,ZodTuple:()=>kn,ZodType:()=>$e,ZodUndefined:()=>Qo,ZodUnion:()=>ti,ZodUnknown:()=>Jn,ZodVoid:()=>Ki,addIssueToContext:()=>F,any:()=>SA,array:()=>IA,bigint:()=>wA,boolean:()=>Mb,coerce:()=>QA,custom:()=>Nb,date:()=>xA,datetimeRegex:()=>Zb,defaultErrorMap:()=>Bn,discriminatedUnion:()=>ZA,effect:()=>BA,enum:()=>UA,function:()=>DA,getErrorMap:()=>Hi,getParsedType:()=>$n,instanceof:()=>vA,intersection:()=>jA,isAborted:()=>yc,isAsync:()=>Ji,isDirty:()=>_c,isValid:()=>yo,late:()=>_A,lazy:()=>qA,literal:()=>LA,makeIssue:()=>ts,map:()=>CA,nan:()=>bA,nativeEnum:()=>FA,never:()=>PA,null:()=>zA,nullable:()=>JA,number:()=>Cb,object:()=>_p,objectUtil:()=>hp,oboolean:()=>XA,onumber:()=>YA,optional:()=>HA,ostring:()=>KA,pipeline:()=>GA,preprocess:()=>WA,promise:()=>VA,quotelessJson:()=>HN,record:()=>AA,set:()=>MA,setErrorMap:()=>WN,strictObject:()=>RA,string:()=>Ab,symbol:()=>$A,transformer:()=>BA,tuple:()=>NA,undefined:()=>kA,union:()=>OA,unknown:()=>TA,util:()=>Re,void:()=>EA});var Re;(function(e){e.assertEqual=o=>{};function t(o){}e.assertIs=t;function r(o){throw new Error}e.assertNever=r,e.arrayToEnum=o=>{let a={};for(let u of o)a[u]=u;return a},e.getValidEnumValues=o=>{let a=e.objectKeys(o).filter(c=>typeof o[o[c]]!="number"),u={};for(let c of a)u[c]=o[c];return e.objectValues(u)},e.objectValues=o=>e.objectKeys(o).map(function(a){return o[a]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{let a=[];for(let u in o)Object.prototype.hasOwnProperty.call(o,u)&&a.push(u);return a},e.find=(o,a)=>{for(let u of o)if(a(u))return u},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function n(o,a=" | "){return o.map(u=>typeof u=="string"?`'${u}'`:u).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(o,a)=>typeof a=="bigint"?a.toString():a})(Re||(Re={}));var hp;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(hp||(hp={}));var J=Re.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),$n=e=>{switch(typeof e){case"undefined":return J.undefined;case"string":return J.string;case"number":return Number.isNaN(e)?J.nan:J.number;case"boolean":return J.boolean;case"function":return J.function;case"bigint":return J.bigint;case"symbol":return J.symbol;case"object":return Array.isArray(e)?J.array:e===null?J.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?J.promise:typeof Map<"u"&&e instanceof Map?J.map:typeof Set<"u"&&e instanceof Set?J.set:typeof Date<"u"&&e instanceof Date?J.date:J.object;default:return J.unknown}};var q=Re.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),HN=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),pr=class e extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){let r=t||function(a){return a.message},n={_errors:[]},o=a=>{for(let u of a.issues)if(u.code==="invalid_union")u.unionErrors.map(o);else if(u.code==="invalid_return_type")o(u.returnTypeError);else if(u.code==="invalid_arguments")o(u.argumentsError);else if(u.path.length===0)n._errors.push(r(u));else{let c=n,d=0;for(;d<u.path.length;){let f=u.path[d];d===u.path.length-1?(c[f]=c[f]||{_errors:[]},c[f]._errors.push(r(u))):c[f]=c[f]||{_errors:[]},c=c[f],d++}}};return o(this),n}static assert(t){if(!(t instanceof e))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Re.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){let r={},n=[];for(let o of this.issues)if(o.path.length>0){let a=o.path[0];r[a]=r[a]||[],r[a].push(t(o))}else n.push(t(o));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};pr.create=e=>new pr(e);var JN=(e,t)=>{let r;switch(e.code){case q.invalid_type:e.received===J.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case q.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Re.jsonStringifyReplacer)}`;break;case q.unrecognized_keys:r=`Unrecognized key(s) in object: ${Re.joinValues(e.keys,", ")}`;break;case q.invalid_union:r="Invalid input";break;case q.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Re.joinValues(e.options)}`;break;case q.invalid_enum_value:r=`Invalid enum value. Expected ${Re.joinValues(e.options)}, received '${e.received}'`;break;case q.invalid_arguments:r="Invalid function arguments";break;case q.invalid_return_type:r="Invalid function return type";break;case q.invalid_date:r="Invalid date";break;case q.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Re.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case q.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case q.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case q.custom:r="Invalid input";break;case q.invalid_intersection_types:r="Intersection results could not be merged";break;case q.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case q.not_finite:r="Number must be finite";break;default:r=t.defaultError,Re.assertNever(e)}return{message:r}},Bn=JN;var Pb=Bn;function WN(e){Pb=e}function Hi(){return Pb}var ts=e=>{let{data:t,path:r,errorMaps:n,issueData:o}=e,a=[...r,...o.path||[]],u={...o,path:a};if(o.message!==void 0)return{...o,path:a,message:o.message};let c="",d=n.filter(f=>!!f).slice().reverse();for(let f of d)c=f(u,{data:t,defaultError:c}).message;return{...o,path:a,message:c}},GN=[];function F(e,t){let r=Hi(),n=ts({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Bn?void 0:Bn].filter(o=>!!o)});e.common.issues.push(n)}var Ct=class e{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){let n=[];for(let o of r){if(o.status==="aborted")return ce;o.status==="dirty"&&t.dirty(),n.push(o.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let o of r){let a=await o.key,u=await o.value;n.push({key:a,value:u})}return e.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let o of r){let{key:a,value:u}=o;if(a.status==="aborted"||u.status==="aborted")return ce;a.status==="dirty"&&t.dirty(),u.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof u.value<"u"||o.alwaysSet)&&(n[a.value]=u.value)}return{status:t.value,value:n}}},ce=Object.freeze({status:"aborted"}),Wo=e=>({status:"dirty",value:e}),Gt=e=>({status:"valid",value:e}),yc=e=>e.status==="aborted",_c=e=>e.status==="dirty",yo=e=>e.status==="valid",Ji=e=>typeof Promise<"u"&&e instanceof Promise;var ee;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(ee||(ee={}));var qr=class{constructor(t,r,n,o){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Eb=(e,t)=>{if(yo(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new pr(e.common.issues);return this._error=r,this._error}}};function _e(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:o}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:(u,c)=>{let{message:d}=e;return u.code==="invalid_enum_value"?{message:d??c.defaultError}:typeof c.data>"u"?{message:d??n??c.defaultError}:u.code!=="invalid_type"?{message:c.defaultError}:{message:d??r??c.defaultError}},description:o}}var $e=class{get description(){return this._def.description}_getType(t){return $n(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:$n(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ct,ctx:{common:t.parent.common,data:t.data,parsedType:$n(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(Ji(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){let n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:$n(t)},o=this._parseSync({data:t,path:n.path,parent:n});return Eb(n,o)}"~validate"(t){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:$n(t)};if(!this["~standard"].async)try{let n=this._parseSync({data:t,path:[],parent:r});return yo(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(n=>yo(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:$n(t)},o=this._parse({data:t,path:n.path,parent:n}),a=await(Ji(o)?o:Promise.resolve(o));return Eb(n,a)}refine(t,r){let n=o=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(o):r;return this._refinement((o,a)=>{let u=t(o),c=()=>a.addIssue({code:q.custom,...n(o)});return typeof Promise<"u"&&u instanceof Promise?u.then(d=>d?!0:(c(),!1)):u?!0:(c(),!1)})}refinement(t,r){return this._refinement((n,o)=>t(n)?!0:(o.addIssue(typeof r=="function"?r(n,o):r),!1))}_refinement(t){return new Lr({schema:this,typeName:L.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return mr.create(this,this._def)}nullable(){return zn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Wn.create(this)}promise(){return bo.create(this,this._def)}or(t){return ti.create([this,t],this._def)}and(t){return ri.create(this,t,this._def)}transform(t){return new Lr({..._e(this._def),schema:this,typeName:L.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let r=typeof t=="function"?t:()=>t;return new si({..._e(this._def),innerType:this,defaultValue:r,typeName:L.ZodDefault})}brand(){return new rs({typeName:L.ZodBranded,type:this,..._e(this._def)})}catch(t){let r=typeof t=="function"?t:()=>t;return new ui({..._e(this._def),innerType:this,catchValue:r,typeName:L.ZodCatch})}describe(t){let r=this.constructor;return new r({...this._def,description:t})}pipe(t){return ns.create(this,t)}readonly(){return ci.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},KN=/^c[^\s-]{8,}$/i,YN=/^[0-9a-z]+$/,XN=/^[0-9A-HJKMNP-TV-Z]{26}$/i,QN=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,eA=/^[a-z0-9_-]{21}$/i,tA=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,rA=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,nA=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,oA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",gp,iA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,aA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,sA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,uA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cA=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,lA=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Rb="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dA=new RegExp(`^${Rb}$`);function Ob(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function fA(e){return new RegExp(`^${Ob(e)}$`)}function Zb(e){let t=`${Rb}T${Ob(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function pA(e,t){return!!((t==="v4"||!t)&&iA.test(e)||(t==="v6"||!t)&&sA.test(e))}function mA(e,t){if(!tA.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),o=JSON.parse(atob(n));return!(typeof o!="object"||o===null||"typ"in o&&o?.typ!=="JWT"||!o.alg||t&&o.alg!==t)}catch{return!1}}function hA(e,t){return!!((t==="v4"||!t)&&aA.test(e)||(t==="v6"||!t)&&uA.test(e))}var _o=class e extends $e{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==J.string){let a=this._getOrReturnCtx(t);return F(a,{code:q.invalid_type,expected:J.string,received:a.parsedType}),ce}let n=new Ct,o;for(let a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(o=this._getOrReturnCtx(t,o),F(o,{code:q.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(o=this._getOrReturnCtx(t,o),F(o,{code:q.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){let u=t.data.length>a.value,c=t.data.length<a.value;(u||c)&&(o=this._getOrReturnCtx(t,o),u?F(o,{code:q.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&F(o,{code:q.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")nA.test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"email",code:q.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")gp||(gp=new RegExp(oA,"u")),gp.test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"emoji",code:q.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")QN.test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"uuid",code:q.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")eA.test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"nanoid",code:q.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")KN.test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"cuid",code:q.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")YN.test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"cuid2",code:q.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")XN.test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"ulid",code:q.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),F(o,{validation:"url",code:q.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"regex",code:q.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(o=this._getOrReturnCtx(t,o),F(o,{code:q.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(o=this._getOrReturnCtx(t,o),F(o,{code:q.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(o=this._getOrReturnCtx(t,o),F(o,{code:q.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?Zb(a).test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{code:q.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?dA.test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{code:q.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?fA(a).test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{code:q.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?rA.test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"duration",code:q.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?pA(t.data,a.version)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"ip",code:q.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?mA(t.data,a.alg)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"jwt",code:q.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?hA(t.data,a.version)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"cidr",code:q.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?cA.test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"base64",code:q.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?lA.test(t.data)||(o=this._getOrReturnCtx(t,o),F(o,{validation:"base64url",code:q.invalid_string,message:a.message}),n.dirty()):Re.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(o=>t.test(o),{validation:r,code:q.invalid_string,...ee.errToObj(n)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ee.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ee.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ee.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ee.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ee.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ee.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ee.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ee.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ee.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ee.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ee.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ee.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ee.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...ee.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...ee.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...ee.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ee.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...ee.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ee.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ee.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ee.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ee.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ee.errToObj(r)})}nonempty(t){return this.min(1,ee.errToObj(t))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};_o.create=e=>new _o({checks:[],typeName:L.ZodString,coerce:e?.coerce??!1,..._e(e)});function gA(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,o=r>n?r:n,a=Number.parseInt(e.toFixed(o).replace(".","")),u=Number.parseInt(t.toFixed(o).replace(".",""));return a%u/10**o}var Go=class e extends $e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==J.number){let a=this._getOrReturnCtx(t);return F(a,{code:q.invalid_type,expected:J.number,received:a.parsedType}),ce}let n,o=new Ct;for(let a of this._def.checks)a.kind==="int"?Re.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),F(n,{code:q.invalid_type,expected:"integer",received:"float",message:a.message}),o.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),F(n,{code:q.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),F(n,{code:q.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="multipleOf"?gA(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),F(n,{code:q.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),F(n,{code:q.not_finite,message:a.message}),o.dirty()):Re.assertNever(a);return{status:o.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ee.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ee.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ee.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ee.toString(r))}setLimit(t,r,n,o){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ee.toString(o)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ee.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ee.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ee.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ee.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ee.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ee.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ee.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ee.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ee.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Re.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}};Go.create=e=>new Go({checks:[],typeName:L.ZodNumber,coerce:e?.coerce||!1,..._e(e)});var Ko=class e extends $e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==J.bigint)return this._getInvalidInput(t);let n,o=new Ct;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),F(n,{code:q.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),F(n,{code:q.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),F(n,{code:q.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):Re.assertNever(a);return{status:o.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return F(r,{code:q.invalid_type,expected:J.bigint,received:r.parsedType}),ce}gte(t,r){return this.setLimit("min",t,!0,ee.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ee.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ee.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ee.toString(r))}setLimit(t,r,n,o){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ee.toString(o)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ee.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ee.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ee.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ee.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ee.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};Ko.create=e=>new Ko({checks:[],typeName:L.ZodBigInt,coerce:e?.coerce??!1,..._e(e)});var Yo=class extends $e{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==J.boolean){let n=this._getOrReturnCtx(t);return F(n,{code:q.invalid_type,expected:J.boolean,received:n.parsedType}),ce}return Gt(t.data)}};Yo.create=e=>new Yo({typeName:L.ZodBoolean,coerce:e?.coerce||!1,..._e(e)});var Xo=class e extends $e{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==J.date){let a=this._getOrReturnCtx(t);return F(a,{code:q.invalid_type,expected:J.date,received:a.parsedType}),ce}if(Number.isNaN(t.data.getTime())){let a=this._getOrReturnCtx(t);return F(a,{code:q.invalid_date}),ce}let n=new Ct,o;for(let a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(o=this._getOrReturnCtx(t,o),F(o,{code:q.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(o=this._getOrReturnCtx(t,o),F(o,{code:q.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Re.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ee.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ee.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}};Xo.create=e=>new Xo({checks:[],coerce:e?.coerce||!1,typeName:L.ZodDate,..._e(e)});var Gi=class extends $e{_parse(t){if(this._getType(t)!==J.symbol){let n=this._getOrReturnCtx(t);return F(n,{code:q.invalid_type,expected:J.symbol,received:n.parsedType}),ce}return Gt(t.data)}};Gi.create=e=>new Gi({typeName:L.ZodSymbol,..._e(e)});var Qo=class extends $e{_parse(t){if(this._getType(t)!==J.undefined){let n=this._getOrReturnCtx(t);return F(n,{code:q.invalid_type,expected:J.undefined,received:n.parsedType}),ce}return Gt(t.data)}};Qo.create=e=>new Qo({typeName:L.ZodUndefined,..._e(e)});var ei=class extends $e{_parse(t){if(this._getType(t)!==J.null){let n=this._getOrReturnCtx(t);return F(n,{code:q.invalid_type,expected:J.null,received:n.parsedType}),ce}return Gt(t.data)}};ei.create=e=>new ei({typeName:L.ZodNull,..._e(e)});var vo=class extends $e{constructor(){super(...arguments),this._any=!0}_parse(t){return Gt(t.data)}};vo.create=e=>new vo({typeName:L.ZodAny,..._e(e)});var Jn=class extends $e{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Gt(t.data)}};Jn.create=e=>new Jn({typeName:L.ZodUnknown,..._e(e)});var sn=class extends $e{_parse(t){let r=this._getOrReturnCtx(t);return F(r,{code:q.invalid_type,expected:J.never,received:r.parsedType}),ce}};sn.create=e=>new sn({typeName:L.ZodNever,..._e(e)});var Ki=class extends $e{_parse(t){if(this._getType(t)!==J.undefined){let n=this._getOrReturnCtx(t);return F(n,{code:q.invalid_type,expected:J.void,received:n.parsedType}),ce}return Gt(t.data)}};Ki.create=e=>new Ki({typeName:L.ZodVoid,..._e(e)});var Wn=class e extends $e{_parse(t){let{ctx:r,status:n}=this._processInputParams(t),o=this._def;if(r.parsedType!==J.array)return F(r,{code:q.invalid_type,expected:J.array,received:r.parsedType}),ce;if(o.exactLength!==null){let u=r.data.length>o.exactLength.value,c=r.data.length<o.exactLength.value;(u||c)&&(F(r,{code:u?q.too_big:q.too_small,minimum:c?o.exactLength.value:void 0,maximum:u?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),n.dirty())}if(o.minLength!==null&&r.data.length<o.minLength.value&&(F(r,{code:q.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),n.dirty()),o.maxLength!==null&&r.data.length>o.maxLength.value&&(F(r,{code:q.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((u,c)=>o.type._parseAsync(new qr(r,u,r.path,c)))).then(u=>Ct.mergeArray(n,u));let a=[...r.data].map((u,c)=>o.type._parseSync(new qr(r,u,r.path,c)));return Ct.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new e({...this._def,minLength:{value:t,message:ee.toString(r)}})}max(t,r){return new e({...this._def,maxLength:{value:t,message:ee.toString(r)}})}length(t,r){return new e({...this._def,exactLength:{value:t,message:ee.toString(r)}})}nonempty(t){return this.min(1,t)}};Wn.create=(e,t)=>new Wn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:L.ZodArray,..._e(t)});function Wi(e){if(e instanceof hr){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=mr.create(Wi(n))}return new hr({...e._def,shape:()=>t})}else return e instanceof Wn?new Wn({...e._def,type:Wi(e.element)}):e instanceof mr?mr.create(Wi(e.unwrap())):e instanceof zn?zn.create(Wi(e.unwrap())):e instanceof kn?kn.create(e.items.map(t=>Wi(t))):e}var hr=class e extends $e{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=Re.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==J.object){let f=this._getOrReturnCtx(t);return F(f,{code:q.invalid_type,expected:J.object,received:f.parsedType}),ce}let{status:n,ctx:o}=this._processInputParams(t),{shape:a,keys:u}=this._getCached(),c=[];if(!(this._def.catchall instanceof sn&&this._def.unknownKeys==="strip"))for(let f in o.data)u.includes(f)||c.push(f);let d=[];for(let f of u){let m=a[f],h=o.data[f];d.push({key:{status:"valid",value:f},value:m._parse(new qr(o,h,o.path,f)),alwaysSet:f in o.data})}if(this._def.catchall instanceof sn){let f=this._def.unknownKeys;if(f==="passthrough")for(let m of c)d.push({key:{status:"valid",value:m},value:{status:"valid",value:o.data[m]}});else if(f==="strict")c.length>0&&(F(o,{code:q.unrecognized_keys,keys:c}),n.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let f=this._def.catchall;for(let m of c){let h=o.data[m];d.push({key:{status:"valid",value:m},value:f._parse(new qr(o,h,o.path,m)),alwaysSet:m in o.data})}}return o.common.async?Promise.resolve().then(async()=>{let f=[];for(let m of d){let h=await m.key,y=await m.value;f.push({key:h,value:y,alwaysSet:m.alwaysSet})}return f}).then(f=>Ct.mergeObjectSync(n,f)):Ct.mergeObjectSync(n,d)}get shape(){return this._def.shape()}strict(t){return ee.errToObj,new e({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{let o=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:ee.errToObj(t).message??o}:{message:o}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:L.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let r={};for(let n of Re.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new e({...this._def,shape:()=>r})}omit(t){let r={};for(let n of Re.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new e({...this._def,shape:()=>r})}deepPartial(){return Wi(this)}partial(t){let r={};for(let n of Re.objectKeys(this.shape)){let o=this.shape[n];t&&!t[n]?r[n]=o:r[n]=o.optional()}return new e({...this._def,shape:()=>r})}required(t){let r={};for(let n of Re.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof mr;)a=a._def.innerType;r[n]=a}return new e({...this._def,shape:()=>r})}keyof(){return jb(Re.objectKeys(this.shape))}};hr.create=(e,t)=>new hr({shape:()=>e,unknownKeys:"strip",catchall:sn.create(),typeName:L.ZodObject,..._e(t)});hr.strictCreate=(e,t)=>new hr({shape:()=>e,unknownKeys:"strict",catchall:sn.create(),typeName:L.ZodObject,..._e(t)});hr.lazycreate=(e,t)=>new hr({shape:e,unknownKeys:"strip",catchall:sn.create(),typeName:L.ZodObject,..._e(t)});var ti=class extends $e{_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;function o(a){for(let c of a)if(c.result.status==="valid")return c.result;for(let c of a)if(c.result.status==="dirty")return r.common.issues.push(...c.ctx.common.issues),c.result;let u=a.map(c=>new pr(c.ctx.common.issues));return F(r,{code:q.invalid_union,unionErrors:u}),ce}if(r.common.async)return Promise.all(n.map(async a=>{let u={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:u}),ctx:u}})).then(o);{let a,u=[];for(let d of n){let f={...r,common:{...r.common,issues:[]},parent:null},m=d._parseSync({data:r.data,path:r.path,parent:f});if(m.status==="valid")return m;m.status==="dirty"&&!a&&(a={result:m,ctx:f}),f.common.issues.length&&u.push(f.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;let c=u.map(d=>new pr(d));return F(r,{code:q.invalid_union,unionErrors:c}),ce}}get options(){return this._def.options}};ti.create=(e,t)=>new ti({options:e,typeName:L.ZodUnion,..._e(t)});var Hn=e=>e instanceof ni?Hn(e.schema):e instanceof Lr?Hn(e.innerType()):e instanceof oi?[e.value]:e instanceof ii?e.options:e instanceof ai?Re.objectValues(e.enum):e instanceof si?Hn(e._def.innerType):e instanceof Qo?[void 0]:e instanceof ei?[null]:e instanceof mr?[void 0,...Hn(e.unwrap())]:e instanceof zn?[null,...Hn(e.unwrap())]:e instanceof rs||e instanceof ci?Hn(e.unwrap()):e instanceof ui?Hn(e._def.innerType):[],vc=class e extends $e{_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==J.object)return F(r,{code:q.invalid_type,expected:J.object,received:r.parsedType}),ce;let n=this.discriminator,o=r.data[n],a=this.optionsMap.get(o);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(F(r,{code:q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ce)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let o=new Map;for(let a of r){let u=Hn(a.shape[t]);if(!u.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let c of u){if(o.has(c))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(c)}`);o.set(c,a)}}return new e({typeName:L.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:o,..._e(n)})}};function yp(e,t){let r=$n(e),n=$n(t);if(e===t)return{valid:!0,data:e};if(r===J.object&&n===J.object){let o=Re.objectKeys(t),a=Re.objectKeys(e).filter(c=>o.indexOf(c)!==-1),u={...e,...t};for(let c of a){let d=yp(e[c],t[c]);if(!d.valid)return{valid:!1};u[c]=d.data}return{valid:!0,data:u}}else if(r===J.array&&n===J.array){if(e.length!==t.length)return{valid:!1};let o=[];for(let a=0;a<e.length;a++){let u=e[a],c=t[a],d=yp(u,c);if(!d.valid)return{valid:!1};o.push(d.data)}return{valid:!0,data:o}}else return r===J.date&&n===J.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}var ri=class extends $e{_parse(t){let{status:r,ctx:n}=this._processInputParams(t),o=(a,u)=>{if(yc(a)||yc(u))return ce;let c=yp(a.value,u.value);return c.valid?((_c(a)||_c(u))&&r.dirty(),{status:r.value,value:c.data}):(F(n,{code:q.invalid_intersection_types}),ce)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,u])=>o(a,u)):o(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};ri.create=(e,t,r)=>new ri({left:e,right:t,typeName:L.ZodIntersection,..._e(r)});var kn=class e extends $e{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==J.array)return F(n,{code:q.invalid_type,expected:J.array,received:n.parsedType}),ce;if(n.data.length<this._def.items.length)return F(n,{code:q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ce;!this._def.rest&&n.data.length>this._def.items.length&&(F(n,{code:q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let a=[...n.data].map((u,c)=>{let d=this._def.items[c]||this._def.rest;return d?d._parse(new qr(n,u,n.path,c)):null}).filter(u=>!!u);return n.common.async?Promise.all(a).then(u=>Ct.mergeArray(r,u)):Ct.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};kn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new kn({items:e,typeName:L.ZodTuple,rest:null,..._e(t)})};var bc=class e extends $e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==J.object)return F(n,{code:q.invalid_type,expected:J.object,received:n.parsedType}),ce;let o=[],a=this._def.keyType,u=this._def.valueType;for(let c in n.data)o.push({key:a._parse(new qr(n,c,n.path,c)),value:u._parse(new qr(n,n.data[c],n.path,c)),alwaysSet:c in n.data});return n.common.async?Ct.mergeObjectAsync(r,o):Ct.mergeObjectSync(r,o)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof $e?new e({keyType:t,valueType:r,typeName:L.ZodRecord,..._e(n)}):new e({keyType:_o.create(),valueType:t,typeName:L.ZodRecord,..._e(r)})}},Yi=class extends $e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==J.map)return F(n,{code:q.invalid_type,expected:J.map,received:n.parsedType}),ce;let o=this._def.keyType,a=this._def.valueType,u=[...n.data.entries()].map(([c,d],f)=>({key:o._parse(new qr(n,c,n.path,[f,"key"])),value:a._parse(new qr(n,d,n.path,[f,"value"]))}));if(n.common.async){let c=new Map;return Promise.resolve().then(async()=>{for(let d of u){let f=await d.key,m=await d.value;if(f.status==="aborted"||m.status==="aborted")return ce;(f.status==="dirty"||m.status==="dirty")&&r.dirty(),c.set(f.value,m.value)}return{status:r.value,value:c}})}else{let c=new Map;for(let d of u){let f=d.key,m=d.value;if(f.status==="aborted"||m.status==="aborted")return ce;(f.status==="dirty"||m.status==="dirty")&&r.dirty(),c.set(f.value,m.value)}return{status:r.value,value:c}}}};Yi.create=(e,t,r)=>new Yi({valueType:t,keyType:e,typeName:L.ZodMap,..._e(r)});var Xi=class e extends $e{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==J.set)return F(n,{code:q.invalid_type,expected:J.set,received:n.parsedType}),ce;let o=this._def;o.minSize!==null&&n.data.size<o.minSize.value&&(F(n,{code:q.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),r.dirty()),o.maxSize!==null&&n.data.size>o.maxSize.value&&(F(n,{code:q.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),r.dirty());let a=this._def.valueType;function u(d){let f=new Set;for(let m of d){if(m.status==="aborted")return ce;m.status==="dirty"&&r.dirty(),f.add(m.value)}return{status:r.value,value:f}}let c=[...n.data.values()].map((d,f)=>a._parse(new qr(n,d,n.path,f)));return n.common.async?Promise.all(c).then(d=>u(d)):u(c)}min(t,r){return new e({...this._def,minSize:{value:t,message:ee.toString(r)}})}max(t,r){return new e({...this._def,maxSize:{value:t,message:ee.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}};Xi.create=(e,t)=>new Xi({valueType:e,minSize:null,maxSize:null,typeName:L.ZodSet,..._e(t)});var wc=class e extends $e{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==J.function)return F(r,{code:q.invalid_type,expected:J.function,received:r.parsedType}),ce;function n(c,d){return ts({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Hi(),Bn].filter(f=>!!f),issueData:{code:q.invalid_arguments,argumentsError:d}})}function o(c,d){return ts({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Hi(),Bn].filter(f=>!!f),issueData:{code:q.invalid_return_type,returnTypeError:d}})}let a={errorMap:r.common.contextualErrorMap},u=r.data;if(this._def.returns instanceof bo){let c=this;return Gt(async function(...d){let f=new pr([]),m=await c._def.args.parseAsync(d,a).catch(v=>{throw f.addIssue(n(d,v)),f}),h=await Reflect.apply(u,this,m);return await c._def.returns._def.type.parseAsync(h,a).catch(v=>{throw f.addIssue(o(h,v)),f})})}else{let c=this;return Gt(function(...d){let f=c._def.args.safeParse(d,a);if(!f.success)throw new pr([n(d,f.error)]);let m=Reflect.apply(u,this,f.data),h=c._def.returns.safeParse(m,a);if(!h.success)throw new pr([o(m,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:kn.create(t).rest(Jn.create())})}returns(t){return new e({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new e({args:t||kn.create([]).rest(Jn.create()),returns:r||Jn.create(),typeName:L.ZodFunction,..._e(n)})}},ni=class extends $e{get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};ni.create=(e,t)=>new ni({getter:e,typeName:L.ZodLazy,..._e(t)});var oi=class extends $e{_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return F(r,{received:r.data,code:q.invalid_literal,expected:this._def.value}),ce}return{status:"valid",value:t.data}}get value(){return this._def.value}};oi.create=(e,t)=>new oi({value:e,typeName:L.ZodLiteral,..._e(t)});function jb(e,t){return new ii({values:e,typeName:L.ZodEnum,..._e(t)})}var ii=class e extends $e{_parse(t){if(typeof t.data!="string"){let r=this._getOrReturnCtx(t),n=this._def.values;return F(r,{expected:Re.joinValues(n),received:r.parsedType,code:q.invalid_type}),ce}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return F(r,{received:r.data,code:q.invalid_enum_value,options:n}),ce}return Gt(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return e.create(t,{...this._def,...r})}exclude(t,r=this._def){return e.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}};ii.create=jb;var ai=class extends $e{_parse(t){let r=Re.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==J.string&&n.parsedType!==J.number){let o=Re.objectValues(r);return F(n,{expected:Re.joinValues(o),received:n.parsedType,code:q.invalid_type}),ce}if(this._cache||(this._cache=new Set(Re.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){let o=Re.objectValues(r);return F(n,{received:n.data,code:q.invalid_enum_value,options:o}),ce}return Gt(t.data)}get enum(){return this._def.values}};ai.create=(e,t)=>new ai({values:e,typeName:L.ZodNativeEnum,..._e(t)});var bo=class extends $e{unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==J.promise&&r.common.async===!1)return F(r,{code:q.invalid_type,expected:J.promise,received:r.parsedType}),ce;let n=r.parsedType===J.promise?r.data:Promise.resolve(r.data);return Gt(n.then(o=>this._def.type.parseAsync(o,{path:r.path,errorMap:r.common.contextualErrorMap})))}};bo.create=(e,t)=>new bo({type:e,typeName:L.ZodPromise,..._e(t)});var Lr=class extends $e{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===L.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),o=this._def.effect||null,a={addIssue:u=>{F(n,u),u.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),o.type==="preprocess"){let u=o.transform(n.data,a);if(n.common.async)return Promise.resolve(u).then(async c=>{if(r.value==="aborted")return ce;let d=await this._def.schema._parseAsync({data:c,path:n.path,parent:n});return d.status==="aborted"?ce:d.status==="dirty"?Wo(d.value):r.value==="dirty"?Wo(d.value):d});{if(r.value==="aborted")return ce;let c=this._def.schema._parseSync({data:u,path:n.path,parent:n});return c.status==="aborted"?ce:c.status==="dirty"?Wo(c.value):r.value==="dirty"?Wo(c.value):c}}if(o.type==="refinement"){let u=c=>{let d=o.refinement(c,a);if(n.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(n.common.async===!1){let c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return c.status==="aborted"?ce:(c.status==="dirty"&&r.dirty(),u(c.value),{status:r.value,value:c.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>c.status==="aborted"?ce:(c.status==="dirty"&&r.dirty(),u(c.value).then(()=>({status:r.value,value:c.value}))))}if(o.type==="transform")if(n.common.async===!1){let u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!yo(u))return ce;let c=o.transform(u.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:c}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>yo(u)?Promise.resolve(o.transform(u.value,a)).then(c=>({status:r.value,value:c})):ce);Re.assertNever(o)}};Lr.create=(e,t,r)=>new Lr({schema:e,typeName:L.ZodEffects,effect:t,..._e(r)});Lr.createWithPreprocess=(e,t,r)=>new Lr({schema:t,effect:{type:"preprocess",transform:e},typeName:L.ZodEffects,..._e(r)});var mr=class extends $e{_parse(t){return this._getType(t)===J.undefined?Gt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};mr.create=(e,t)=>new mr({innerType:e,typeName:L.ZodOptional,..._e(t)});var zn=class extends $e{_parse(t){return this._getType(t)===J.null?Gt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};zn.create=(e,t)=>new zn({innerType:e,typeName:L.ZodNullable,..._e(t)});var si=class extends $e{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===J.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};si.create=(e,t)=>new si({innerType:e,typeName:L.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,..._e(t)});var ui=class extends $e{_parse(t){let{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},o=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ji(o)?o.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new pr(n.common.issues)},input:n.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new pr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};ui.create=(e,t)=>new ui({innerType:e,typeName:L.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,..._e(t)});var Qi=class extends $e{_parse(t){if(this._getType(t)!==J.nan){let n=this._getOrReturnCtx(t);return F(n,{code:q.invalid_type,expected:J.nan,received:n.parsedType}),ce}return{status:"valid",value:t.data}}};Qi.create=e=>new Qi({typeName:L.ZodNaN,..._e(e)});var yA=Symbol("zod_brand"),rs=class extends $e{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},ns=class e extends $e{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ce:a.status==="dirty"?(r.dirty(),Wo(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{let o=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?ce:o.status==="dirty"?(r.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:n.path,parent:n})}}static create(t,r){return new e({in:t,out:r,typeName:L.ZodPipeline})}},ci=class extends $e{_parse(t){let r=this._def.innerType._parse(t),n=o=>(yo(o)&&(o.value=Object.freeze(o.value)),o);return Ji(r)?r.then(o=>n(o)):n(r)}unwrap(){return this._def.innerType}};ci.create=(e,t)=>new ci({innerType:e,typeName:L.ZodReadonly,..._e(t)});function Ib(e,t){let r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function Nb(e,t={},r){return e?vo.create().superRefine((n,o)=>{let a=e(n);if(a instanceof Promise)return a.then(u=>{if(!u){let c=Ib(t,n),d=c.fatal??r??!0;o.addIssue({code:"custom",...c,fatal:d})}});if(!a){let u=Ib(t,n),c=u.fatal??r??!0;o.addIssue({code:"custom",...u,fatal:c})}}):vo.create()}var _A={object:hr.lazycreate},L;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(L||(L={}));var vA=(e,t={message:`Input not instance of ${e.name}`})=>Nb(r=>r instanceof e,t),Ab=_o.create,Cb=Go.create,bA=Qi.create,wA=Ko.create,Mb=Yo.create,xA=Xo.create,$A=Gi.create,kA=Qo.create,zA=ei.create,SA=vo.create,TA=Jn.create,PA=sn.create,EA=Ki.create,IA=Wn.create,_p=hr.create,RA=hr.strictCreate,OA=ti.create,ZA=vc.create,jA=ri.create,NA=kn.create,AA=bc.create,CA=Yi.create,MA=Xi.create,DA=wc.create,qA=ni.create,LA=oi.create,UA=ii.create,FA=ai.create,VA=bo.create,BA=Lr.create,HA=mr.create,JA=zn.create,WA=Lr.createWithPreprocess,GA=ns.create,KA=()=>Ab().optional(),YA=()=>Cb().optional(),XA=()=>Mb().optional(),QA={string:(e=>_o.create({...e,coerce:!0})),number:(e=>Go.create({...e,coerce:!0})),boolean:(e=>Yo.create({...e,coerce:!0})),bigint:(e=>Ko.create({...e,coerce:!0})),date:(e=>Xo.create({...e,coerce:!0}))};var eC=ce;var tC=Object.freeze({status:"aborted"});function Z(e,t,r){function n(c,d){var f;Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(f=c._zod).traits??(f.traits=new Set),c._zod.traits.add(e),t(c,d);for(let m in u.prototype)m in c||Object.defineProperty(c,m,{value:u.prototype[m].bind(c)});c._zod.constr=u,c._zod.def=d}let o=r?.Parent??Object;class a extends o{}Object.defineProperty(a,"name",{value:e});function u(c){var d;let f=r?.Parent?new a:this;n(f,c),(d=f._zod).deferred??(d.deferred=[]);for(let m of f._zod.deferred)m();return f}return Object.defineProperty(u,"init",{value:n}),Object.defineProperty(u,Symbol.hasInstance,{value:c=>r?.Parent&&c instanceof r.Parent?!0:c?._zod?.traits?.has(e)}),Object.defineProperty(u,"name",{value:e}),u}var rC=Symbol("zod_brand"),Gn=class extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}},xc={};function Pr(e){return e&&Object.assign(xc,e),xc}var je={};hc(je,{BIGINT_FORMAT_RANGES:()=>qb,Class:()=>bp,NUMBER_FORMAT_RANGES:()=>Tp,aborted:()=>di,allowsEval:()=>kp,assert:()=>sC,assertEqual:()=>nC,assertIs:()=>iC,assertNever:()=>aC,assertNotEqual:()=>oC,assignProp:()=>$p,cached:()=>as,captureStackTrace:()=>kc,cleanEnum:()=>bC,cleanRegex:()=>us,clone:()=>Er,createTransparentProxy:()=>pC,defineLazy:()=>nt,esc:()=>li,escapeRegex:()=>wo,extend:()=>gC,finalizeIssue:()=>un,floatSafeRemainder:()=>xp,getElementAtPath:()=>uC,getEnumValues:()=>is,getLengthableOrigin:()=>cs,getParsedType:()=>fC,getSizableOrigin:()=>Lb,isObject:()=>ea,isPlainObject:()=>ta,issue:()=>Pp,joinValues:()=>$c,jsonStringifyReplacer:()=>wp,merge:()=>yC,normalizeParams:()=>le,nullish:()=>ss,numKeys:()=>dC,omit:()=>hC,optionalKeys:()=>Sp,partial:()=>_C,pick:()=>mC,prefixIssues:()=>Sn,primitiveTypes:()=>Db,promiseAllObject:()=>cC,propertyKeyTypes:()=>zp,randomString:()=>lC,required:()=>vC,stringifyPrimitive:()=>zc,unwrapMessage:()=>os});function nC(e){return e}function oC(e){return e}function iC(e){}function aC(e){throw new Error}function sC(e){}function is(e){let t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,o])=>t.indexOf(+n)===-1).map(([n,o])=>o)}function $c(e,t="|"){return e.map(r=>zc(r)).join(t)}function wp(e,t){return typeof t=="bigint"?t.toString():t}function as(e){return{get value(){{let r=e();return Object.defineProperty(this,"value",{value:r}),r}throw new Error("cached value already set")}}}function ss(e){return e==null}function us(e){let t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function xp(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,o=r>n?r:n,a=Number.parseInt(e.toFixed(o).replace(".","")),u=Number.parseInt(t.toFixed(o).replace(".",""));return a%u/10**o}function nt(e,t,r){Object.defineProperty(e,t,{get(){{let o=r();return e[t]=o,o}throw new Error("cached value already set")},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}function $p(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function uC(e,t){return t?t.reduce((r,n)=>r?.[n],e):e}function cC(e){let t=Object.keys(e),r=t.map(n=>e[n]);return Promise.all(r).then(n=>{let o={};for(let a=0;a<t.length;a++)o[t[a]]=n[a];return o})}function lC(e=10){let t="abcdefghijklmnopqrstuvwxyz",r="";for(let n=0;n<e;n++)r+=t[Math.floor(Math.random()*t.length)];return r}function li(e){return JSON.stringify(e)}var kc=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function ea(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}var kp=as(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{let e=Function;return new e(""),!0}catch{return!1}});function ta(e){if(ea(e)===!1)return!1;let t=e.constructor;if(t===void 0)return!0;let r=t.prototype;return!(ea(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function dC(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}var fC=e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(e)?"array":e===null?"null":e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?"promise":typeof Map<"u"&&e instanceof Map?"map":typeof Set<"u"&&e instanceof Set?"set":typeof Date<"u"&&e instanceof Date?"date":typeof File<"u"&&e instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${t}`)}},zp=new Set(["string","number","symbol"]),Db=new Set(["string","number","bigint","boolean","symbol","undefined"]);function wo(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Er(e,t,r){let n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function le(e){let t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function pC(e){let t;return new Proxy({},{get(r,n,o){return t??(t=e()),Reflect.get(t,n,o)},set(r,n,o,a){return t??(t=e()),Reflect.set(t,n,o,a)},has(r,n){return t??(t=e()),Reflect.has(t,n)},deleteProperty(r,n){return t??(t=e()),Reflect.deleteProperty(t,n)},ownKeys(r){return t??(t=e()),Reflect.ownKeys(t)},getOwnPropertyDescriptor(r,n){return t??(t=e()),Reflect.getOwnPropertyDescriptor(t,n)},defineProperty(r,n,o){return t??(t=e()),Reflect.defineProperty(t,n,o)}})}function zc(e){return typeof e=="bigint"?e.toString()+"n":typeof e=="string"?`"${e}"`:`${e}`}function Sp(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}var Tp={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},qb={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function mC(e,t){let r={},n=e._zod.def;for(let o in t){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(r[o]=n.shape[o])}return Er(e,{...e._zod.def,shape:r,checks:[]})}function hC(e,t){let r={...e._zod.def.shape},n=e._zod.def;for(let o in t){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&delete r[o]}return Er(e,{...e._zod.def,shape:r,checks:[]})}function gC(e,t){if(!ta(t))throw new Error("Invalid input to extend: expected a plain object");let r={...e._zod.def,get shape(){let n={...e._zod.def.shape,...t};return $p(this,"shape",n),n},checks:[]};return Er(e,r)}function yC(e,t){return Er(e,{...e._zod.def,get shape(){let r={...e._zod.def.shape,...t._zod.def.shape};return $p(this,"shape",r),r},catchall:t._zod.def.catchall,checks:[]})}function _C(e,t,r){let n=t._zod.def.shape,o={...n};if(r)for(let a in r){if(!(a in n))throw new Error(`Unrecognized key: "${a}"`);r[a]&&(o[a]=e?new e({type:"optional",innerType:n[a]}):n[a])}else for(let a in n)o[a]=e?new e({type:"optional",innerType:n[a]}):n[a];return Er(t,{...t._zod.def,shape:o,checks:[]})}function vC(e,t,r){let n=t._zod.def.shape,o={...n};if(r)for(let a in r){if(!(a in o))throw new Error(`Unrecognized key: "${a}"`);r[a]&&(o[a]=new e({type:"nonoptional",innerType:n[a]}))}else for(let a in n)o[a]=new e({type:"nonoptional",innerType:n[a]});return Er(t,{...t._zod.def,shape:o,checks:[]})}function di(e,t=0){for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function Sn(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function os(e){return typeof e=="string"?e:e?.message}function un(e,t,r){let n={...e,path:e.path??[]};if(!e.message){let o=os(e.inst?._zod.def?.error?.(e))??os(t?.error?.(e))??os(r.customError?.(e))??os(r.localeError?.(e))??"Invalid input";n.message=o}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function Lb(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function cs(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Pp(...e){let[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}function bC(e){return Object.entries(e).filter(([t,r])=>Number.isNaN(Number.parseInt(t,10))).map(t=>t[1])}var bp=class{constructor(...t){}};var Ub=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,wp,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Sc=Z("$ZodError",Ub),ls=Z("$ZodError",Ub,{Parent:Error});function Ep(e,t=r=>r.message){let r={},n=[];for(let o of e.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(t(o))):n.push(t(o));return{formErrors:n,fieldErrors:r}}function Ip(e,t){let r=t||function(a){return a.message},n={_errors:[]},o=a=>{for(let u of a.issues)if(u.code==="invalid_union"&&u.errors.length)u.errors.map(c=>o({issues:c}));else if(u.code==="invalid_key")o({issues:u.issues});else if(u.code==="invalid_element")o({issues:u.issues});else if(u.path.length===0)n._errors.push(r(u));else{let c=n,d=0;for(;d<u.path.length;){let f=u.path[d];d===u.path.length-1?(c[f]=c[f]||{_errors:[]},c[f]._errors.push(r(u))):c[f]=c[f]||{_errors:[]},c=c[f],d++}}};return o(e),n}var Rp=e=>(t,r,n,o)=>{let a=n?Object.assign(n,{async:!1}):{async:!1},u=t._zod.run({value:r,issues:[]},a);if(u instanceof Promise)throw new Gn;if(u.issues.length){let c=new(o?.Err??e)(u.issues.map(d=>un(d,a,Pr())));throw kc(c,o?.callee),c}return u.value},Op=Rp(ls),Zp=e=>async(t,r,n,o)=>{let a=n?Object.assign(n,{async:!0}):{async:!0},u=t._zod.run({value:r,issues:[]},a);if(u instanceof Promise&&(u=await u),u.issues.length){let c=new(o?.Err??e)(u.issues.map(d=>un(d,a,Pr())));throw kc(c,o?.callee),c}return u.value},jp=Zp(ls),Np=e=>(t,r,n)=>{let o=n?{...n,async:!1}:{async:!1},a=t._zod.run({value:r,issues:[]},o);if(a instanceof Promise)throw new Gn;return a.issues.length?{success:!1,error:new(e??Sc)(a.issues.map(u=>un(u,o,Pr())))}:{success:!0,data:a.value}},fi=Np(ls),Ap=e=>async(t,r,n)=>{let o=n?Object.assign(n,{async:!0}):{async:!0},a=t._zod.run({value:r,issues:[]},o);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(u=>un(u,o,Pr())))}:{success:!0,data:a.value}},pi=Ap(ls);var Fb=/^[cC][^\s-]{8,}$/,Vb=/^[0-9a-z]+$/,Bb=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Hb=/^[0-9a-vA-V]{20}$/,Jb=/^[A-Za-z0-9]{27}$/,Wb=/^[a-zA-Z0-9_-]{21}$/,Gb=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/;var Kb=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Cp=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/;var Yb=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/;var xC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Xb(){return new RegExp(xC,"u")}var Qb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ew=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,tw=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,rw=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,nw=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Mp=/^[A-Za-z0-9_-]*$/,ow=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/;var iw=/^\+(?:[0-9]){6,14}[0-9]$/,aw="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",sw=new RegExp(`^${aw}$`);function uw(e){let t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function cw(e){return new RegExp(`^${uw(e)}$`)}function lw(e){let t=uw({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-]\\d{2}:\\d{2})");let n=`${t}(?:${r.join("|")})`;return new RegExp(`^${aw}T(?:${n})$`)}var dw=e=>{let t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)};var fw=/^\d+$/,pw=/^-?\d+(?:\.\d+)?/i,mw=/true|false/i,hw=/null/i;var gw=/^[^A-Z]*$/,yw=/^[^a-z]*$/;var Mt=Z("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),_w={number:"number",bigint:"bigint",object:"date"},Dp=Z("$ZodCheckLessThan",(e,t)=>{Mt.init(e,t);let r=_w[typeof t.value];e._zod.onattach.push(n=>{let o=n._zod.bag,a=(t.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<a&&(t.inclusive?o.maximum=t.value:o.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),qp=Z("$ZodCheckGreaterThan",(e,t)=>{Mt.init(e,t);let r=_w[typeof t.value];e._zod.onattach.push(n=>{let o=n._zod.bag,a=(t.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>a&&(t.inclusive?o.minimum=t.value:o.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),vw=Z("$ZodCheckMultipleOf",(e,t)=>{Mt.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):xp(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),bw=Z("$ZodCheckNumberFormat",(e,t)=>{Mt.init(e,t),t.format=t.format||"float64";let r=t.format?.includes("int"),n=r?"int":"number",[o,a]=Tp[t.format];e._zod.onattach.push(u=>{let c=u._zod.bag;c.format=t.format,c.minimum=o,c.maximum=a,r&&(c.pattern=fw)}),e._zod.check=u=>{let c=u.value;if(r){if(!Number.isInteger(c)){u.issues.push({expected:n,format:t.format,code:"invalid_type",input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?u.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):u.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}c<o&&u.issues.push({origin:"number",input:c,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),c>a&&u.issues.push({origin:"number",input:c,code:"too_big",maximum:a,inst:e})}});var ww=Z("$ZodCheckMaxLength",(e,t)=>{var r;Mt.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!ss(o)&&o.length!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{let o=n.value;if(o.length<=t.maximum)return;let u=cs(o);n.issues.push({origin:u,code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),xw=Z("$ZodCheckMinLength",(e,t)=>{var r;Mt.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!ss(o)&&o.length!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{let o=n.value;if(o.length>=t.minimum)return;let u=cs(o);n.issues.push({origin:u,code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),$w=Z("$ZodCheckLengthEquals",(e,t)=>{var r;Mt.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!ss(o)&&o.length!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag;o.minimum=t.length,o.maximum=t.length,o.length=t.length}),e._zod.check=n=>{let o=n.value,a=o.length;if(a===t.length)return;let u=cs(o),c=a>t.length;n.issues.push({origin:u,...c?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),ds=Z("$ZodCheckStringFormat",(e,t)=>{var r,n;Mt.init(e,t),e._zod.onattach.push(o=>{let a=o._zod.bag;a.format=t.format,t.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=o=>{t.pattern.lastIndex=0,!t.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:t.format,input:o.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),kw=Z("$ZodCheckRegex",(e,t)=>{ds.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),zw=Z("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=gw),ds.init(e,t)}),Sw=Z("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=yw),ds.init(e,t)}),Tw=Z("$ZodCheckIncludes",(e,t)=>{Mt.init(e,t);let r=wo(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(o=>{let a=o._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=o=>{o.value.includes(t.includes,t.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:o.value,inst:e,continue:!t.abort})}}),Pw=Z("$ZodCheckStartsWith",(e,t)=>{Mt.init(e,t);let r=new RegExp(`^${wo(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{let o=n._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),Ew=Z("$ZodCheckEndsWith",(e,t)=>{Mt.init(e,t);let r=new RegExp(`.*${wo(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{let o=n._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}});var Iw=Z("$ZodCheckOverwrite",(e,t)=>{Mt.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});var Pc=class{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}let n=t.split(`
`).filter(u=>u),o=Math.min(...n.map(u=>u.length-u.trimStart().length)),a=n.map(u=>u.slice(o)).map(u=>" ".repeat(this.indent*2)+u);for(let u of a)this.content.push(u)}compile(){let t=Function,r=this?.args,o=[...(this?.content??[""]).map(a=>`  ${a}`)];return new t(...r,o.join(`
`))}};var Ow={major:4,minor:0,patch:0};var Ke=Z("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Ow;let n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(let o of n)for(let a of o._zod.onattach)a(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let o=(a,u,c)=>{let d=di(a),f;for(let m of u){if(m._zod.def.when){if(!m._zod.def.when(a))continue}else if(d)continue;let h=a.issues.length,y=m._zod.check(a);if(y instanceof Promise&&c?.async===!1)throw new Gn;if(f||y instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await y,a.issues.length!==h&&(d||(d=di(a,h)))});else{if(a.issues.length===h)continue;d||(d=di(a,h))}}return f?f.then(()=>a):a};e._zod.run=(a,u)=>{let c=e._zod.parse(a,u);if(c instanceof Promise){if(u.async===!1)throw new Gn;return c.then(d=>o(d,n,u))}return o(c,n,u)}}e["~standard"]={validate:o=>{try{let a=fi(e,o);return a.success?{value:a.data}:{issues:a.error?.issues}}catch{return pi(e,o).then(u=>u.success?{value:u.data}:{issues:u.error?.issues})}},vendor:"zod",version:1}}),fs=Z("$ZodString",(e,t)=>{Ke.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??dw(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),ot=Z("$ZodStringFormat",(e,t)=>{ds.init(e,t),fs.init(e,t)}),Up=Z("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Kb),ot.init(e,t)}),Fp=Z("$ZodUUID",(e,t)=>{if(t.version){let n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Cp(n))}else t.pattern??(t.pattern=Cp());ot.init(e,t)}),Vp=Z("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Yb),ot.init(e,t)}),Bp=Z("$ZodURL",(e,t)=>{ot.init(e,t),e._zod.check=r=>{try{let n=r.value,o=new URL(n),a=o.href;t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:ow.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),!n.endsWith("/")&&a.endsWith("/")?r.value=a.slice(0,-1):r.value=a;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),Hp=Z("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=Xb()),ot.init(e,t)}),Jp=Z("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=Wb),ot.init(e,t)}),Wp=Z("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Fb),ot.init(e,t)}),Gp=Z("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=Vb),ot.init(e,t)}),Kp=Z("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Bb),ot.init(e,t)}),Yp=Z("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Hb),ot.init(e,t)}),Xp=Z("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Jb),ot.init(e,t)}),Uw=Z("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=lw(t)),ot.init(e,t)}),Fw=Z("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=sw),ot.init(e,t)}),Vw=Z("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=cw(t)),ot.init(e,t)}),Bw=Z("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Gb),ot.init(e,t)}),Qp=Z("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Qb),ot.init(e,t),e._zod.onattach.push(r=>{let n=r._zod.bag;n.format="ipv4"})}),em=Z("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=ew),ot.init(e,t),e._zod.onattach.push(r=>{let n=r._zod.bag;n.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),tm=Z("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=tw),ot.init(e,t)}),rm=Z("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=rw),ot.init(e,t),e._zod.check=r=>{let[n,o]=r.value.split("/");try{if(!o)throw new Error;let a=Number(o);if(`${a}`!==o)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${n}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function Hw(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}var nm=Z("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=nw),ot.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{Hw(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function $C(e){if(!Mp.test(e))return!1;let t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return Hw(r)}var om=Z("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Mp),ot.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{$C(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),im=Z("$ZodE164",(e,t)=>{t.pattern??(t.pattern=iw),ot.init(e,t)});function kC(e,t=null){try{let r=e.split(".");if(r.length!==3)return!1;let[n]=r;if(!n)return!1;let o=JSON.parse(atob(n));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}}var am=Z("$ZodJWT",(e,t)=>{ot.init(e,t),e._zod.check=r=>{kC(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}});var Ic=Z("$ZodNumber",(e,t)=>{Ke.init(e,t),e._zod.pattern=e._zod.bag.pattern??pw,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}let o=r.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return r;let a=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...a?{received:a}:{}}),r}}),sm=Z("$ZodNumber",(e,t)=>{bw.init(e,t),Ic.init(e,t)}),um=Z("$ZodBoolean",(e,t)=>{Ke.init(e,t),e._zod.pattern=mw,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}let o=r.value;return typeof o=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:e}),r}});var cm=Z("$ZodNull",(e,t)=>{Ke.init(e,t),e._zod.pattern=hw,e._zod.values=new Set([null]),e._zod.parse=(r,n)=>{let o=r.value;return o===null||r.issues.push({expected:"null",code:"invalid_type",input:o,inst:e}),r}});var lm=Z("$ZodUnknown",(e,t)=>{Ke.init(e,t),e._zod.parse=r=>r}),dm=Z("$ZodNever",(e,t)=>{Ke.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function Zw(e,t,r){e.issues.length&&t.issues.push(...Sn(r,e.issues)),t.value[r]=e.value}var fm=Z("$ZodArray",(e,t)=>{Ke.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;if(!Array.isArray(o))return r.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),r;r.value=Array(o.length);let a=[];for(let u=0;u<o.length;u++){let c=o[u],d=t.element._zod.run({value:c,issues:[]},n);d instanceof Promise?a.push(d.then(f=>Zw(f,r,u))):Zw(d,r,u)}return a.length?Promise.all(a).then(()=>r):r}});function Ec(e,t,r){e.issues.length&&t.issues.push(...Sn(r,e.issues)),t.value[r]=e.value}function jw(e,t,r,n){e.issues.length?n[r]===void 0?r in n?t.value[r]=void 0:t.value[r]=e.value:t.issues.push(...Sn(r,e.issues)):e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}var Rc=Z("$ZodObject",(e,t)=>{Ke.init(e,t);let r=as(()=>{let h=Object.keys(t.shape);for(let v of h)if(!(t.shape[v]instanceof Ke))throw new Error(`Invalid element at key "${v}": expected a Zod schema`);let y=Sp(t.shape);return{shape:t.shape,keys:h,keySet:new Set(h),numKeys:h.length,optionalKeys:new Set(y)}});nt(e._zod,"propValues",()=>{let h=t.shape,y={};for(let v in h){let w=h[v]._zod;if(w.values){y[v]??(y[v]=new Set);for(let $ of w.values)y[v].add($)}}return y});let n=h=>{let y=new Pc(["shape","payload","ctx"]),v=r.value,w=A=>{let j=li(A);return`shape[${j}]._zod.run({ value: input[${j}], issues: [] }, ctx)`};y.write("const input = payload.value;");let $=Object.create(null),z=0;for(let A of v.keys)$[A]=`key_${z++}`;y.write("const newResult = {}");for(let A of v.keys)if(v.optionalKeys.has(A)){let j=$[A];y.write(`const ${j} = ${w(A)};`);let U=li(A);y.write(`
        if (${j}.issues.length) {
          if (input[${U}] === undefined) {
            if (${U} in input) {
              newResult[${U}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${j}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${U}, ...iss.path] : [${U}],
              }))
            );
          }
        } else if (${j}.value === undefined) {
          if (${U} in input) newResult[${U}] = undefined;
        } else {
          newResult[${U}] = ${j}.value;
        }
        `)}else{let j=$[A];y.write(`const ${j} = ${w(A)};`),y.write(`
          if (${j}.issues.length) payload.issues = payload.issues.concat(${j}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${li(A)}, ...iss.path] : [${li(A)}]
          })));`),y.write(`newResult[${li(A)}] = ${j}.value`)}y.write("payload.value = newResult;"),y.write("return payload;");let I=y.compile();return(A,j)=>I(h,A,j)},o,a=ea,u=!xc.jitless,d=u&&kp.value,f=t.catchall,m;e._zod.parse=(h,y)=>{m??(m=r.value);let v=h.value;if(!a(v))return h.issues.push({expected:"object",code:"invalid_type",input:v,inst:e}),h;let w=[];if(u&&d&&y?.async===!1&&y.jitless!==!0)o||(o=n(t.shape)),h=o(h,y);else{h.value={};let j=m.shape;for(let U of m.keys){let G=j[U],te=G._zod.run({value:v[U],issues:[]},y),X=G._zod.optin==="optional"&&G._zod.optout==="optional";te instanceof Promise?w.push(te.then(he=>X?jw(he,h,U,v):Ec(he,h,U))):X?jw(te,h,U,v):Ec(te,h,U)}}if(!f)return w.length?Promise.all(w).then(()=>h):h;let $=[],z=m.keySet,I=f._zod,A=I.def.type;for(let j of Object.keys(v)){if(z.has(j))continue;if(A==="never"){$.push(j);continue}let U=I.run({value:v[j],issues:[]},y);U instanceof Promise?w.push(U.then(G=>Ec(G,h,j))):Ec(U,h,j)}return $.length&&h.issues.push({code:"unrecognized_keys",keys:$,input:v,inst:e}),w.length?Promise.all(w).then(()=>h):h}});function Nw(e,t,r,n){for(let o of e)if(o.issues.length===0)return t.value=o.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(o=>o.issues.map(a=>un(a,n,Pr())))}),t}var Oc=Z("$ZodUnion",(e,t)=>{Ke.init(e,t),nt(e._zod,"optin",()=>t.options.some(r=>r._zod.optin==="optional")?"optional":void 0),nt(e._zod,"optout",()=>t.options.some(r=>r._zod.optout==="optional")?"optional":void 0),nt(e._zod,"values",()=>{if(t.options.every(r=>r._zod.values))return new Set(t.options.flatMap(r=>Array.from(r._zod.values)))}),nt(e._zod,"pattern",()=>{if(t.options.every(r=>r._zod.pattern)){let r=t.options.map(n=>n._zod.pattern);return new RegExp(`^(${r.map(n=>us(n.source)).join("|")})$`)}}),e._zod.parse=(r,n)=>{let o=!1,a=[];for(let u of t.options){let c=u._zod.run({value:r.value,issues:[]},n);if(c instanceof Promise)a.push(c),o=!0;else{if(c.issues.length===0)return c;a.push(c)}}return o?Promise.all(a).then(u=>Nw(u,r,e,n)):Nw(a,r,e,n)}}),pm=Z("$ZodDiscriminatedUnion",(e,t)=>{Oc.init(e,t);let r=e._zod.parse;nt(e._zod,"propValues",()=>{let o={};for(let a of t.options){let u=a._zod.propValues;if(!u||Object.keys(u).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(a)}"`);for(let[c,d]of Object.entries(u)){o[c]||(o[c]=new Set);for(let f of d)o[c].add(f)}}return o});let n=as(()=>{let o=t.options,a=new Map;for(let u of o){let c=u._zod.propValues[t.discriminator];if(!c||c.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(u)}"`);for(let d of c){if(a.has(d))throw new Error(`Duplicate discriminator value "${String(d)}"`);a.set(d,u)}}return a});e._zod.parse=(o,a)=>{let u=o.value;if(!ea(u))return o.issues.push({code:"invalid_type",expected:"object",input:u,inst:e}),o;let c=n.value.get(u?.[t.discriminator]);return c?c._zod.run(o,a):t.unionFallback?r(o,a):(o.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",input:u,path:[t.discriminator],inst:e}),o)}}),mm=Z("$ZodIntersection",(e,t)=>{Ke.init(e,t),e._zod.parse=(r,n)=>{let o=r.value,a=t.left._zod.run({value:o,issues:[]},n),u=t.right._zod.run({value:o,issues:[]},n);return a instanceof Promise||u instanceof Promise?Promise.all([a,u]).then(([d,f])=>Aw(r,d,f)):Aw(r,a,u)}});function Lp(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(ta(e)&&ta(t)){let r=Object.keys(t),n=Object.keys(e).filter(a=>r.indexOf(a)!==-1),o={...e,...t};for(let a of n){let u=Lp(e[a],t[a]);if(!u.valid)return{valid:!1,mergeErrorPath:[a,...u.mergeErrorPath]};o[a]=u.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};let r=[];for(let n=0;n<e.length;n++){let o=e[n],a=t[n],u=Lp(o,a);if(!u.valid)return{valid:!1,mergeErrorPath:[n,...u.mergeErrorPath]};r.push(u.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function Aw(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),di(e))return e;let n=Lp(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}var hm=Z("$ZodRecord",(e,t)=>{Ke.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;if(!ta(o))return r.issues.push({expected:"record",code:"invalid_type",input:o,inst:e}),r;let a=[];if(t.keyType._zod.values){let u=t.keyType._zod.values;r.value={};for(let d of u)if(typeof d=="string"||typeof d=="number"||typeof d=="symbol"){let f=t.valueType._zod.run({value:o[d],issues:[]},n);f instanceof Promise?a.push(f.then(m=>{m.issues.length&&r.issues.push(...Sn(d,m.issues)),r.value[d]=m.value})):(f.issues.length&&r.issues.push(...Sn(d,f.issues)),r.value[d]=f.value)}let c;for(let d in o)u.has(d)||(c=c??[],c.push(d));c&&c.length>0&&r.issues.push({code:"unrecognized_keys",input:o,inst:e,keys:c})}else{r.value={};for(let u of Reflect.ownKeys(o)){if(u==="__proto__")continue;let c=t.keyType._zod.run({value:u,issues:[]},n);if(c instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(c.issues.length){r.issues.push({origin:"record",code:"invalid_key",issues:c.issues.map(f=>un(f,n,Pr())),input:u,path:[u],inst:e}),r.value[c.value]=c.value;continue}let d=t.valueType._zod.run({value:o[u],issues:[]},n);d instanceof Promise?a.push(d.then(f=>{f.issues.length&&r.issues.push(...Sn(u,f.issues)),r.value[c.value]=f.value})):(d.issues.length&&r.issues.push(...Sn(u,d.issues)),r.value[c.value]=d.value)}}return a.length?Promise.all(a).then(()=>r):r}});var gm=Z("$ZodEnum",(e,t)=>{Ke.init(e,t);let r=is(t.entries);e._zod.values=new Set(r),e._zod.pattern=new RegExp(`^(${r.filter(n=>zp.has(typeof n)).map(n=>typeof n=="string"?wo(n):n.toString()).join("|")})$`),e._zod.parse=(n,o)=>{let a=n.value;return e._zod.values.has(a)||n.issues.push({code:"invalid_value",values:r,input:a,inst:e}),n}}),ym=Z("$ZodLiteral",(e,t)=>{Ke.init(e,t),e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?wo(r):r?r.toString():String(r)).join("|")})$`),e._zod.parse=(r,n)=>{let o=r.value;return e._zod.values.has(o)||r.issues.push({code:"invalid_value",values:t.values,input:o,inst:e}),r}});var _m=Z("$ZodTransform",(e,t)=>{Ke.init(e,t),e._zod.parse=(r,n)=>{let o=t.transform(r.value,r);if(n.async)return(o instanceof Promise?o:Promise.resolve(o)).then(u=>(r.value=u,r));if(o instanceof Promise)throw new Gn;return r.value=o,r}}),vm=Z("$ZodOptional",(e,t)=>{Ke.init(e,t),e._zod.optin="optional",e._zod.optout="optional",nt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),nt(e._zod,"pattern",()=>{let r=t.innerType._zod.pattern;return r?new RegExp(`^(${us(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(r,n):r.value===void 0?r:t.innerType._zod.run(r,n)}),bm=Z("$ZodNullable",(e,t)=>{Ke.init(e,t),nt(e._zod,"optin",()=>t.innerType._zod.optin),nt(e._zod,"optout",()=>t.innerType._zod.optout),nt(e._zod,"pattern",()=>{let r=t.innerType._zod.pattern;return r?new RegExp(`^(${us(r.source)}|null)$`):void 0}),nt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),wm=Z("$ZodDefault",(e,t)=>{Ke.init(e,t),e._zod.optin="optional",nt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(r.value===void 0)return r.value=t.defaultValue,r;let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(a=>Cw(a,t)):Cw(o,t)}});function Cw(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}var xm=Z("$ZodPrefault",(e,t)=>{Ke.init(e,t),e._zod.optin="optional",nt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),$m=Z("$ZodNonOptional",(e,t)=>{Ke.init(e,t),nt(e._zod,"values",()=>{let r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(a=>Mw(a,e)):Mw(o,e)}});function Mw(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}var km=Z("$ZodCatch",(e,t)=>{Ke.init(e,t),e._zod.optin="optional",nt(e._zod,"optout",()=>t.innerType._zod.optout),nt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(a=>(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(u=>un(u,n,Pr()))},input:r.value}),r.issues=[]),r)):(r.value=o.value,o.issues.length&&(r.value=t.catchValue({...r,error:{issues:o.issues.map(a=>un(a,n,Pr()))},input:r.value}),r.issues=[]),r)}});var zm=Z("$ZodPipe",(e,t)=>{Ke.init(e,t),nt(e._zod,"values",()=>t.in._zod.values),nt(e._zod,"optin",()=>t.in._zod.optin),nt(e._zod,"optout",()=>t.out._zod.optout),e._zod.parse=(r,n)=>{let o=t.in._zod.run(r,n);return o instanceof Promise?o.then(a=>Dw(a,t,n)):Dw(o,t,n)}});function Dw(e,t,r){return di(e)?e:t.out._zod.run({value:e.value,issues:e.issues},r)}var Sm=Z("$ZodReadonly",(e,t)=>{Ke.init(e,t),nt(e._zod,"propValues",()=>t.innerType._zod.propValues),nt(e._zod,"values",()=>t.innerType._zod.values),nt(e._zod,"optin",()=>t.innerType._zod.optin),nt(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(r,n)=>{let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(qw):qw(o)}});function qw(e){return e.value=Object.freeze(e.value),e}var Tm=Z("$ZodCustom",(e,t)=>{Mt.init(e,t),Ke.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{let n=r.value,o=t.fn(n);if(o instanceof Promise)return o.then(a=>Lw(a,r,n,e));Lw(o,r,n,e)}});function Lw(e,t,r,n){if(!e){let o={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(o.params=n._zod.def.params),t.issues.push(Pp(o))}}var zC=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},SC=()=>{let e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function t(n){return e[n]??null}let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Invalid input: expected ${n.expected}, received ${zC(n.input)}`;case"invalid_value":return n.values.length===1?`Invalid input: expected ${zc(n.values[0])}`:`Invalid option: expected one of ${$c(n.values,"|")}`;case"too_big":{let o=n.inclusive?"<=":"<",a=t(n.origin);return a?`Too big: expected ${n.origin??"value"} to have ${o}${n.maximum.toString()} ${a.unit??"elements"}`:`Too big: expected ${n.origin??"value"} to be ${o}${n.maximum.toString()}`}case"too_small":{let o=n.inclusive?">=":">",a=t(n.origin);return a?`Too small: expected ${n.origin} to have ${o}${n.minimum.toString()} ${a.unit}`:`Too small: expected ${n.origin} to be ${o}${n.minimum.toString()}`}case"invalid_format":{let o=n;return o.format==="starts_with"?`Invalid string: must start with "${o.prefix}"`:o.format==="ends_with"?`Invalid string: must end with "${o.suffix}"`:o.format==="includes"?`Invalid string: must include "${o.includes}"`:o.format==="regex"?`Invalid string: must match pattern ${o.pattern}`:`Invalid ${r[o.format]??n.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${n.divisor}`;case"unrecognized_keys":return`Unrecognized key${n.keys.length>1?"s":""}: ${$c(n.keys,", ")}`;case"invalid_key":return`Invalid key in ${n.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${n.origin}`;default:return"Invalid input"}}};function Jw(){return{localeError:SC()}}var TC=Symbol("ZodOutput"),PC=Symbol("ZodInput"),ps=class{constructor(){this._map=new Map,this._idmap=new Map}add(t,...r){let n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){let r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){let r=t._zod.parent;if(r){let n={...this.get(r)??{}};return delete n.id,{...n,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}};function Ww(){return new ps}var xo=Ww();function Pm(e,t){return new e({type:"string",...le(t)})}function Em(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...le(t)})}function Zc(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...le(t)})}function Im(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...le(t)})}function Rm(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...le(t)})}function Om(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...le(t)})}function Zm(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...le(t)})}function jm(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...le(t)})}function Nm(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...le(t)})}function Am(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...le(t)})}function Cm(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...le(t)})}function Mm(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...le(t)})}function Dm(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...le(t)})}function qm(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...le(t)})}function Lm(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...le(t)})}function Um(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...le(t)})}function Fm(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...le(t)})}function Vm(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...le(t)})}function Bm(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...le(t)})}function Hm(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...le(t)})}function Jm(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...le(t)})}function Wm(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...le(t)})}function Gm(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...le(t)})}function Gw(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...le(t)})}function Kw(e,t){return new e({type:"string",format:"date",check:"string_format",...le(t)})}function Yw(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...le(t)})}function Xw(e,t){return new e({type:"string",format:"duration",check:"string_format",...le(t)})}function Km(e,t){return new e({type:"number",checks:[],...le(t)})}function Ym(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...le(t)})}function Xm(e,t){return new e({type:"boolean",...le(t)})}function Qm(e,t){return new e({type:"null",...le(t)})}function eh(e){return new e({type:"unknown"})}function th(e,t){return new e({type:"never",...le(t)})}function jc(e,t){return new Dp({check:"less_than",...le(t),value:e,inclusive:!1})}function ms(e,t){return new Dp({check:"less_than",...le(t),value:e,inclusive:!0})}function Nc(e,t){return new qp({check:"greater_than",...le(t),value:e,inclusive:!1})}function hs(e,t){return new qp({check:"greater_than",...le(t),value:e,inclusive:!0})}function Ac(e,t){return new vw({check:"multiple_of",...le(t),value:e})}function Cc(e,t){return new ww({check:"max_length",...le(t),maximum:e})}function ra(e,t){return new xw({check:"min_length",...le(t),minimum:e})}function Mc(e,t){return new $w({check:"length_equals",...le(t),length:e})}function rh(e,t){return new kw({check:"string_format",format:"regex",...le(t),pattern:e})}function nh(e){return new zw({check:"string_format",format:"lowercase",...le(e)})}function oh(e){return new Sw({check:"string_format",format:"uppercase",...le(e)})}function ih(e,t){return new Tw({check:"string_format",format:"includes",...le(t),includes:e})}function ah(e,t){return new Pw({check:"string_format",format:"starts_with",...le(t),prefix:e})}function sh(e,t){return new Ew({check:"string_format",format:"ends_with",...le(t),suffix:e})}function mi(e){return new Iw({check:"overwrite",tx:e})}function uh(e){return mi(t=>t.normalize(e))}function ch(){return mi(e=>e.trim())}function lh(){return mi(e=>e.toLowerCase())}function dh(){return mi(e=>e.toUpperCase())}function Qw(e,t,r){return new e({type:"array",element:t,...le(r)})}function fh(e,t,r){let n=le(r);return n.abort??(n.abort=!0),new e({type:"custom",check:"custom",fn:t,...n})}function ph(e,t,r){return new e({type:"custom",check:"custom",fn:t,...le(r)})}var Dc=class{constructor(t){this.counter=0,this.metadataRegistry=t?.metadata??xo,this.target=t?.target??"draft-2020-12",this.unrepresentable=t?.unrepresentable??"throw",this.override=t?.override??(()=>{}),this.io=t?.io??"output",this.seen=new Map}process(t,r={path:[],schemaPath:[]}){var n;let o=t._zod.def,a={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},u=this.seen.get(t);if(u)return u.count++,r.schemaPath.includes(t)&&(u.cycle=r.path),u.schema;let c={schema:{},count:1,cycle:void 0,path:r.path};this.seen.set(t,c);let d=t._zod.toJSONSchema?.();if(d)c.schema=d;else{let h={...r,schemaPath:[...r.schemaPath,t],path:r.path},y=t._zod.parent;if(y)c.ref=y,this.process(y,h),this.seen.get(y).isParent=!0;else{let v=c.schema;switch(o.type){case"string":{let w=v;w.type="string";let{minimum:$,maximum:z,format:I,patterns:A,contentEncoding:j}=t._zod.bag;if(typeof $=="number"&&(w.minLength=$),typeof z=="number"&&(w.maxLength=z),I&&(w.format=a[I]??I,w.format===""&&delete w.format),j&&(w.contentEncoding=j),A&&A.size>0){let U=[...A];U.length===1?w.pattern=U[0].source:U.length>1&&(c.schema.allOf=[...U.map(G=>({...this.target==="draft-7"?{type:"string"}:{},pattern:G.source}))])}break}case"number":{let w=v,{minimum:$,maximum:z,format:I,multipleOf:A,exclusiveMaximum:j,exclusiveMinimum:U}=t._zod.bag;typeof I=="string"&&I.includes("int")?w.type="integer":w.type="number",typeof U=="number"&&(w.exclusiveMinimum=U),typeof $=="number"&&(w.minimum=$,typeof U=="number"&&(U>=$?delete w.minimum:delete w.exclusiveMinimum)),typeof j=="number"&&(w.exclusiveMaximum=j),typeof z=="number"&&(w.maximum=z,typeof j=="number"&&(j<=z?delete w.maximum:delete w.exclusiveMaximum)),typeof A=="number"&&(w.multipleOf=A);break}case"boolean":{let w=v;w.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{v.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{v.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{let w=v,{minimum:$,maximum:z}=t._zod.bag;typeof $=="number"&&(w.minItems=$),typeof z=="number"&&(w.maxItems=z),w.type="array",w.items=this.process(o.element,{...h,path:[...h.path,"items"]});break}case"object":{let w=v;w.type="object",w.properties={};let $=o.shape;for(let A in $)w.properties[A]=this.process($[A],{...h,path:[...h.path,"properties",A]});let z=new Set(Object.keys($)),I=new Set([...z].filter(A=>{let j=o.shape[A]._zod;return this.io==="input"?j.optin===void 0:j.optout===void 0}));I.size>0&&(w.required=Array.from(I)),o.catchall?._zod.def.type==="never"?w.additionalProperties=!1:o.catchall?o.catchall&&(w.additionalProperties=this.process(o.catchall,{...h,path:[...h.path,"additionalProperties"]})):this.io==="output"&&(w.additionalProperties=!1);break}case"union":{let w=v;w.anyOf=o.options.map(($,z)=>this.process($,{...h,path:[...h.path,"anyOf",z]}));break}case"intersection":{let w=v,$=this.process(o.left,{...h,path:[...h.path,"allOf",0]}),z=this.process(o.right,{...h,path:[...h.path,"allOf",1]}),I=j=>"allOf"in j&&Object.keys(j).length===1,A=[...I($)?$.allOf:[$],...I(z)?z.allOf:[z]];w.allOf=A;break}case"tuple":{let w=v;w.type="array";let $=o.items.map((A,j)=>this.process(A,{...h,path:[...h.path,"prefixItems",j]}));if(this.target==="draft-2020-12"?w.prefixItems=$:w.items=$,o.rest){let A=this.process(o.rest,{...h,path:[...h.path,"items"]});this.target==="draft-2020-12"?w.items=A:w.additionalItems=A}o.rest&&(w.items=this.process(o.rest,{...h,path:[...h.path,"items"]}));let{minimum:z,maximum:I}=t._zod.bag;typeof z=="number"&&(w.minItems=z),typeof I=="number"&&(w.maxItems=I);break}case"record":{let w=v;w.type="object",w.propertyNames=this.process(o.keyType,{...h,path:[...h.path,"propertyNames"]}),w.additionalProperties=this.process(o.valueType,{...h,path:[...h.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{let w=v,$=is(o.entries);$.every(z=>typeof z=="number")&&(w.type="number"),$.every(z=>typeof z=="string")&&(w.type="string"),w.enum=$;break}case"literal":{let w=v,$=[];for(let z of o.values)if(z===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof z=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");$.push(Number(z))}else $.push(z);if($.length!==0)if($.length===1){let z=$[0];w.type=z===null?"null":typeof z,w.const=z}else $.every(z=>typeof z=="number")&&(w.type="number"),$.every(z=>typeof z=="string")&&(w.type="string"),$.every(z=>typeof z=="boolean")&&(w.type="string"),$.every(z=>z===null)&&(w.type="null"),w.enum=$;break}case"file":{let w=v,$={type:"string",format:"binary",contentEncoding:"binary"},{minimum:z,maximum:I,mime:A}=t._zod.bag;z!==void 0&&($.minLength=z),I!==void 0&&($.maxLength=I),A?A.length===1?($.contentMediaType=A[0],Object.assign(w,$)):w.anyOf=A.map(j=>({...$,contentMediaType:j})):Object.assign(w,$);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{let w=this.process(o.innerType,h);v.anyOf=[w,{type:"null"}];break}case"nonoptional":{this.process(o.innerType,h),c.ref=o.innerType;break}case"success":{let w=v;w.type="boolean";break}case"default":{this.process(o.innerType,h),c.ref=o.innerType,v.default=JSON.parse(JSON.stringify(o.defaultValue));break}case"prefault":{this.process(o.innerType,h),c.ref=o.innerType,this.io==="input"&&(v._prefault=JSON.parse(JSON.stringify(o.defaultValue)));break}case"catch":{this.process(o.innerType,h),c.ref=o.innerType;let w;try{w=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}v.default=w;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{let w=v,$=t._zod.pattern;if(!$)throw new Error("Pattern not found in template literal");w.type="string",w.pattern=$.source;break}case"pipe":{let w=this.io==="input"?o.in._zod.def.type==="transform"?o.out:o.in:o.out;this.process(w,h),c.ref=w;break}case"readonly":{this.process(o.innerType,h),c.ref=o.innerType,v.readOnly=!0;break}case"promise":{this.process(o.innerType,h),c.ref=o.innerType;break}case"optional":{this.process(o.innerType,h),c.ref=o.innerType;break}case"lazy":{let w=t._zod.innerType;this.process(w,h),c.ref=w;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}default:}}}let f=this.metadataRegistry.get(t);return f&&Object.assign(c.schema,f),this.io==="input"&&Rt(t)&&(delete c.schema.examples,delete c.schema.default),this.io==="input"&&c.schema._prefault&&((n=c.schema).default??(n.default=c.schema._prefault)),delete c.schema._prefault,this.seen.get(t).schema}emit(t,r){let n={cycles:r?.cycles??"ref",reused:r?.reused??"inline",external:r?.external??void 0},o=this.seen.get(t);if(!o)throw new Error("Unprocessed schema. This is a bug in Zod.");let a=m=>{let h=this.target==="draft-2020-12"?"$defs":"definitions";if(n.external){let $=n.external.registry.get(m[0])?.id,z=n.external.uri??(A=>A);if($)return{ref:z($)};let I=m[1].defId??m[1].schema.id??`schema${this.counter++}`;return m[1].defId=I,{defId:I,ref:`${z("__shared")}#/${h}/${I}`}}if(m[1]===o)return{ref:"#"};let v=`#/${h}/`,w=m[1].schema.id??`__schema${this.counter++}`;return{defId:w,ref:v+w}},u=m=>{if(m[1].schema.$ref)return;let h=m[1],{ref:y,defId:v}=a(m);h.def={...h.schema},v&&(h.defId=v);let w=h.schema;for(let $ in w)delete w[$];w.$ref=y};if(n.cycles==="throw")for(let m of this.seen.entries()){let h=m[1];if(h.cycle)throw new Error(`Cycle detected: #/${h.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let m of this.seen.entries()){let h=m[1];if(t===m[0]){u(m);continue}if(n.external){let v=n.external.registry.get(m[0])?.id;if(t!==m[0]&&v){u(m);continue}}if(this.metadataRegistry.get(m[0])?.id){u(m);continue}if(h.cycle){u(m);continue}if(h.count>1&&n.reused==="ref"){u(m);continue}}let c=(m,h)=>{let y=this.seen.get(m),v=y.def??y.schema,w={...v};if(y.ref===null)return;let $=y.ref;if(y.ref=null,$){c($,h);let z=this.seen.get($).schema;z.$ref&&h.target==="draft-7"?(v.allOf=v.allOf??[],v.allOf.push(z)):(Object.assign(v,z),Object.assign(v,w))}y.isParent||this.override({zodSchema:m,jsonSchema:v,path:y.path??[]})};for(let m of[...this.seen.entries()].reverse())c(m[0],{target:this.target});let d={};if(this.target==="draft-2020-12"?d.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?d.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),n.external?.uri){let m=n.external.registry.get(t)?.id;if(!m)throw new Error("Schema is missing an `id` property");d.$id=n.external.uri(m)}Object.assign(d,o.def);let f=n.external?.defs??{};for(let m of this.seen.entries()){let h=m[1];h.def&&h.defId&&(f[h.defId]=h.def)}n.external||Object.keys(f).length>0&&(this.target==="draft-2020-12"?d.$defs=f:d.definitions=f);try{return JSON.parse(JSON.stringify(d))}catch{throw new Error("Error converting schema to JSON.")}}};function mh(e,t){if(e instanceof ps){let n=new Dc(t),o={};for(let c of e._idmap.entries()){let[d,f]=c;n.process(f)}let a={},u={registry:e,uri:t?.uri,defs:o};for(let c of e._idmap.entries()){let[d,f]=c;a[d]=n.emit(f,{...t,external:u})}if(Object.keys(o).length>0){let c=n.target==="draft-2020-12"?"$defs":"definitions";a.__shared={[c]:o}}return{schemas:a}}let r=new Dc(t);return r.process(e),r.emit(e,t)}function Rt(e,t){let r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);let o=e._zod.def;switch(o.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return Rt(o.element,r);case"object":{for(let a in o.shape)if(Rt(o.shape[a],r))return!0;return!1}case"union":{for(let a of o.options)if(Rt(a,r))return!0;return!1}case"intersection":return Rt(o.left,r)||Rt(o.right,r);case"tuple":{for(let a of o.items)if(Rt(a,r))return!0;return!!(o.rest&&Rt(o.rest,r))}case"record":return Rt(o.keyType,r)||Rt(o.valueType,r);case"map":return Rt(o.keyType,r)||Rt(o.valueType,r);case"set":return Rt(o.valueType,r);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return Rt(o.innerType,r);case"lazy":return Rt(o.getter(),r);case"default":return Rt(o.innerType,r);case"prefault":return Rt(o.innerType,r);case"custom":return!1;case"transform":return!0;case"pipe":return Rt(o.in,r)||Rt(o.out,r);case"success":return!1;case"catch":return!1;default:}throw new Error(`Unknown schema type: ${o.type}`)}var c4=Z("ZodMiniType",(e,t)=>{if(!e._zod)throw new Error("Uninitialized schema in ZodMiniType.");Ke.init(e,t),e.def=t,e.parse=(r,n)=>Op(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>fi(e,r,n),e.parseAsync=async(r,n)=>jp(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>pi(e,r,n),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),e.clone=(r,n)=>Er(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e))});var l4=Z("ZodMiniObject",(e,t)=>{Rc.init(e,t),c4.init(e,t),je.defineLazy(e,"shape",()=>t.shape)});function hh(e,t){let r={type:"object",get shape(){return je.assignProp(this,"shape",{...e}),this.shape},...je.normalizeParams(t)};return new l4(r)}function Ur(e){return!!e._zod}function gi(e){let t=Object.values(e);if(t.length===0)return hh({});let r=t.every(Ur),n=t.every(o=>!Ur(o));if(r)return hh(e);if(n)return _p(e);throw new Error("Mixed Zod versions detected in object shape.")}function $o(e,t){return Ur(e)?fi(e,t):e.safeParse(t)}async function qc(e,t){return Ur(e)?await pi(e,t):await e.safeParseAsync(t)}function ko(e){if(!e)return;let t;if(Ur(e)?t=e._zod?.def?.shape:t=e.shape,!!t){if(typeof t=="function")try{return t()}catch{return}return t}}function na(e){if(e){if(typeof e=="object"){let t=e,r=e;if(!t._def&&!r._zod){let n=Object.values(e);if(n.length>0&&n.every(o=>typeof o=="object"&&o!==null&&(o._def!==void 0||o._zod!==void 0||typeof o.parse=="function")))return gi(e)}}if(Ur(e)){let r=e._zod?.def;if(r&&(r.type==="object"||r.shape!==void 0))return e}else if(e.shape!==void 0)return e}}function Lc(e){if(e&&typeof e=="object"){if("message"in e&&typeof e.message=="string")return e.message;if("issues"in e&&Array.isArray(e.issues)&&e.issues.length>0){let t=e.issues[0];if(t&&typeof t=="object"&&"message"in t)return String(t.message)}try{return JSON.stringify(e)}catch{return String(e)}}return String(e)}function tx(e){return e.description}function rx(e){if(Ur(e))return e._zod?.def?.type==="optional";let t=e;return typeof e.isOptional=="function"?e.isOptional():t._def?.typeName==="ZodOptional"}function Uc(e){if(Ur(e)){let a=e._zod?.def;if(a){if(a.value!==void 0)return a.value;if(Array.isArray(a.values)&&a.values.length>0)return a.values[0]}}let r=e._def;if(r){if(r.value!==void 0)return r.value;if(Array.isArray(r.values)&&r.values.length>0)return r.values[0]}let n=e.value;if(n!==void 0)return n}var gs={};hc(gs,{ZodISODate:()=>ox,ZodISODateTime:()=>nx,ZodISODuration:()=>ax,ZodISOTime:()=>ix,date:()=>yh,datetime:()=>gh,duration:()=>vh,time:()=>_h});var nx=Z("ZodISODateTime",(e,t)=>{Uw.init(e,t),mt.init(e,t)});function gh(e){return Gw(nx,e)}var ox=Z("ZodISODate",(e,t)=>{Fw.init(e,t),mt.init(e,t)});function yh(e){return Kw(ox,e)}var ix=Z("ZodISOTime",(e,t)=>{Vw.init(e,t),mt.init(e,t)});function _h(e){return Yw(ix,e)}var ax=Z("ZodISODuration",(e,t)=>{Bw.init(e,t),mt.init(e,t)});function vh(e){return Xw(ax,e)}var sx=(e,t)=>{Sc.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>Ip(e,r)},flatten:{value:r=>Ep(e,r)},addIssue:{value:r=>e.issues.push(r)},addIssues:{value:r=>e.issues.push(...r)},isEmpty:{get(){return e.issues.length===0}}})},xG=Z("ZodError",sx),ys=Z("ZodError",sx,{Parent:Error});var ux=Rp(ys),cx=Zp(ys),lx=Np(ys),dx=Ap(ys);var wt=Z("ZodType",(e,t)=>(Ke.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),e.clone=(r,n)=>Er(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e)),e.parse=(r,n)=>ux(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>lx(e,r,n),e.parseAsync=async(r,n)=>cx(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>dx(e,r,n),e.spa=e.safeParseAsync,e.refine=(r,n)=>e.check(sM(r,n)),e.superRefine=r=>e.check(uM(r)),e.overwrite=r=>e.check(mi(r)),e.optional=()=>bt(e),e.nullable=()=>mx(e),e.nullish=()=>bt(mx(e)),e.nonoptional=r=>eM(e,r),e.array=()=>Ce(e),e.or=r=>it([e,r]),e.and=r=>Vc(e,r),e.transform=r=>wh(e,vx(r)),e.default=r=>Y4(e,r),e.prefault=r=>Q4(e,r),e.catch=r=>rM(e,r),e.pipe=r=>wh(e,r),e.readonly=()=>iM(e),e.describe=r=>{let n=e.clone();return xo.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return xo.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return xo.get(e);let n=e.clone();return xo.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),hx=Z("_ZodString",(e,t)=>{fs.init(e,t),wt.init(e,t);let r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(rh(...n)),e.includes=(...n)=>e.check(ih(...n)),e.startsWith=(...n)=>e.check(ah(...n)),e.endsWith=(...n)=>e.check(sh(...n)),e.min=(...n)=>e.check(ra(...n)),e.max=(...n)=>e.check(Cc(...n)),e.length=(...n)=>e.check(Mc(...n)),e.nonempty=(...n)=>e.check(ra(1,...n)),e.lowercase=n=>e.check(nh(n)),e.uppercase=n=>e.check(oh(n)),e.trim=()=>e.check(ch()),e.normalize=(...n)=>e.check(uh(...n)),e.toLowerCase=()=>e.check(lh()),e.toUpperCase=()=>e.check(dh())}),v4=Z("ZodString",(e,t)=>{fs.init(e,t),hx.init(e,t),e.email=r=>e.check(Em(b4,r)),e.url=r=>e.check(jm(w4,r)),e.jwt=r=>e.check(Gm(A4,r)),e.emoji=r=>e.check(Nm(x4,r)),e.guid=r=>e.check(Zc(fx,r)),e.uuid=r=>e.check(Im(Fc,r)),e.uuidv4=r=>e.check(Rm(Fc,r)),e.uuidv6=r=>e.check(Om(Fc,r)),e.uuidv7=r=>e.check(Zm(Fc,r)),e.nanoid=r=>e.check(Am($4,r)),e.guid=r=>e.check(Zc(fx,r)),e.cuid=r=>e.check(Cm(k4,r)),e.cuid2=r=>e.check(Mm(z4,r)),e.ulid=r=>e.check(Dm(S4,r)),e.base64=r=>e.check(Hm(Z4,r)),e.base64url=r=>e.check(Jm(j4,r)),e.xid=r=>e.check(qm(T4,r)),e.ksuid=r=>e.check(Lm(P4,r)),e.ipv4=r=>e.check(Um(E4,r)),e.ipv6=r=>e.check(Fm(I4,r)),e.cidrv4=r=>e.check(Vm(R4,r)),e.cidrv6=r=>e.check(Bm(O4,r)),e.e164=r=>e.check(Wm(N4,r)),e.datetime=r=>e.check(gh(r)),e.date=r=>e.check(yh(r)),e.time=r=>e.check(_h(r)),e.duration=r=>e.check(vh(r))});function O(e){return Pm(v4,e)}var mt=Z("ZodStringFormat",(e,t)=>{ot.init(e,t),hx.init(e,t)}),b4=Z("ZodEmail",(e,t)=>{Vp.init(e,t),mt.init(e,t)});var fx=Z("ZodGUID",(e,t)=>{Up.init(e,t),mt.init(e,t)});var Fc=Z("ZodUUID",(e,t)=>{Fp.init(e,t),mt.init(e,t)});var w4=Z("ZodURL",(e,t)=>{Bp.init(e,t),mt.init(e,t)});var x4=Z("ZodEmoji",(e,t)=>{Hp.init(e,t),mt.init(e,t)});var $4=Z("ZodNanoID",(e,t)=>{Jp.init(e,t),mt.init(e,t)});var k4=Z("ZodCUID",(e,t)=>{Wp.init(e,t),mt.init(e,t)});var z4=Z("ZodCUID2",(e,t)=>{Gp.init(e,t),mt.init(e,t)});var S4=Z("ZodULID",(e,t)=>{Kp.init(e,t),mt.init(e,t)});var T4=Z("ZodXID",(e,t)=>{Yp.init(e,t),mt.init(e,t)});var P4=Z("ZodKSUID",(e,t)=>{Xp.init(e,t),mt.init(e,t)});var E4=Z("ZodIPv4",(e,t)=>{Qp.init(e,t),mt.init(e,t)});var I4=Z("ZodIPv6",(e,t)=>{em.init(e,t),mt.init(e,t)});var R4=Z("ZodCIDRv4",(e,t)=>{tm.init(e,t),mt.init(e,t)});var O4=Z("ZodCIDRv6",(e,t)=>{rm.init(e,t),mt.init(e,t)});var Z4=Z("ZodBase64",(e,t)=>{nm.init(e,t),mt.init(e,t)});var j4=Z("ZodBase64URL",(e,t)=>{om.init(e,t),mt.init(e,t)});var N4=Z("ZodE164",(e,t)=>{im.init(e,t),mt.init(e,t)});var A4=Z("ZodJWT",(e,t)=>{am.init(e,t),mt.init(e,t)});var gx=Z("ZodNumber",(e,t)=>{Ic.init(e,t),wt.init(e,t),e.gt=(n,o)=>e.check(Nc(n,o)),e.gte=(n,o)=>e.check(hs(n,o)),e.min=(n,o)=>e.check(hs(n,o)),e.lt=(n,o)=>e.check(jc(n,o)),e.lte=(n,o)=>e.check(ms(n,o)),e.max=(n,o)=>e.check(ms(n,o)),e.int=n=>e.check(px(n)),e.safe=n=>e.check(px(n)),e.positive=n=>e.check(Nc(0,n)),e.nonnegative=n=>e.check(hs(0,n)),e.negative=n=>e.check(jc(0,n)),e.nonpositive=n=>e.check(ms(0,n)),e.multipleOf=(n,o)=>e.check(Ac(n,o)),e.step=(n,o)=>e.check(Ac(n,o)),e.finite=()=>e;let r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function Ge(e){return Km(gx,e)}var C4=Z("ZodNumberFormat",(e,t)=>{sm.init(e,t),gx.init(e,t)});function px(e){return Ym(C4,e)}var M4=Z("ZodBoolean",(e,t)=>{um.init(e,t),wt.init(e,t)});function Nt(e){return Xm(M4,e)}var D4=Z("ZodNull",(e,t)=>{cm.init(e,t),wt.init(e,t)});function xh(e){return Qm(D4,e)}var q4=Z("ZodUnknown",(e,t)=>{lm.init(e,t),wt.init(e,t)});function ht(){return eh(q4)}var L4=Z("ZodNever",(e,t)=>{dm.init(e,t),wt.init(e,t)});function U4(e){return th(L4,e)}var F4=Z("ZodArray",(e,t)=>{fm.init(e,t),wt.init(e,t),e.element=t.element,e.min=(r,n)=>e.check(ra(r,n)),e.nonempty=r=>e.check(ra(1,r)),e.max=(r,n)=>e.check(Cc(r,n)),e.length=(r,n)=>e.check(Mc(r,n)),e.unwrap=()=>e.element});function Ce(e,t){return Qw(F4,e,t)}var yx=Z("ZodObject",(e,t)=>{Rc.init(e,t),wt.init(e,t),je.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>gr(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:ht()}),e.loose=()=>e.clone({...e._zod.def,catchall:ht()}),e.strict=()=>e.clone({...e._zod.def,catchall:U4()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>je.extend(e,r),e.merge=r=>je.merge(e,r),e.pick=r=>je.pick(e,r),e.omit=r=>je.omit(e,r),e.partial=(...r)=>je.partial(bx,e,r[0]),e.required=(...r)=>je.required(wx,e,r[0])});function K(e,t){let r={type:"object",get shape(){return je.assignProp(this,"shape",{...e}),this.shape},...je.normalizeParams(t)};return new yx(r)}function rr(e,t){return new yx({type:"object",get shape(){return je.assignProp(this,"shape",{...e}),this.shape},catchall:ht(),...je.normalizeParams(t)})}var _x=Z("ZodUnion",(e,t)=>{Oc.init(e,t),wt.init(e,t),e.options=t.options});function it(e,t){return new _x({type:"union",options:e,...je.normalizeParams(t)})}var V4=Z("ZodDiscriminatedUnion",(e,t)=>{_x.init(e,t),pm.init(e,t)});function $h(e,t,r){return new V4({type:"union",options:t,discriminator:e,...je.normalizeParams(r)})}var B4=Z("ZodIntersection",(e,t)=>{mm.init(e,t),wt.init(e,t)});function Vc(e,t){return new B4({type:"intersection",left:e,right:t})}var H4=Z("ZodRecord",(e,t)=>{hm.init(e,t),wt.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function gt(e,t,r){return new H4({type:"record",keyType:e,valueType:t,...je.normalizeParams(r)})}var bh=Z("ZodEnum",(e,t)=>{gm.init(e,t),wt.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let r=new Set(Object.keys(t.entries));e.extract=(n,o)=>{let a={};for(let u of n)if(r.has(u))a[u]=t.entries[u];else throw new Error(`Key ${u} not found in enum`);return new bh({...t,checks:[],...je.normalizeParams(o),entries:a})},e.exclude=(n,o)=>{let a={...t.entries};for(let u of n)if(r.has(u))delete a[u];else throw new Error(`Key ${u} not found in enum`);return new bh({...t,checks:[],...je.normalizeParams(o),entries:a})}});function gr(e,t){let r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new bh({type:"enum",entries:r,...je.normalizeParams(t)})}var J4=Z("ZodLiteral",(e,t)=>{ym.init(e,t),wt.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function oe(e,t){return new J4({type:"literal",values:Array.isArray(e)?e:[e],...je.normalizeParams(t)})}var W4=Z("ZodTransform",(e,t)=>{_m.init(e,t),wt.init(e,t),e._zod.parse=(r,n)=>{r.addIssue=a=>{if(typeof a=="string")r.issues.push(je.issue(a,r.value,t));else{let u=a;u.fatal&&(u.continue=!1),u.code??(u.code="custom"),u.input??(u.input=r.value),u.inst??(u.inst=e),u.continue??(u.continue=!0),r.issues.push(je.issue(u))}};let o=t.transform(r.value,r);return o instanceof Promise?o.then(a=>(r.value=a,r)):(r.value=o,r)}});function vx(e){return new W4({type:"transform",transform:e})}var bx=Z("ZodOptional",(e,t)=>{vm.init(e,t),wt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function bt(e){return new bx({type:"optional",innerType:e})}var G4=Z("ZodNullable",(e,t)=>{bm.init(e,t),wt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function mx(e){return new G4({type:"nullable",innerType:e})}var K4=Z("ZodDefault",(e,t)=>{wm.init(e,t),wt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Y4(e,t){return new K4({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}var X4=Z("ZodPrefault",(e,t)=>{xm.init(e,t),wt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Q4(e,t){return new X4({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}var wx=Z("ZodNonOptional",(e,t)=>{$m.init(e,t),wt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function eM(e,t){return new wx({type:"nonoptional",innerType:e,...je.normalizeParams(t)})}var tM=Z("ZodCatch",(e,t)=>{km.init(e,t),wt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function rM(e,t){return new tM({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}var nM=Z("ZodPipe",(e,t)=>{zm.init(e,t),wt.init(e,t),e.in=t.in,e.out=t.out});function wh(e,t){return new nM({type:"pipe",in:e,out:t})}var oM=Z("ZodReadonly",(e,t)=>{Sm.init(e,t),wt.init(e,t)});function iM(e){return new oM({type:"readonly",innerType:e})}var xx=Z("ZodCustom",(e,t)=>{Tm.init(e,t),wt.init(e,t)});function aM(e){let t=new Mt({check:"custom"});return t._zod.check=e,t}function $x(e,t){return fh(xx,e??(()=>!0),t)}function sM(e,t={}){return ph(xx,e,t)}function uM(e){let t=aM(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(je.issue(n,r.value,t._zod.def));else{let o=n;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=t),o.continue??(o.continue=!t._zod.def.abort),r.issues.push(je.issue(o))}},e(r.value,r)));return t}function kh(e,t){return wh(vx(e),t)}Pr(Jw());var Sh="2025-11-25";var kx=[Sh,"2025-06-18","2025-03-26","2024-11-05","2024-10-07"],zo="io.modelcontextprotocol/related-task",Hc="2.0",Dt=$x(e=>e!==null&&(typeof e=="object"||typeof e=="function")),zx=it([O(),Ge().int()]),Sx=O(),AG=rr({ttl:it([Ge(),xh()]).optional(),pollInterval:Ge().optional()}),cM=K({ttl:Ge().optional()}),lM=K({taskId:O()}),Th=rr({progressToken:zx.optional(),[zo]:lM.optional()}),Ir=K({_meta:Th.optional()}),_s=Ir.extend({task:cM.optional()}),Tx=e=>_s.safeParse(e).success,qt=K({method:O(),params:Ir.loose().optional()}),Fr=K({_meta:Th.optional()}),Vr=K({method:O(),params:Fr.loose().optional()}),Lt=rr({_meta:Th.optional()}),Jc=it([O(),Ge().int()]),Px=K({jsonrpc:oe(Hc),id:Jc,...qt.shape}).strict(),Ph=e=>Px.safeParse(e).success,Ex=K({jsonrpc:oe(Hc),...Vr.shape}).strict(),Ix=e=>Ex.safeParse(e).success,Eh=K({jsonrpc:oe(Hc),id:Jc,result:Lt}).strict(),vs=e=>Eh.safeParse(e).success;var se;(function(e){e[e.ConnectionClosed=-32e3]="ConnectionClosed",e[e.RequestTimeout=-32001]="RequestTimeout",e[e.ParseError=-32700]="ParseError",e[e.InvalidRequest=-32600]="InvalidRequest",e[e.MethodNotFound=-32601]="MethodNotFound",e[e.InvalidParams=-32602]="InvalidParams",e[e.InternalError=-32603]="InternalError",e[e.UrlElicitationRequired=-32042]="UrlElicitationRequired"})(se||(se={}));var Ih=K({jsonrpc:oe(Hc),id:Jc.optional(),error:K({code:Ge().int(),message:O(),data:ht().optional()})}).strict();var Rx=e=>Ih.safeParse(e).success;var Ox=it([Px,Ex,Eh,Ih]),CG=it([Eh,Ih]),Wc=Lt.strict(),dM=Fr.extend({requestId:Jc.optional(),reason:O().optional()}),Gc=Vr.extend({method:oe("notifications/cancelled"),params:dM}),fM=K({src:O(),mimeType:O().optional(),sizes:Ce(O()).optional(),theme:gr(["light","dark"]).optional()}),bs=K({icons:Ce(fM).optional()}),oa=K({name:O(),title:O().optional()}),Zx=oa.extend({...oa.shape,...bs.shape,version:O(),websiteUrl:O().optional(),description:O().optional()}),pM=Vc(K({applyDefaults:Nt().optional()}),gt(O(),ht())),mM=kh(e=>e&&typeof e=="object"&&!Array.isArray(e)&&Object.keys(e).length===0?{form:{}}:e,Vc(K({form:pM.optional(),url:Dt.optional()}),gt(O(),ht()).optional())),hM=rr({list:Dt.optional(),cancel:Dt.optional(),requests:rr({sampling:rr({createMessage:Dt.optional()}).optional(),elicitation:rr({create:Dt.optional()}).optional()}).optional()}),gM=rr({list:Dt.optional(),cancel:Dt.optional(),requests:rr({tools:rr({call:Dt.optional()}).optional()}).optional()}),yM=K({experimental:gt(O(),Dt).optional(),sampling:K({context:Dt.optional(),tools:Dt.optional()}).optional(),elicitation:mM.optional(),roots:K({listChanged:Nt().optional()}).optional(),tasks:hM.optional()}),_M=Ir.extend({protocolVersion:O(),capabilities:yM,clientInfo:Zx}),Rh=qt.extend({method:oe("initialize"),params:_M});var vM=K({experimental:gt(O(),Dt).optional(),logging:Dt.optional(),completions:Dt.optional(),prompts:K({listChanged:Nt().optional()}).optional(),resources:K({subscribe:Nt().optional(),listChanged:Nt().optional()}).optional(),tools:K({listChanged:Nt().optional()}).optional(),tasks:gM.optional()}),bM=Lt.extend({protocolVersion:O(),capabilities:vM,serverInfo:Zx,instructions:O().optional()}),Oh=Vr.extend({method:oe("notifications/initialized"),params:Fr.optional()});var Kc=qt.extend({method:oe("ping"),params:Ir.optional()}),wM=K({progress:Ge(),total:bt(Ge()),message:bt(O())}),xM=K({...Fr.shape,...wM.shape,progressToken:zx}),Yc=Vr.extend({method:oe("notifications/progress"),params:xM}),$M=Ir.extend({cursor:Sx.optional()}),ws=qt.extend({params:$M.optional()}),xs=Lt.extend({nextCursor:Sx.optional()}),kM=gr(["working","input_required","completed","failed","cancelled"]),$s=K({taskId:O(),status:kM,ttl:it([Ge(),xh()]),createdAt:O(),lastUpdatedAt:O(),pollInterval:bt(Ge()),statusMessage:bt(O())}),ia=Lt.extend({task:$s}),zM=Fr.merge($s),ks=Vr.extend({method:oe("notifications/tasks/status"),params:zM}),Xc=qt.extend({method:oe("tasks/get"),params:Ir.extend({taskId:O()})}),Qc=Lt.merge($s),el=qt.extend({method:oe("tasks/result"),params:Ir.extend({taskId:O()})}),MG=Lt.loose(),tl=ws.extend({method:oe("tasks/list")}),rl=xs.extend({tasks:Ce($s)}),nl=qt.extend({method:oe("tasks/cancel"),params:Ir.extend({taskId:O()})}),jx=Lt.merge($s),Nx=K({uri:O(),mimeType:bt(O()),_meta:gt(O(),ht()).optional()}),Ax=Nx.extend({text:O()}),Zh=O().refine(e=>{try{return atob(e),!0}catch{return!1}},{message:"Invalid Base64 string"}),Cx=Nx.extend({blob:Zh}),zs=gr(["user","assistant"]),aa=K({audience:Ce(zs).optional(),priority:Ge().min(0).max(1).optional(),lastModified:gs.datetime({offset:!0}).optional()}),Mx=K({...oa.shape,...bs.shape,uri:O(),description:bt(O()),mimeType:bt(O()),annotations:aa.optional(),_meta:bt(rr({}))}),SM=K({...oa.shape,...bs.shape,uriTemplate:O(),description:bt(O()),mimeType:bt(O()),annotations:aa.optional(),_meta:bt(rr({}))}),ol=ws.extend({method:oe("resources/list")}),TM=xs.extend({resources:Ce(Mx)}),il=ws.extend({method:oe("resources/templates/list")}),PM=xs.extend({resourceTemplates:Ce(SM)}),jh=Ir.extend({uri:O()}),EM=jh,al=qt.extend({method:oe("resources/read"),params:EM}),IM=Lt.extend({contents:Ce(it([Ax,Cx]))}),RM=Vr.extend({method:oe("notifications/resources/list_changed"),params:Fr.optional()}),OM=jh,ZM=qt.extend({method:oe("resources/subscribe"),params:OM}),jM=jh,NM=qt.extend({method:oe("resources/unsubscribe"),params:jM}),AM=Fr.extend({uri:O()}),CM=Vr.extend({method:oe("notifications/resources/updated"),params:AM}),MM=K({name:O(),description:bt(O()),required:bt(Nt())}),DM=K({...oa.shape,...bs.shape,description:bt(O()),arguments:bt(Ce(MM)),_meta:bt(rr({}))}),sl=ws.extend({method:oe("prompts/list")}),qM=xs.extend({prompts:Ce(DM)}),LM=Ir.extend({name:O(),arguments:gt(O(),O()).optional()}),ul=qt.extend({method:oe("prompts/get"),params:LM}),Nh=K({type:oe("text"),text:O(),annotations:aa.optional(),_meta:gt(O(),ht()).optional()}),Ah=K({type:oe("image"),data:Zh,mimeType:O(),annotations:aa.optional(),_meta:gt(O(),ht()).optional()}),Ch=K({type:oe("audio"),data:Zh,mimeType:O(),annotations:aa.optional(),_meta:gt(O(),ht()).optional()}),UM=K({type:oe("tool_use"),name:O(),id:O(),input:gt(O(),ht()),_meta:gt(O(),ht()).optional()}),FM=K({type:oe("resource"),resource:it([Ax,Cx]),annotations:aa.optional(),_meta:gt(O(),ht()).optional()}),VM=Mx.extend({type:oe("resource_link")}),Mh=it([Nh,Ah,Ch,VM,FM]),BM=K({role:zs,content:Mh}),HM=Lt.extend({description:O().optional(),messages:Ce(BM)}),JM=Vr.extend({method:oe("notifications/prompts/list_changed"),params:Fr.optional()}),WM=K({title:O().optional(),readOnlyHint:Nt().optional(),destructiveHint:Nt().optional(),idempotentHint:Nt().optional(),openWorldHint:Nt().optional()}),GM=K({taskSupport:gr(["required","optional","forbidden"]).optional()}),Dx=K({...oa.shape,...bs.shape,description:O().optional(),inputSchema:K({type:oe("object"),properties:gt(O(),Dt).optional(),required:Ce(O()).optional()}).catchall(ht()),outputSchema:K({type:oe("object"),properties:gt(O(),Dt).optional(),required:Ce(O()).optional()}).catchall(ht()).optional(),annotations:WM.optional(),execution:GM.optional(),_meta:gt(O(),ht()).optional()}),cl=ws.extend({method:oe("tools/list")}),KM=xs.extend({tools:Ce(Dx)}),ll=Lt.extend({content:Ce(Mh).default([]),structuredContent:gt(O(),ht()).optional(),isError:Nt().optional()}),DG=ll.or(Lt.extend({toolResult:ht()})),YM=_s.extend({name:O(),arguments:gt(O(),ht()).optional()}),sa=qt.extend({method:oe("tools/call"),params:YM}),XM=Vr.extend({method:oe("notifications/tools/list_changed"),params:Fr.optional()}),qG=K({autoRefresh:Nt().default(!0),debounceMs:Ge().int().nonnegative().default(300)}),Ss=gr(["debug","info","notice","warning","error","critical","alert","emergency"]),QM=Ir.extend({level:Ss}),Dh=qt.extend({method:oe("logging/setLevel"),params:QM}),e9=Fr.extend({level:Ss,logger:O().optional(),data:ht()}),t9=Vr.extend({method:oe("notifications/message"),params:e9}),r9=K({name:O().optional()}),n9=K({hints:Ce(r9).optional(),costPriority:Ge().min(0).max(1).optional(),speedPriority:Ge().min(0).max(1).optional(),intelligencePriority:Ge().min(0).max(1).optional()}),o9=K({mode:gr(["auto","required","none"]).optional()}),i9=K({type:oe("tool_result"),toolUseId:O().describe("The unique identifier for the corresponding tool call."),content:Ce(Mh).default([]),structuredContent:K({}).loose().optional(),isError:Nt().optional(),_meta:gt(O(),ht()).optional()}),a9=$h("type",[Nh,Ah,Ch]),Bc=$h("type",[Nh,Ah,Ch,UM,i9]),s9=K({role:zs,content:it([Bc,Ce(Bc)]),_meta:gt(O(),ht()).optional()}),u9=_s.extend({messages:Ce(s9),modelPreferences:n9.optional(),systemPrompt:O().optional(),includeContext:gr(["none","thisServer","allServers"]).optional(),temperature:Ge().optional(),maxTokens:Ge().int(),stopSequences:Ce(O()).optional(),metadata:Dt.optional(),tools:Ce(Dx).optional(),toolChoice:o9.optional()}),c9=qt.extend({method:oe("sampling/createMessage"),params:u9}),qh=Lt.extend({model:O(),stopReason:bt(gr(["endTurn","stopSequence","maxTokens"]).or(O())),role:zs,content:a9}),Lh=Lt.extend({model:O(),stopReason:bt(gr(["endTurn","stopSequence","maxTokens","toolUse"]).or(O())),role:zs,content:it([Bc,Ce(Bc)])}),l9=K({type:oe("boolean"),title:O().optional(),description:O().optional(),default:Nt().optional()}),d9=K({type:oe("string"),title:O().optional(),description:O().optional(),minLength:Ge().optional(),maxLength:Ge().optional(),format:gr(["email","uri","date","date-time"]).optional(),default:O().optional()}),f9=K({type:gr(["number","integer"]),title:O().optional(),description:O().optional(),minimum:Ge().optional(),maximum:Ge().optional(),default:Ge().optional()}),p9=K({type:oe("string"),title:O().optional(),description:O().optional(),enum:Ce(O()),default:O().optional()}),m9=K({type:oe("string"),title:O().optional(),description:O().optional(),oneOf:Ce(K({const:O(),title:O()})),default:O().optional()}),h9=K({type:oe("string"),title:O().optional(),description:O().optional(),enum:Ce(O()),enumNames:Ce(O()).optional(),default:O().optional()}),g9=it([p9,m9]),y9=K({type:oe("array"),title:O().optional(),description:O().optional(),minItems:Ge().optional(),maxItems:Ge().optional(),items:K({type:oe("string"),enum:Ce(O())}),default:Ce(O()).optional()}),_9=K({type:oe("array"),title:O().optional(),description:O().optional(),minItems:Ge().optional(),maxItems:Ge().optional(),items:K({anyOf:Ce(K({const:O(),title:O()}))}),default:Ce(O()).optional()}),v9=it([y9,_9]),b9=it([h9,g9,v9]),w9=it([b9,l9,d9,f9]),x9=_s.extend({mode:oe("form").optional(),message:O(),requestedSchema:K({type:oe("object"),properties:gt(O(),w9),required:Ce(O()).optional()})}),$9=_s.extend({mode:oe("url"),message:O(),elicitationId:O(),url:O().url()}),k9=it([x9,$9]),z9=qt.extend({method:oe("elicitation/create"),params:k9}),S9=Fr.extend({elicitationId:O()}),T9=Vr.extend({method:oe("notifications/elicitation/complete"),params:S9}),dl=Lt.extend({action:gr(["accept","decline","cancel"]),content:kh(e=>e===null?void 0:e,gt(O(),it([O(),Ge(),Nt(),Ce(O())])).optional())}),P9=K({type:oe("ref/resource"),uri:O()});var E9=K({type:oe("ref/prompt"),name:O()}),I9=Ir.extend({ref:it([E9,P9]),argument:K({name:O(),value:O()}),context:K({arguments:gt(O(),O()).optional()}).optional()}),fl=qt.extend({method:oe("completion/complete"),params:I9});function qx(e){if(e.params.ref.type!=="ref/prompt")throw new TypeError(`Expected CompleteRequestPrompt, but got ${e.params.ref.type}`)}function Lx(e){if(e.params.ref.type!=="ref/resource")throw new TypeError(`Expected CompleteRequestResourceTemplate, but got ${e.params.ref.type}`)}var R9=Lt.extend({completion:rr({values:Ce(O()).max(100),total:bt(Ge().int()),hasMore:bt(Nt())})}),O9=K({uri:O().startsWith("file://"),name:O().optional(),_meta:gt(O(),ht()).optional()}),Z9=qt.extend({method:oe("roots/list"),params:Ir.optional()}),Uh=Lt.extend({roots:Ce(O9)}),j9=Vr.extend({method:oe("notifications/roots/list_changed"),params:Fr.optional()}),LG=it([Kc,Rh,fl,Dh,ul,sl,ol,il,al,ZM,NM,sa,cl,Xc,el,tl,nl]),UG=it([Gc,Yc,Oh,j9,ks]),FG=it([Wc,qh,Lh,dl,Uh,Qc,rl,ia]),VG=it([Kc,c9,z9,Z9,Xc,el,tl,nl]),BG=it([Gc,Yc,t9,CM,RM,XM,JM,ks,T9]),HG=it([Wc,bM,R9,HM,qM,TM,PM,IM,ll,KM,Qc,rl,ia]),ne=class e extends Error{constructor(t,r,n){super(`MCP error ${t}: ${r}`),this.code=t,this.data=n,this.name="McpError"}static fromError(t,r,n){if(t===se.UrlElicitationRequired&&n){let o=n;if(o.elicitations)return new zh(o.elicitations,r)}return new e(t,r,n)}},zh=class extends ne{constructor(t,r=`URL elicitation${t.length>1?"s":""} required`){super(se.UrlElicitationRequired,r,{elicitations:t})}get elicitations(){return this.data?.elicitations??[]}};function So(e){return e==="completed"||e==="failed"||e==="cancelled"}var Fx=Symbol("Let zodToJsonSchema decide on which parser to use");var Ux={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},Vx=e=>typeof e=="string"?{...Ux,name:e}:{...Ux,...e};var Bx=e=>{let t=Vx(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,flags:{hasReferencedOpenAiAnyType:!1},currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,o])=>[o._def,{def:o._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}};function Fh(e,t,r,n){n?.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}function Me(e,t,r,n,o){e[t]=r,Fh(e,t,n,o)}var pl=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")};function yt(e){if(e.target!=="openAi")return{};let t=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:e.$refStrategy==="relative"?pl(t,e.currentPath):t.join("/")}}function Hx(e,t){let r={type:"array"};return e.type?._def&&e.type?._def?.typeName!==L.ZodAny&&(r.items=pe(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&Me(r,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&Me(r,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(Me(r,"minItems",e.exactLength.value,e.exactLength.message,t),Me(r,"maxItems",e.exactLength.value,e.exactLength.message,t)),r}function Jx(e,t){let r={type:"integer",format:"int64"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"min":t.target==="jsonSchema7"?n.inclusive?Me(r,"minimum",n.value,n.message,t):Me(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),Me(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?Me(r,"maximum",n.value,n.message,t):Me(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),Me(r,"maximum",n.value,n.message,t));break;case"multipleOf":Me(r,"multipleOf",n.value,n.message,t);break}return r}function Wx(){return{type:"boolean"}}function ml(e,t){return pe(e.type._def,t)}var Gx=(e,t)=>pe(e.innerType._def,t);function Vh(e,t,r){let n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((o,a)=>Vh(e,t,o))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return N9(e,t)}}var N9=(e,t)=>{let r={type:"integer",format:"unix-time"};if(t.target==="openApi3")return r;for(let n of e.checks)switch(n.kind){case"min":Me(r,"minimum",n.value,n.message,t);break;case"max":Me(r,"maximum",n.value,n.message,t);break}return r};function Kx(e,t){return{...pe(e.innerType._def,t),default:e.defaultValue()}}function Yx(e,t){return t.effectStrategy==="input"?pe(e.schema._def,t):yt(t)}function Xx(e){return{type:"string",enum:Array.from(e.values)}}var A9=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function Qx(e,t){let r=[pe(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),pe(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(a=>!!a),n=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,o=[];return r.forEach(a=>{if(A9(a))o.push(...a.allOf),a.unevaluatedProperties===void 0&&(n=void 0);else{let u=a;if("additionalProperties"in a&&a.additionalProperties===!1){let{additionalProperties:c,...d}=a;u=d}else n=void 0;o.push(u)}}),o.length?{allOf:o,...n}:void 0}function e1(e,t){let r=typeof e.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[e.value]}:{type:r==="bigint"?"integer":r,const:e.value}}var Bh,cn={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Bh===void 0&&(Bh=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Bh),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function hl(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":Me(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t);break;case"max":Me(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"email":switch(t.emailStrategy){case"format:email":ln(r,"email",n.message,t);break;case"format:idn-email":ln(r,"idn-email",n.message,t);break;case"pattern:zod":nr(r,cn.email,n.message,t);break}break;case"url":ln(r,"uri",n.message,t);break;case"uuid":ln(r,"uuid",n.message,t);break;case"regex":nr(r,n.regex,n.message,t);break;case"cuid":nr(r,cn.cuid,n.message,t);break;case"cuid2":nr(r,cn.cuid2,n.message,t);break;case"startsWith":nr(r,RegExp(`^${Hh(n.value,t)}`),n.message,t);break;case"endsWith":nr(r,RegExp(`${Hh(n.value,t)}$`),n.message,t);break;case"datetime":ln(r,"date-time",n.message,t);break;case"date":ln(r,"date",n.message,t);break;case"time":ln(r,"time",n.message,t);break;case"duration":ln(r,"duration",n.message,t);break;case"length":Me(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t),Me(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"includes":{nr(r,RegExp(Hh(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&ln(r,"ipv4",n.message,t),n.version!=="v4"&&ln(r,"ipv6",n.message,t);break}case"base64url":nr(r,cn.base64url,n.message,t);break;case"jwt":nr(r,cn.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&nr(r,cn.ipv4Cidr,n.message,t),n.version!=="v4"&&nr(r,cn.ipv6Cidr,n.message,t);break}case"emoji":nr(r,cn.emoji(),n.message,t);break;case"ulid":{nr(r,cn.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{ln(r,"binary",n.message,t);break}case"contentEncoding:base64":{Me(r,"contentEncoding","base64",n.message,t);break}case"pattern:zod":{nr(r,cn.base64,n.message,t);break}}break}case"nanoid":nr(r,cn.nanoid,n.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}function Hh(e,t){return t.patternStrategy==="escape"?M9(e):e}var C9=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function M9(e){let t="";for(let r=0;r<e.length;r++)C9.has(e[r])||(t+="\\"),t+=e[r];return t}function ln(e,t,r,n){e.format||e.anyOf?.some(o=>o.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):Me(e,"format",t,r,n)}function nr(e,t,r,n){e.pattern||e.allOf?.some(o=>o.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:t1(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):Me(e,"pattern",t1(t,n),r,n)}function t1(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},n=r.i?e.source.toLowerCase():e.source,o="",a=!1,u=!1,c=!1;for(let d=0;d<n.length;d++){if(a){o+=n[d],a=!1;continue}if(r.i){if(u){if(n[d].match(/[a-z]/)){c?(o+=n[d],o+=`${n[d-2]}-${n[d]}`.toUpperCase(),c=!1):n[d+1]==="-"&&n[d+2]?.match(/[a-z]/)?(o+=n[d],c=!0):o+=`${n[d]}${n[d].toUpperCase()}`;continue}}else if(n[d].match(/[a-z]/)){o+=`[${n[d]}${n[d].toUpperCase()}]`;continue}}if(r.m){if(n[d]==="^"){o+=`(^|(?<=[\r
]))`;continue}else if(n[d]==="$"){o+=`($|(?=[\r
]))`;continue}}if(r.s&&n[d]==="."){o+=u?`${n[d]}\r
`:`[${n[d]}\r
]`;continue}o+=n[d],n[d]==="\\"?a=!0:u&&n[d]==="]"?u=!1:!u&&n[d]==="["&&(u=!0)}try{new RegExp(o)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return o}function gl(e,t){if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&e.keyType?._def.typeName===L.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((n,o)=>({...n,[o]:pe(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",o]})??yt(t)}),{}),additionalProperties:t.rejectedAdditionalProperties};let r={type:"object",additionalProperties:pe(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if(t.target==="openApi3")return r;if(e.keyType?._def.typeName===L.ZodString&&e.keyType._def.checks?.length){let{type:n,...o}=hl(e.keyType._def,t);return{...r,propertyNames:o}}else{if(e.keyType?._def.typeName===L.ZodEnum)return{...r,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===L.ZodBranded&&e.keyType._def.type._def.typeName===L.ZodString&&e.keyType._def.type._def.checks?.length){let{type:n,...o}=ml(e.keyType._def,t);return{...r,propertyNames:o}}}return r}function r1(e,t){if(t.mapStrategy==="record")return gl(e,t);let r=pe(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||yt(t),n=pe(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||yt(t);return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}function n1(e){let t=e.values,n=Object.keys(e.values).filter(a=>typeof t[t[a]]!="number").map(a=>t[a]),o=Array.from(new Set(n.map(a=>typeof a)));return{type:o.length===1?o[0]==="string"?"string":"number":["string","number"],enum:n}}function o1(e){return e.target==="openAi"?void 0:{not:yt({...e,currentPath:[...e.currentPath,"not"]})}}function i1(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}var Ts={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function s1(e,t){if(t.target==="openApi3")return a1(e,t);let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in Ts&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((o,a)=>{let u=Ts[a._def.typeName];return u&&!o.includes(u)?[...o,u]:o},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((o,a)=>{let u=typeof a._def.value;switch(u){case"string":case"number":case"boolean":return[...o,u];case"bigint":return[...o,"integer"];case"object":if(a._def.value===null)return[...o,"null"];case"symbol":case"undefined":case"function":default:return o}},[]);if(n.length===r.length){let o=n.filter((a,u,c)=>c.indexOf(a)===u);return{type:o.length>1?o:o[0],enum:r.reduce((a,u)=>a.includes(u._def.value)?a:[...a,u._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,o)=>[...n,...o._def.values.filter(a=>!n.includes(a))],[])};return a1(e,t)}var a1=(e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,o)=>pe(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${o}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0};function u1(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:Ts[e.innerType._def.typeName],nullable:!0}:{type:[Ts[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){let n=pe(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}let r=pe(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function c1(e,t){let r={type:"number"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"int":r.type="integer",Fh(r,"type",n.message,t);break;case"min":t.target==="jsonSchema7"?n.inclusive?Me(r,"minimum",n.value,n.message,t):Me(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),Me(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?Me(r,"maximum",n.value,n.message,t):Me(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),Me(r,"maximum",n.value,n.message,t));break;case"multipleOf":Me(r,"multipleOf",n.value,n.message,t);break}return r}function l1(e,t){let r=t.target==="openAi",n={type:"object",properties:{}},o=[],a=e.shape();for(let c in a){let d=a[c];if(d===void 0||d._def===void 0)continue;let f=q9(d);f&&r&&(d._def.typeName==="ZodOptional"&&(d=d._def.innerType),d.isNullable()||(d=d.nullable()),f=!1);let m=pe(d._def,{...t,currentPath:[...t.currentPath,"properties",c],propertyPath:[...t.currentPath,"properties",c]});m!==void 0&&(n.properties[c]=m,f||o.push(c))}o.length&&(n.required=o);let u=D9(e,t);return u!==void 0&&(n.additionalProperties=u),n}function D9(e,t){if(e.catchall._def.typeName!=="ZodNever")return pe(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function q9(e){try{return e.isOptional()}catch{return!0}}var d1=(e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return pe(e.innerType._def,t);let r=pe(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:yt(t)},r]}:yt(t)};var f1=(e,t)=>{if(t.pipeStrategy==="input")return pe(e.in._def,t);if(t.pipeStrategy==="output")return pe(e.out._def,t);let r=pe(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=pe(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(o=>o!==void 0)}};function p1(e,t){return pe(e.type._def,t)}function m1(e,t){let n={type:"array",uniqueItems:!0,items:pe(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&Me(n,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&Me(n,"maxItems",e.maxSize.value,e.maxSize.message,t),n}function h1(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>pe(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:pe(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>pe(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}function g1(e){return{not:yt(e)}}function y1(e){return yt(e)}var _1=(e,t)=>pe(e.innerType._def,t);var v1=(e,t,r)=>{switch(t){case L.ZodString:return hl(e,r);case L.ZodNumber:return c1(e,r);case L.ZodObject:return l1(e,r);case L.ZodBigInt:return Jx(e,r);case L.ZodBoolean:return Wx();case L.ZodDate:return Vh(e,r);case L.ZodUndefined:return g1(r);case L.ZodNull:return i1(r);case L.ZodArray:return Hx(e,r);case L.ZodUnion:case L.ZodDiscriminatedUnion:return s1(e,r);case L.ZodIntersection:return Qx(e,r);case L.ZodTuple:return h1(e,r);case L.ZodRecord:return gl(e,r);case L.ZodLiteral:return e1(e,r);case L.ZodEnum:return Xx(e);case L.ZodNativeEnum:return n1(e);case L.ZodNullable:return u1(e,r);case L.ZodOptional:return d1(e,r);case L.ZodMap:return r1(e,r);case L.ZodSet:return m1(e,r);case L.ZodLazy:return()=>e.getter()._def;case L.ZodPromise:return p1(e,r);case L.ZodNaN:case L.ZodNever:return o1(r);case L.ZodEffects:return Yx(e,r);case L.ZodAny:return yt(r);case L.ZodUnknown:return y1(r);case L.ZodDefault:return Kx(e,r);case L.ZodBranded:return ml(e,r);case L.ZodReadonly:return _1(e,r);case L.ZodCatch:return Gx(e,r);case L.ZodPipeline:return f1(e,r);case L.ZodFunction:case L.ZodVoid:case L.ZodSymbol:return;default:return(n=>{})(t)}};function pe(e,t,r=!1){let n=t.seen.get(e);if(t.override){let c=t.override?.(e,t,n,r);if(c!==Fx)return c}if(n&&!r){let c=L9(n,t);if(c!==void 0)return c}let o={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,o);let a=v1(e,e.typeName,t),u=typeof a=="function"?pe(a(),t):a;if(u&&U9(e,t,u),t.postProcess){let c=t.postProcess(u,e,t);return o.jsonSchema=u,c}return o.jsonSchema=u,u}var L9=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:pl(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),yt(t)):t.$refStrategy==="seen"?yt(t):void 0}},U9=(e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r);var Jh=(e,t)=>{let r=Bx(t),n=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((d,[f,m])=>({...d,[f]:pe(m._def,{...r,currentPath:[...r.basePath,r.definitionPath,f]},!0)??yt(r)}),{}):void 0,o=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,a=pe(e._def,o===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,o]},!1)??yt(r),u=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;u!==void 0&&(a.title=u),r.flags.hasReferencedOpenAiAnyType&&(n||(n={}),n[r.openAiAnyTypeName]||(n[r.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:r.$refStrategy==="relative"?"1":[...r.basePath,r.definitionPath,r.openAiAnyTypeName].join("/")}}));let c=o===void 0?n?{...a,[r.definitionPath]:n}:a:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,o].join("/"),[r.definitionPath]:{...n,[o]:a}};return r.target==="jsonSchema7"?c.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(c.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in c||"oneOf"in c||"allOf"in c||"type"in c&&Array.isArray(c.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),c};function F9(e){return!e||e==="jsonSchema7"||e==="draft-7"?"draft-7":e==="jsonSchema2019-09"||e==="draft-2020-12"?"draft-2020-12":"draft-7"}function Wh(e,t){return Ur(e)?mh(e,{target:F9(t?.target),io:t?.pipeStrategy??"input"}):Jh(e,{strictUnions:t?.strictUnions??!0,pipeStrategy:t?.pipeStrategy??"input"})}function Gh(e){let r=ko(e)?.method;if(!r)throw new Error("Schema is missing a method literal");let n=Uc(r);if(typeof n!="string")throw new Error("Schema method literal must be a string");return n}function Kh(e,t){let r=$o(e,t);if(!r.success)throw r.error;return r.data}var V9=6e4,yl=class{constructor(t){this._options=t,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this._pendingDebouncedNotifications=new Set,this._taskProgressTokens=new Map,this._requestResolvers=new Map,this.setNotificationHandler(Gc,r=>{this._oncancel(r)}),this.setNotificationHandler(Yc,r=>{this._onprogress(r)}),this.setRequestHandler(Kc,r=>({})),this._taskStore=t?.taskStore,this._taskMessageQueue=t?.taskMessageQueue,this._taskStore&&(this.setRequestHandler(Xc,async(r,n)=>{let o=await this._taskStore.getTask(r.params.taskId,n.sessionId);if(!o)throw new ne(se.InvalidParams,"Failed to retrieve task: Task not found");return{...o}}),this.setRequestHandler(el,async(r,n)=>{let o=async()=>{let a=r.params.taskId;if(this._taskMessageQueue){let c;for(;c=await this._taskMessageQueue.dequeue(a,n.sessionId);){if(c.type==="response"||c.type==="error"){let d=c.message,f=d.id,m=this._requestResolvers.get(f);if(m)if(this._requestResolvers.delete(f),c.type==="response")m(d);else{let h=d,y=new ne(h.error.code,h.error.message,h.error.data);m(y)}else{let h=c.type==="response"?"Response":"Error";this._onerror(new Error(`${h} handler missing for request ${f}`))}continue}await this._transport?.send(c.message,{relatedRequestId:n.requestId})}}let u=await this._taskStore.getTask(a,n.sessionId);if(!u)throw new ne(se.InvalidParams,`Task not found: ${a}`);if(!So(u.status))return await this._waitForTaskUpdate(a,n.signal),await o();if(So(u.status)){let c=await this._taskStore.getTaskResult(a,n.sessionId);return this._clearTaskQueue(a),{...c,_meta:{...c._meta,[zo]:{taskId:a}}}}return await o()};return await o()}),this.setRequestHandler(tl,async(r,n)=>{try{let{tasks:o,nextCursor:a}=await this._taskStore.listTasks(r.params?.cursor,n.sessionId);return{tasks:o,nextCursor:a,_meta:{}}}catch(o){throw new ne(se.InvalidParams,`Failed to list tasks: ${o instanceof Error?o.message:String(o)}`)}}),this.setRequestHandler(nl,async(r,n)=>{try{let o=await this._taskStore.getTask(r.params.taskId,n.sessionId);if(!o)throw new ne(se.InvalidParams,`Task not found: ${r.params.taskId}`);if(So(o.status))throw new ne(se.InvalidParams,`Cannot cancel task in terminal status: ${o.status}`);await this._taskStore.updateTaskStatus(r.params.taskId,"cancelled","Client cancelled task execution.",n.sessionId),this._clearTaskQueue(r.params.taskId);let a=await this._taskStore.getTask(r.params.taskId,n.sessionId);if(!a)throw new ne(se.InvalidParams,`Task not found after cancellation: ${r.params.taskId}`);return{_meta:{},...a}}catch(o){throw o instanceof ne?o:new ne(se.InvalidRequest,`Failed to cancel task: ${o instanceof Error?o.message:String(o)}`)}}))}async _oncancel(t){if(!t.params.requestId)return;this._requestHandlerAbortControllers.get(t.params.requestId)?.abort(t.params.reason)}_setupTimeout(t,r,n,o,a=!1){this._timeoutInfo.set(t,{timeoutId:setTimeout(o,r),startTime:Date.now(),timeout:r,maxTotalTimeout:n,resetTimeoutOnProgress:a,onTimeout:o})}_resetTimeout(t){let r=this._timeoutInfo.get(t);if(!r)return!1;let n=Date.now()-r.startTime;if(r.maxTotalTimeout&&n>=r.maxTotalTimeout)throw this._timeoutInfo.delete(t),ne.fromError(se.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:r.maxTotalTimeout,totalElapsed:n});return clearTimeout(r.timeoutId),r.timeoutId=setTimeout(r.onTimeout,r.timeout),!0}_cleanupTimeout(t){let r=this._timeoutInfo.get(t);r&&(clearTimeout(r.timeoutId),this._timeoutInfo.delete(t))}async connect(t){if(this._transport)throw new Error("Already connected to a transport. Call close() before connecting to a new transport, or use a separate Protocol instance per connection.");this._transport=t;let r=this.transport?.onclose;this._transport.onclose=()=>{r?.(),this._onclose()};let n=this.transport?.onerror;this._transport.onerror=a=>{n?.(a),this._onerror(a)};let o=this._transport?.onmessage;this._transport.onmessage=(a,u)=>{o?.(a,u),vs(a)||Rx(a)?this._onresponse(a):Ph(a)?this._onrequest(a,u):Ix(a)?this._onnotification(a):this._onerror(new Error(`Unknown message type: ${JSON.stringify(a)}`))},await this._transport.start()}_onclose(){let t=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._taskProgressTokens.clear(),this._pendingDebouncedNotifications.clear();for(let n of this._requestHandlerAbortControllers.values())n.abort();this._requestHandlerAbortControllers.clear();let r=ne.fromError(se.ConnectionClosed,"Connection closed");this._transport=void 0,this.onclose?.();for(let n of t.values())n(r)}_onerror(t){this.onerror?.(t)}_onnotification(t){let r=this._notificationHandlers.get(t.method)??this.fallbackNotificationHandler;r!==void 0&&Promise.resolve().then(()=>r(t)).catch(n=>this._onerror(new Error(`Uncaught error in notification handler: ${n}`)))}_onrequest(t,r){let n=this._requestHandlers.get(t.method)??this.fallbackRequestHandler,o=this._transport,a=t.params?._meta?.[zo]?.taskId;if(n===void 0){let m={jsonrpc:"2.0",id:t.id,error:{code:se.MethodNotFound,message:"Method not found"}};a&&this._taskMessageQueue?this._enqueueTaskMessage(a,{type:"error",message:m,timestamp:Date.now()},o?.sessionId).catch(h=>this._onerror(new Error(`Failed to enqueue error response: ${h}`))):o?.send(m).catch(h=>this._onerror(new Error(`Failed to send an error response: ${h}`)));return}let u=new AbortController;this._requestHandlerAbortControllers.set(t.id,u);let c=Tx(t.params)?t.params.task:void 0,d=this._taskStore?this.requestTaskStore(t,o?.sessionId):void 0,f={signal:u.signal,sessionId:o?.sessionId,_meta:t.params?._meta,sendNotification:async m=>{if(u.signal.aborted)return;let h={relatedRequestId:t.id};a&&(h.relatedTask={taskId:a}),await this.notification(m,h)},sendRequest:async(m,h,y)=>{if(u.signal.aborted)throw new ne(se.ConnectionClosed,"Request was cancelled");let v={...y,relatedRequestId:t.id};a&&!v.relatedTask&&(v.relatedTask={taskId:a});let w=v.relatedTask?.taskId??a;return w&&d&&await d.updateTaskStatus(w,"input_required"),await this.request(m,h,v)},authInfo:r?.authInfo,requestId:t.id,requestInfo:r?.requestInfo,taskId:a,taskStore:d,taskRequestedTtl:c?.ttl,closeSSEStream:r?.closeSSEStream,closeStandaloneSSEStream:r?.closeStandaloneSSEStream};Promise.resolve().then(()=>{c&&this.assertTaskHandlerCapability(t.method)}).then(()=>n(t,f)).then(async m=>{if(u.signal.aborted)return;let h={result:m,jsonrpc:"2.0",id:t.id};a&&this._taskMessageQueue?await this._enqueueTaskMessage(a,{type:"response",message:h,timestamp:Date.now()},o?.sessionId):await o?.send(h)},async m=>{if(u.signal.aborted)return;let h={jsonrpc:"2.0",id:t.id,error:{code:Number.isSafeInteger(m.code)?m.code:se.InternalError,message:m.message??"Internal error",...m.data!==void 0&&{data:m.data}}};a&&this._taskMessageQueue?await this._enqueueTaskMessage(a,{type:"error",message:h,timestamp:Date.now()},o?.sessionId):await o?.send(h)}).catch(m=>this._onerror(new Error(`Failed to send response: ${m}`))).finally(()=>{this._requestHandlerAbortControllers.delete(t.id)})}_onprogress(t){let{progressToken:r,...n}=t.params,o=Number(r),a=this._progressHandlers.get(o);if(!a){this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(t)}`));return}let u=this._responseHandlers.get(o),c=this._timeoutInfo.get(o);if(c&&u&&c.resetTimeoutOnProgress)try{this._resetTimeout(o)}catch(d){this._responseHandlers.delete(o),this._progressHandlers.delete(o),this._cleanupTimeout(o),u(d);return}a(n)}_onresponse(t){let r=Number(t.id),n=this._requestResolvers.get(r);if(n){if(this._requestResolvers.delete(r),vs(t))n(t);else{let u=new ne(t.error.code,t.error.message,t.error.data);n(u)}return}let o=this._responseHandlers.get(r);if(o===void 0){this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(t)}`));return}this._responseHandlers.delete(r),this._cleanupTimeout(r);let a=!1;if(vs(t)&&t.result&&typeof t.result=="object"){let u=t.result;if(u.task&&typeof u.task=="object"){let c=u.task;typeof c.taskId=="string"&&(a=!0,this._taskProgressTokens.set(c.taskId,r))}}if(a||this._progressHandlers.delete(r),vs(t))o(t);else{let u=ne.fromError(t.error.code,t.error.message,t.error.data);o(u)}}get transport(){return this._transport}async close(){await this._transport?.close()}async*requestStream(t,r,n){let{task:o}=n??{};if(!o){try{yield{type:"result",result:await this.request(t,r,n)}}catch(u){yield{type:"error",error:u instanceof ne?u:new ne(se.InternalError,String(u))}}return}let a;try{let u=await this.request(t,ia,n);if(u.task)a=u.task.taskId,yield{type:"taskCreated",task:u.task};else throw new ne(se.InternalError,"Task creation did not return a task");for(;;){let c=await this.getTask({taskId:a},n);if(yield{type:"taskStatus",task:c},So(c.status)){c.status==="completed"?yield{type:"result",result:await this.getTaskResult({taskId:a},r,n)}:c.status==="failed"?yield{type:"error",error:new ne(se.InternalError,`Task ${a} failed`)}:c.status==="cancelled"&&(yield{type:"error",error:new ne(se.InternalError,`Task ${a} was cancelled`)});return}if(c.status==="input_required"){yield{type:"result",result:await this.getTaskResult({taskId:a},r,n)};return}let d=c.pollInterval??this._options?.defaultTaskPollInterval??1e3;await new Promise(f=>setTimeout(f,d)),n?.signal?.throwIfAborted()}}catch(u){yield{type:"error",error:u instanceof ne?u:new ne(se.InternalError,String(u))}}}request(t,r,n){let{relatedRequestId:o,resumptionToken:a,onresumptiontoken:u,task:c,relatedTask:d}=n??{};return new Promise((f,m)=>{let h=A=>{m(A)};if(!this._transport){h(new Error("Not connected"));return}if(this._options?.enforceStrictCapabilities===!0)try{this.assertCapabilityForMethod(t.method),c&&this.assertTaskCapability(t.method)}catch(A){h(A);return}n?.signal?.throwIfAborted();let y=this._requestMessageId++,v={...t,jsonrpc:"2.0",id:y};n?.onprogress&&(this._progressHandlers.set(y,n.onprogress),v.params={...t.params,_meta:{...t.params?._meta||{},progressToken:y}}),c&&(v.params={...v.params,task:c}),d&&(v.params={...v.params,_meta:{...v.params?._meta||{},[zo]:d}});let w=A=>{this._responseHandlers.delete(y),this._progressHandlers.delete(y),this._cleanupTimeout(y),this._transport?.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:y,reason:String(A)}},{relatedRequestId:o,resumptionToken:a,onresumptiontoken:u}).catch(U=>this._onerror(new Error(`Failed to send cancellation: ${U}`)));let j=A instanceof ne?A:new ne(se.RequestTimeout,String(A));m(j)};this._responseHandlers.set(y,A=>{if(!n?.signal?.aborted){if(A instanceof Error)return m(A);try{let j=$o(r,A.result);j.success?f(j.data):m(j.error)}catch(j){m(j)}}}),n?.signal?.addEventListener("abort",()=>{w(n?.signal?.reason)});let $=n?.timeout??V9,z=()=>w(ne.fromError(se.RequestTimeout,"Request timed out",{timeout:$}));this._setupTimeout(y,$,n?.maxTotalTimeout,z,n?.resetTimeoutOnProgress??!1);let I=d?.taskId;if(I){let A=j=>{let U=this._responseHandlers.get(y);U?U(j):this._onerror(new Error(`Response handler missing for side-channeled request ${y}`))};this._requestResolvers.set(y,A),this._enqueueTaskMessage(I,{type:"request",message:v,timestamp:Date.now()}).catch(j=>{this._cleanupTimeout(y),m(j)})}else this._transport.send(v,{relatedRequestId:o,resumptionToken:a,onresumptiontoken:u}).catch(A=>{this._cleanupTimeout(y),m(A)})})}async getTask(t,r){return this.request({method:"tasks/get",params:t},Qc,r)}async getTaskResult(t,r,n){return this.request({method:"tasks/result",params:t},r,n)}async listTasks(t,r){return this.request({method:"tasks/list",params:t},rl,r)}async cancelTask(t,r){return this.request({method:"tasks/cancel",params:t},jx,r)}async notification(t,r){if(!this._transport)throw new Error("Not connected");this.assertNotificationCapability(t.method);let n=r?.relatedTask?.taskId;if(n){let c={...t,jsonrpc:"2.0",params:{...t.params,_meta:{...t.params?._meta||{},[zo]:r.relatedTask}}};await this._enqueueTaskMessage(n,{type:"notification",message:c,timestamp:Date.now()});return}if((this._options?.debouncedNotificationMethods??[]).includes(t.method)&&!t.params&&!r?.relatedRequestId&&!r?.relatedTask){if(this._pendingDebouncedNotifications.has(t.method))return;this._pendingDebouncedNotifications.add(t.method),Promise.resolve().then(()=>{if(this._pendingDebouncedNotifications.delete(t.method),!this._transport)return;let c={...t,jsonrpc:"2.0"};r?.relatedTask&&(c={...c,params:{...c.params,_meta:{...c.params?._meta||{},[zo]:r.relatedTask}}}),this._transport?.send(c,r).catch(d=>this._onerror(d))});return}let u={...t,jsonrpc:"2.0"};r?.relatedTask&&(u={...u,params:{...u.params,_meta:{...u.params?._meta||{},[zo]:r.relatedTask}}}),await this._transport.send(u,r)}setRequestHandler(t,r){let n=Gh(t);this.assertRequestHandlerCapability(n),this._requestHandlers.set(n,(o,a)=>{let u=Kh(t,o);return Promise.resolve(r(u,a))})}removeRequestHandler(t){this._requestHandlers.delete(t)}assertCanSetRequestHandler(t){if(this._requestHandlers.has(t))throw new Error(`A request handler for ${t} already exists, which would be overridden`)}setNotificationHandler(t,r){let n=Gh(t);this._notificationHandlers.set(n,o=>{let a=Kh(t,o);return Promise.resolve(r(a))})}removeNotificationHandler(t){this._notificationHandlers.delete(t)}_cleanupTaskProgressHandler(t){let r=this._taskProgressTokens.get(t);r!==void 0&&(this._progressHandlers.delete(r),this._taskProgressTokens.delete(t))}async _enqueueTaskMessage(t,r,n){if(!this._taskStore||!this._taskMessageQueue)throw new Error("Cannot enqueue task message: taskStore and taskMessageQueue are not configured");let o=this._options?.maxTaskQueueSize;await this._taskMessageQueue.enqueue(t,r,n,o)}async _clearTaskQueue(t,r){if(this._taskMessageQueue){let n=await this._taskMessageQueue.dequeueAll(t,r);for(let o of n)if(o.type==="request"&&Ph(o.message)){let a=o.message.id,u=this._requestResolvers.get(a);u?(u(new ne(se.InternalError,"Task cancelled or completed")),this._requestResolvers.delete(a)):this._onerror(new Error(`Resolver missing for request ${a} during task ${t} cleanup`))}}}async _waitForTaskUpdate(t,r){let n=this._options?.defaultTaskPollInterval??1e3;try{let o=await this._taskStore?.getTask(t);o?.pollInterval&&(n=o.pollInterval)}catch{}return new Promise((o,a)=>{if(r.aborted){a(new ne(se.InvalidRequest,"Request cancelled"));return}let u=setTimeout(o,n);r.addEventListener("abort",()=>{clearTimeout(u),a(new ne(se.InvalidRequest,"Request cancelled"))},{once:!0})})}requestTaskStore(t,r){let n=this._taskStore;if(!n)throw new Error("No task store configured");return{createTask:async o=>{if(!t)throw new Error("No request provided");return await n.createTask(o,t.id,{method:t.method,params:t.params},r)},getTask:async o=>{let a=await n.getTask(o,r);if(!a)throw new ne(se.InvalidParams,"Failed to retrieve task: Task not found");return a},storeTaskResult:async(o,a,u)=>{await n.storeTaskResult(o,a,u,r);let c=await n.getTask(o,r);if(c){let d=ks.parse({method:"notifications/tasks/status",params:c});await this.notification(d),So(c.status)&&this._cleanupTaskProgressHandler(o)}},getTaskResult:o=>n.getTaskResult(o,r),updateTaskStatus:async(o,a,u)=>{let c=await n.getTask(o,r);if(!c)throw new ne(se.InvalidParams,`Task "${o}" not found - it may have been cleaned up`);if(So(c.status))throw new ne(se.InvalidParams,`Cannot update task "${o}" from terminal status "${c.status}" to "${a}". Terminal states (completed, failed, cancelled) cannot transition to other states.`);await n.updateTaskStatus(o,a,u,r);let d=await n.getTask(o,r);if(d){let f=ks.parse({method:"notifications/tasks/status",params:d});await this.notification(f),So(d.status)&&this._cleanupTaskProgressHandler(o)}},listTasks:o=>n.listTasks(o,r)}}};function b1(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function w1(e,t){let r={...e};for(let n in t){let o=n,a=t[o];if(a===void 0)continue;let u=r[o];b1(u)&&b1(a)?r[o]={...u,...a}:r[o]=a}return r}var sz=gc(Ny(),1),uz=gc(az(),1);function jL(){let e=new sz.default({strict:!1,validateFormats:!0,validateSchema:!1,allErrors:!0});return(0,uz.default)(e),e}var ed=class{constructor(t){this._ajv=t??jL()}getValidator(t){let r="$id"in t&&typeof t.$id=="string"?this._ajv.getSchema(t.$id)??this._ajv.compile(t):this._ajv.compile(t);return n=>r(n)?{valid:!0,data:n,errorMessage:void 0}:{valid:!1,data:void 0,errorMessage:this._ajv.errorsText(r.errors)}}};var td=class{constructor(t){this._server=t}requestStream(t,r,n){return this._server.requestStream(t,r,n)}async getTask(t,r){return this._server.getTask({taskId:t},r)}async getTaskResult(t,r,n){return this._server.getTaskResult({taskId:t},r,n)}async listTasks(t,r){return this._server.listTasks(t?{cursor:t}:void 0,r)}async cancelTask(t,r){return this._server.cancelTask({taskId:t},r)}};function cz(e,t,r){if(!e)throw new Error(`${r} does not support task creation (required for ${t})`);switch(t){case"tools/call":if(!e.tools?.call)throw new Error(`${r} does not support task creation for tools/call (required for ${t})`);break;default:break}}function lz(e,t,r){if(!e)throw new Error(`${r} does not support task creation (required for ${t})`);switch(t){case"sampling/createMessage":if(!e.sampling?.createMessage)throw new Error(`${r} does not support task creation for sampling/createMessage (required for ${t})`);break;case"elicitation/create":if(!e.elicitation?.create)throw new Error(`${r} does not support task creation for elicitation/create (required for ${t})`);break;default:break}}var rd=class extends yl{constructor(t,r){super(r),this._serverInfo=t,this._loggingLevels=new Map,this.LOG_LEVEL_SEVERITY=new Map(Ss.options.map((n,o)=>[n,o])),this.isMessageIgnored=(n,o)=>{let a=this._loggingLevels.get(o);return a?this.LOG_LEVEL_SEVERITY.get(n)<this.LOG_LEVEL_SEVERITY.get(a):!1},this._capabilities=r?.capabilities??{},this._instructions=r?.instructions,this._jsonSchemaValidator=r?.jsonSchemaValidator??new ed,this.setRequestHandler(Rh,n=>this._oninitialize(n)),this.setNotificationHandler(Oh,()=>this.oninitialized?.()),this._capabilities.logging&&this.setRequestHandler(Dh,async(n,o)=>{let a=o.sessionId||o.requestInfo?.headers["mcp-session-id"]||void 0,{level:u}=n.params,c=Ss.safeParse(u);return c.success&&this._loggingLevels.set(a,c.data),{}})}get experimental(){return this._experimental||(this._experimental={tasks:new td(this)}),this._experimental}registerCapabilities(t){if(this.transport)throw new Error("Cannot register capabilities after connecting to transport");this._capabilities=w1(this._capabilities,t)}setRequestHandler(t,r){let o=ko(t)?.method;if(!o)throw new Error("Schema is missing a method literal");let a;if(Ur(o)){let c=o;a=c._zod?.def?.value??c.value}else{let c=o;a=c._def?.value??c.value}if(typeof a!="string")throw new Error("Schema method literal must be a string");if(a==="tools/call"){let c=async(d,f)=>{let m=$o(sa,d);if(!m.success){let w=m.error instanceof Error?m.error.message:String(m.error);throw new ne(se.InvalidParams,`Invalid tools/call request: ${w}`)}let{params:h}=m.data,y=await Promise.resolve(r(d,f));if(h.task){let w=$o(ia,y);if(!w.success){let $=w.error instanceof Error?w.error.message:String(w.error);throw new ne(se.InvalidParams,`Invalid task creation result: ${$}`)}return w.data}let v=$o(ll,y);if(!v.success){let w=v.error instanceof Error?v.error.message:String(v.error);throw new ne(se.InvalidParams,`Invalid tools/call result: ${w}`)}return v.data};return super.setRequestHandler(t,c)}return super.setRequestHandler(t,r)}assertCapabilityForMethod(t){switch(t){case"sampling/createMessage":if(!this._clientCapabilities?.sampling)throw new Error(`Client does not support sampling (required for ${t})`);break;case"elicitation/create":if(!this._clientCapabilities?.elicitation)throw new Error(`Client does not support elicitation (required for ${t})`);break;case"roots/list":if(!this._clientCapabilities?.roots)throw new Error(`Client does not support listing roots (required for ${t})`);break;case"ping":break}}assertNotificationCapability(t){switch(t){case"notifications/message":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${t})`);break;case"notifications/resources/updated":case"notifications/resources/list_changed":if(!this._capabilities.resources)throw new Error(`Server does not support notifying about resources (required for ${t})`);break;case"notifications/tools/list_changed":if(!this._capabilities.tools)throw new Error(`Server does not support notifying of tool list changes (required for ${t})`);break;case"notifications/prompts/list_changed":if(!this._capabilities.prompts)throw new Error(`Server does not support notifying of prompt list changes (required for ${t})`);break;case"notifications/elicitation/complete":if(!this._clientCapabilities?.elicitation?.url)throw new Error(`Client does not support URL elicitation (required for ${t})`);break;case"notifications/cancelled":break;case"notifications/progress":break}}assertRequestHandlerCapability(t){if(this._capabilities)switch(t){case"completion/complete":if(!this._capabilities.completions)throw new Error(`Server does not support completions (required for ${t})`);break;case"logging/setLevel":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${t})`);break;case"prompts/get":case"prompts/list":if(!this._capabilities.prompts)throw new Error(`Server does not support prompts (required for ${t})`);break;case"resources/list":case"resources/templates/list":case"resources/read":if(!this._capabilities.resources)throw new Error(`Server does not support resources (required for ${t})`);break;case"tools/call":case"tools/list":if(!this._capabilities.tools)throw new Error(`Server does not support tools (required for ${t})`);break;case"tasks/get":case"tasks/list":case"tasks/result":case"tasks/cancel":if(!this._capabilities.tasks)throw new Error(`Server does not support tasks capability (required for ${t})`);break;case"ping":case"initialize":break}}assertTaskCapability(t){lz(this._clientCapabilities?.tasks?.requests,t,"Client")}assertTaskHandlerCapability(t){this._capabilities&&cz(this._capabilities.tasks?.requests,t,"Server")}async _oninitialize(t){let r=t.params.protocolVersion;return this._clientCapabilities=t.params.capabilities,this._clientVersion=t.params.clientInfo,{protocolVersion:kx.includes(r)?r:Sh,capabilities:this.getCapabilities(),serverInfo:this._serverInfo,...this._instructions&&{instructions:this._instructions}}}getClientCapabilities(){return this._clientCapabilities}getClientVersion(){return this._clientVersion}getCapabilities(){return this._capabilities}async ping(){return this.request({method:"ping"},Wc)}async createMessage(t,r){if((t.tools||t.toolChoice)&&!this._clientCapabilities?.sampling?.tools)throw new Error("Client does not support sampling tools capability.");if(t.messages.length>0){let n=t.messages[t.messages.length-1],o=Array.isArray(n.content)?n.content:[n.content],a=o.some(f=>f.type==="tool_result"),u=t.messages.length>1?t.messages[t.messages.length-2]:void 0,c=u?Array.isArray(u.content)?u.content:[u.content]:[],d=c.some(f=>f.type==="tool_use");if(a){if(o.some(f=>f.type!=="tool_result"))throw new Error("The last message must contain only tool_result content if any is present");if(!d)throw new Error("tool_result blocks are not matching any tool_use from the previous message")}if(d){let f=new Set(c.filter(h=>h.type==="tool_use").map(h=>h.id)),m=new Set(o.filter(h=>h.type==="tool_result").map(h=>h.toolUseId));if(f.size!==m.size||![...f].every(h=>m.has(h)))throw new Error("ids of tool_result blocks and tool_use blocks from previous message do not match")}}return t.tools?this.request({method:"sampling/createMessage",params:t},Lh,r):this.request({method:"sampling/createMessage",params:t},qh,r)}async elicitInput(t,r){switch(t.mode??"form"){case"url":{if(!this._clientCapabilities?.elicitation?.url)throw new Error("Client does not support url elicitation.");let o=t;return this.request({method:"elicitation/create",params:o},dl,r)}case"form":{if(!this._clientCapabilities?.elicitation?.form)throw new Error("Client does not support form elicitation.");let o=t.mode==="form"?t:{...t,mode:"form"},a=await this.request({method:"elicitation/create",params:o},dl,r);if(a.action==="accept"&&a.content&&o.requestedSchema)try{let c=this._jsonSchemaValidator.getValidator(o.requestedSchema)(a.content);if(!c.valid)throw new ne(se.InvalidParams,`Elicitation response content does not match requested schema: ${c.errorMessage}`)}catch(u){throw u instanceof ne?u:new ne(se.InternalError,`Error validating elicitation response: ${u instanceof Error?u.message:String(u)}`)}return a}}}createElicitationCompletionNotifier(t,r){if(!this._clientCapabilities?.elicitation?.url)throw new Error("Client does not support URL elicitation (required for notifications/elicitation/complete)");return()=>this.notification({method:"notifications/elicitation/complete",params:{elicitationId:t}},r)}async listRoots(t,r){return this.request({method:"roots/list",params:t},Uh,r)}async sendLoggingMessage(t,r){if(this._capabilities.logging&&!this.isMessageIgnored(t.level,r))return this.notification({method:"notifications/message",params:t})}async sendResourceUpdated(t){return this.notification({method:"notifications/resources/updated",params:t})}async sendResourceListChanged(){return this.notification({method:"notifications/resources/list_changed"})}async sendToolListChanged(){return this.notification({method:"notifications/tools/list_changed"})}async sendPromptListChanged(){return this.notification({method:"notifications/prompts/list_changed"})}};var fz=Symbol.for("mcp.completable");function Fy(e){return!!e&&typeof e=="object"&&fz in e}function pz(e){return e[fz]?.complete}var dz;(function(e){e.Completable="McpCompletable"})(dz||(dz={}));var NL=/^[A-Za-z0-9._-]{1,128}$/;function AL(e){let t=[];if(e.length===0)return{isValid:!1,warnings:["Tool name cannot be empty"]};if(e.length>128)return{isValid:!1,warnings:[`Tool name exceeds maximum length of 128 characters (current: ${e.length})`]};if(e.includes(" ")&&t.push("Tool name contains spaces, which may cause parsing issues"),e.includes(",")&&t.push("Tool name contains commas, which may cause parsing issues"),(e.startsWith("-")||e.endsWith("-"))&&t.push("Tool name starts or ends with a dash, which may cause parsing issues in some contexts"),(e.startsWith(".")||e.endsWith("."))&&t.push("Tool name starts or ends with a dot, which may cause parsing issues in some contexts"),!NL.test(e)){let r=e.split("").filter(n=>!/[A-Za-z0-9._-]/.test(n)).filter((n,o,a)=>a.indexOf(n)===o);return t.push(`Tool name contains invalid characters: ${r.map(n=>`"${n}"`).join(", ")}`,"Allowed characters are: A-Z, a-z, 0-9, underscore (_), dash (-), and dot (.)"),{isValid:!1,warnings:t}}return{isValid:!0,warnings:t}}function CL(e,t){if(t.length>0){console.warn(`Tool name validation warning for "${e}":`);for(let r of t)console.warn(`  - ${r}`);console.warn("Tool registration will proceed, but this may cause compatibility issues."),console.warn("Consider updating the tool name to conform to the MCP tool naming standard."),console.warn("See SEP: Specify Format for Tool Names (https://github.com/modelcontextprotocol/modelcontextprotocol/issues/986) for more details.")}}function Vy(e){let t=AL(e);return CL(e,t.warnings),t.isValid}var nd=class{constructor(t){this._mcpServer=t}registerToolTask(t,r,n){let o={taskSupport:"required",...r.execution};if(o.taskSupport==="forbidden")throw new Error(`Cannot register task-based tool '${t}' with taskSupport 'forbidden'. Use registerTool() instead.`);return this._mcpServer._createRegisteredTool(t,r.title,r.description,r.inputSchema,r.outputSchema,r.annotations,o,r._meta,n)}};var od=class{constructor(t,r){this._registeredResources={},this._registeredResourceTemplates={},this._registeredTools={},this._registeredPrompts={},this._toolHandlersInitialized=!1,this._completionHandlerInitialized=!1,this._resourceHandlersInitialized=!1,this._promptHandlersInitialized=!1,this.server=new rd(t,r)}get experimental(){return this._experimental||(this._experimental={tasks:new nd(this)}),this._experimental}async connect(t){return await this.server.connect(t)}async close(){await this.server.close()}setToolRequestHandlers(){this._toolHandlersInitialized||(this.server.assertCanSetRequestHandler(No(cl)),this.server.assertCanSetRequestHandler(No(sa)),this.server.registerCapabilities({tools:{listChanged:!0}}),this.server.setRequestHandler(cl,()=>({tools:Object.entries(this._registeredTools).filter(([,t])=>t.enabled).map(([t,r])=>{let n={name:t,title:r.title,description:r.description,inputSchema:(()=>{let o=na(r.inputSchema);return o?Wh(o,{strictUnions:!0,pipeStrategy:"input"}):ML})(),annotations:r.annotations,execution:r.execution,_meta:r._meta};if(r.outputSchema){let o=na(r.outputSchema);o&&(n.outputSchema=Wh(o,{strictUnions:!0,pipeStrategy:"output"}))}return n})})),this.server.setRequestHandler(sa,async(t,r)=>{try{let n=this._registeredTools[t.params.name];if(!n)throw new ne(se.InvalidParams,`Tool ${t.params.name} not found`);if(!n.enabled)throw new ne(se.InvalidParams,`Tool ${t.params.name} disabled`);let o=!!t.params.task,a=n.execution?.taskSupport,u="createTask"in n.handler;if((a==="required"||a==="optional")&&!u)throw new ne(se.InternalError,`Tool ${t.params.name} has taskSupport '${a}' but was not registered with registerToolTask`);if(a==="required"&&!o)throw new ne(se.MethodNotFound,`Tool ${t.params.name} requires task augmentation (taskSupport: 'required')`);if(a==="optional"&&!o&&u)return await this.handleAutomaticTaskPolling(n,t,r);let c=await this.validateToolInput(n,t.params.arguments,t.params.name),d=await this.executeToolHandler(n,c,r);return o||await this.validateToolOutput(n,d,t.params.name),d}catch(n){if(n instanceof ne&&n.code===se.UrlElicitationRequired)throw n;return this.createToolError(n instanceof Error?n.message:String(n))}}),this._toolHandlersInitialized=!0)}createToolError(t){return{content:[{type:"text",text:t}],isError:!0}}async validateToolInput(t,r,n){if(!t.inputSchema)return;let a=na(t.inputSchema)??t.inputSchema,u=await qc(a,r);if(!u.success){let c="error"in u?u.error:"Unknown error",d=Lc(c);throw new ne(se.InvalidParams,`Input validation error: Invalid arguments for tool ${n}: ${d}`)}return u.data}async validateToolOutput(t,r,n){if(!t.outputSchema||!("content"in r)||r.isError)return;if(!r.structuredContent)throw new ne(se.InvalidParams,`Output validation error: Tool ${n} has an output schema but no structured content was provided`);let o=na(t.outputSchema),a=await qc(o,r.structuredContent);if(!a.success){let u="error"in a?a.error:"Unknown error",c=Lc(u);throw new ne(se.InvalidParams,`Output validation error: Invalid structured content for tool ${n}: ${c}`)}}async executeToolHandler(t,r,n){let o=t.handler;if("createTask"in o){if(!n.taskStore)throw new Error("No task store provided.");let u={...n,taskStore:n.taskStore};if(t.inputSchema){let c=o;return await Promise.resolve(c.createTask(r,u))}else{let c=o;return await Promise.resolve(c.createTask(u))}}if(t.inputSchema){let u=o;return await Promise.resolve(u(r,n))}else{let u=o;return await Promise.resolve(u(n))}}async handleAutomaticTaskPolling(t,r,n){if(!n.taskStore)throw new Error("No task store provided for task-capable tool.");let o=await this.validateToolInput(t,r.params.arguments,r.params.name),a=t.handler,u={...n,taskStore:n.taskStore},c=o?await Promise.resolve(a.createTask(o,u)):await Promise.resolve(a.createTask(u)),d=c.task.taskId,f=c.task,m=f.pollInterval??5e3;for(;f.status!=="completed"&&f.status!=="failed"&&f.status!=="cancelled";){await new Promise(y=>setTimeout(y,m));let h=await n.taskStore.getTask(d);if(!h)throw new ne(se.InternalError,`Task ${d} not found during polling`);f=h}return await n.taskStore.getTaskResult(d)}setCompletionRequestHandler(){this._completionHandlerInitialized||(this.server.assertCanSetRequestHandler(No(fl)),this.server.registerCapabilities({completions:{}}),this.server.setRequestHandler(fl,async t=>{switch(t.params.ref.type){case"ref/prompt":return qx(t),this.handlePromptCompletion(t,t.params.ref);case"ref/resource":return Lx(t),this.handleResourceCompletion(t,t.params.ref);default:throw new ne(se.InvalidParams,`Invalid completion reference: ${t.params.ref}`)}}),this._completionHandlerInitialized=!0)}async handlePromptCompletion(t,r){let n=this._registeredPrompts[r.name];if(!n)throw new ne(se.InvalidParams,`Prompt ${r.name} not found`);if(!n.enabled)throw new ne(se.InvalidParams,`Prompt ${r.name} disabled`);if(!n.argsSchema)return nu;let a=ko(n.argsSchema)?.[t.params.argument.name];if(!Fy(a))return nu;let u=pz(a);if(!u)return nu;let c=await u(t.params.argument.value,t.params.context);return hz(c)}async handleResourceCompletion(t,r){let n=Object.values(this._registeredResourceTemplates).find(u=>u.resourceTemplate.uriTemplate.toString()===r.uri);if(!n){if(this._registeredResources[r.uri])return nu;throw new ne(se.InvalidParams,`Resource template ${t.params.ref.uri} not found`)}let o=n.resourceTemplate.completeCallback(t.params.argument.name);if(!o)return nu;let a=await o(t.params.argument.value,t.params.context);return hz(a)}setResourceRequestHandlers(){this._resourceHandlersInitialized||(this.server.assertCanSetRequestHandler(No(ol)),this.server.assertCanSetRequestHandler(No(il)),this.server.assertCanSetRequestHandler(No(al)),this.server.registerCapabilities({resources:{listChanged:!0}}),this.server.setRequestHandler(ol,async(t,r)=>{let n=Object.entries(this._registeredResources).filter(([a,u])=>u.enabled).map(([a,u])=>({uri:a,name:u.name,...u.metadata})),o=[];for(let a of Object.values(this._registeredResourceTemplates)){if(!a.resourceTemplate.listCallback)continue;let u=await a.resourceTemplate.listCallback(r);for(let c of u.resources)o.push({...a.metadata,...c})}return{resources:[...n,...o]}}),this.server.setRequestHandler(il,async()=>({resourceTemplates:Object.entries(this._registeredResourceTemplates).map(([r,n])=>({name:r,uriTemplate:n.resourceTemplate.uriTemplate.toString(),...n.metadata}))})),this.server.setRequestHandler(al,async(t,r)=>{let n=new URL(t.params.uri),o=this._registeredResources[n.toString()];if(o){if(!o.enabled)throw new ne(se.InvalidParams,`Resource ${n} disabled`);return o.readCallback(n,r)}for(let a of Object.values(this._registeredResourceTemplates)){let u=a.resourceTemplate.uriTemplate.match(n.toString());if(u)return a.readCallback(n,u,r)}throw new ne(se.InvalidParams,`Resource ${n} not found`)}),this._resourceHandlersInitialized=!0)}setPromptRequestHandlers(){this._promptHandlersInitialized||(this.server.assertCanSetRequestHandler(No(sl)),this.server.assertCanSetRequestHandler(No(ul)),this.server.registerCapabilities({prompts:{listChanged:!0}}),this.server.setRequestHandler(sl,()=>({prompts:Object.entries(this._registeredPrompts).filter(([,t])=>t.enabled).map(([t,r])=>({name:t,title:r.title,description:r.description,arguments:r.argsSchema?qL(r.argsSchema):void 0}))})),this.server.setRequestHandler(ul,async(t,r)=>{let n=this._registeredPrompts[t.params.name];if(!n)throw new ne(se.InvalidParams,`Prompt ${t.params.name} not found`);if(!n.enabled)throw new ne(se.InvalidParams,`Prompt ${t.params.name} disabled`);if(n.argsSchema){let o=na(n.argsSchema),a=await qc(o,t.params.arguments);if(!a.success){let d="error"in a?a.error:"Unknown error",f=Lc(d);throw new ne(se.InvalidParams,`Invalid arguments for prompt ${t.params.name}: ${f}`)}let u=a.data,c=n.callback;return await Promise.resolve(c(u,r))}else{let o=n.callback;return await Promise.resolve(o(r))}}),this._promptHandlersInitialized=!0)}resource(t,r,...n){let o;typeof n[0]=="object"&&(o=n.shift());let a=n[0];if(typeof r=="string"){if(this._registeredResources[r])throw new Error(`Resource ${r} is already registered`);let u=this._createRegisteredResource(t,void 0,r,o,a);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),u}else{if(this._registeredResourceTemplates[t])throw new Error(`Resource template ${t} is already registered`);let u=this._createRegisteredResourceTemplate(t,void 0,r,o,a);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),u}}registerResource(t,r,n,o){if(typeof r=="string"){if(this._registeredResources[r])throw new Error(`Resource ${r} is already registered`);let a=this._createRegisteredResource(t,n.title,r,n,o);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),a}else{if(this._registeredResourceTemplates[t])throw new Error(`Resource template ${t} is already registered`);let a=this._createRegisteredResourceTemplate(t,n.title,r,n,o);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),a}}_createRegisteredResource(t,r,n,o,a){let u={name:t,title:r,metadata:o,readCallback:a,enabled:!0,disable:()=>u.update({enabled:!1}),enable:()=>u.update({enabled:!0}),remove:()=>u.update({uri:null}),update:c=>{typeof c.uri<"u"&&c.uri!==n&&(delete this._registeredResources[n],c.uri&&(this._registeredResources[c.uri]=u)),typeof c.name<"u"&&(u.name=c.name),typeof c.title<"u"&&(u.title=c.title),typeof c.metadata<"u"&&(u.metadata=c.metadata),typeof c.callback<"u"&&(u.readCallback=c.callback),typeof c.enabled<"u"&&(u.enabled=c.enabled),this.sendResourceListChanged()}};return this._registeredResources[n]=u,u}_createRegisteredResourceTemplate(t,r,n,o,a){let u={resourceTemplate:n,title:r,metadata:o,readCallback:a,enabled:!0,disable:()=>u.update({enabled:!1}),enable:()=>u.update({enabled:!0}),remove:()=>u.update({name:null}),update:f=>{typeof f.name<"u"&&f.name!==t&&(delete this._registeredResourceTemplates[t],f.name&&(this._registeredResourceTemplates[f.name]=u)),typeof f.title<"u"&&(u.title=f.title),typeof f.template<"u"&&(u.resourceTemplate=f.template),typeof f.metadata<"u"&&(u.metadata=f.metadata),typeof f.callback<"u"&&(u.readCallback=f.callback),typeof f.enabled<"u"&&(u.enabled=f.enabled),this.sendResourceListChanged()}};this._registeredResourceTemplates[t]=u;let c=n.uriTemplate.variableNames;return Array.isArray(c)&&c.some(f=>!!n.completeCallback(f))&&this.setCompletionRequestHandler(),u}_createRegisteredPrompt(t,r,n,o,a){let u={title:r,description:n,argsSchema:o===void 0?void 0:gi(o),callback:a,enabled:!0,disable:()=>u.update({enabled:!1}),enable:()=>u.update({enabled:!0}),remove:()=>u.update({name:null}),update:c=>{typeof c.name<"u"&&c.name!==t&&(delete this._registeredPrompts[t],c.name&&(this._registeredPrompts[c.name]=u)),typeof c.title<"u"&&(u.title=c.title),typeof c.description<"u"&&(u.description=c.description),typeof c.argsSchema<"u"&&(u.argsSchema=gi(c.argsSchema)),typeof c.callback<"u"&&(u.callback=c.callback),typeof c.enabled<"u"&&(u.enabled=c.enabled),this.sendPromptListChanged()}};return this._registeredPrompts[t]=u,o&&Object.values(o).some(d=>{let f=d instanceof mr?d._def?.innerType:d;return Fy(f)})&&this.setCompletionRequestHandler(),u}_createRegisteredTool(t,r,n,o,a,u,c,d,f){Vy(t);let m={title:r,description:n,inputSchema:mz(o),outputSchema:mz(a),annotations:u,execution:c,_meta:d,handler:f,enabled:!0,disable:()=>m.update({enabled:!1}),enable:()=>m.update({enabled:!0}),remove:()=>m.update({name:null}),update:h=>{typeof h.name<"u"&&h.name!==t&&(typeof h.name=="string"&&Vy(h.name),delete this._registeredTools[t],h.name&&(this._registeredTools[h.name]=m)),typeof h.title<"u"&&(m.title=h.title),typeof h.description<"u"&&(m.description=h.description),typeof h.paramsSchema<"u"&&(m.inputSchema=gi(h.paramsSchema)),typeof h.outputSchema<"u"&&(m.outputSchema=gi(h.outputSchema)),typeof h.callback<"u"&&(m.handler=h.callback),typeof h.annotations<"u"&&(m.annotations=h.annotations),typeof h._meta<"u"&&(m._meta=h._meta),typeof h.enabled<"u"&&(m.enabled=h.enabled),this.sendToolListChanged()}};return this._registeredTools[t]=m,this.setToolRequestHandlers(),this.sendToolListChanged(),m}tool(t,...r){if(this._registeredTools[t])throw new Error(`Tool ${t} is already registered`);let n,o,a,u;if(typeof r[0]=="string"&&(n=r.shift()),r.length>1){let d=r[0];By(d)?(o=r.shift(),r.length>1&&typeof r[0]=="object"&&r[0]!==null&&!By(r[0])&&(u=r.shift())):typeof d=="object"&&d!==null&&(u=r.shift())}let c=r[0];return this._createRegisteredTool(t,void 0,n,o,a,u,{taskSupport:"forbidden"},void 0,c)}registerTool(t,r,n){if(this._registeredTools[t])throw new Error(`Tool ${t} is already registered`);let{title:o,description:a,inputSchema:u,outputSchema:c,annotations:d,_meta:f}=r;return this._createRegisteredTool(t,o,a,u,c,d,{taskSupport:"forbidden"},f,n)}prompt(t,...r){if(this._registeredPrompts[t])throw new Error(`Prompt ${t} is already registered`);let n;typeof r[0]=="string"&&(n=r.shift());let o;r.length>1&&(o=r.shift());let a=r[0],u=this._createRegisteredPrompt(t,void 0,n,o,a);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),u}registerPrompt(t,r,n){if(this._registeredPrompts[t])throw new Error(`Prompt ${t} is already registered`);let{title:o,description:a,argsSchema:u}=r,c=this._createRegisteredPrompt(t,o,a,u,n);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),c}isConnected(){return this.server.transport!==void 0}async sendLoggingMessage(t,r){return this.server.sendLoggingMessage(t,r)}sendResourceListChanged(){this.isConnected()&&this.server.sendResourceListChanged()}sendToolListChanged(){this.isConnected()&&this.server.sendToolListChanged()}sendPromptListChanged(){this.isConnected()&&this.server.sendPromptListChanged()}};var ML={type:"object",properties:{}};function gz(e){return e!==null&&typeof e=="object"&&"parse"in e&&typeof e.parse=="function"&&"safeParse"in e&&typeof e.safeParse=="function"}function DL(e){return"_def"in e||"_zod"in e||gz(e)}function By(e){return typeof e!="object"||e===null||DL(e)?!1:Object.keys(e).length===0?!0:Object.values(e).some(gz)}function mz(e){if(e)return By(e)?gi(e):e}function qL(e){let t=ko(e);return t?Object.entries(t).map(([r,n])=>{let o=tx(n),a=rx(n);return{name:r,description:o,required:!a}}):[]}function No(e){let r=ko(e)?.method;if(!r)throw new Error("Schema is missing a method literal");let n=Uc(r);if(typeof n=="string")return n;throw new Error("Schema method literal must be a string")}function hz(e){return{completion:{values:e.slice(0,100),total:e.length,hasMore:e.length>100}}}var nu={completion:{values:[],hasMore:!1}};var Hy=gc(require("node:process"),1);var id=class{append(t){this._buffer=this._buffer?Buffer.concat([this._buffer,t]):t}readMessage(){if(!this._buffer)return null;let t=this._buffer.indexOf(`
`);if(t===-1)return null;let r=this._buffer.toString("utf8",0,t).replace(/\r$/,"");return this._buffer=this._buffer.subarray(t+1),LL(r)}clear(){this._buffer=void 0}};function LL(e){return Ox.parse(JSON.parse(e))}function yz(e){return JSON.stringify(e)+`
`}var ad=class{constructor(t=Hy.default.stdin,r=Hy.default.stdout){this._stdin=t,this._stdout=r,this._readBuffer=new id,this._started=!1,this._ondata=n=>{this._readBuffer.append(n),this.processReadBuffer()},this._onerror=n=>{this.onerror?.(n)}}async start(){if(this._started)throw new Error("StdioServerTransport already started! If using Server class, note that connect() calls start() automatically.");this._started=!0,this._stdin.on("data",this._ondata),this._stdin.on("error",this._onerror)}processReadBuffer(){for(;;)try{let t=this._readBuffer.readMessage();if(t===null)break;this.onmessage?.(t)}catch(t){this.onerror?.(t)}}async close(){this._stdin.off("data",this._ondata),this._stdin.off("error",this._onerror),this._stdin.listenerCount("data")===0&&this._stdin.pause(),this._readBuffer.clear(),this.onclose?.()}send(t){return new Promise(r=>{let n=yz(t);this._stdout.write(n)?r():this._stdout.once("drain",r)})}};var Jy=process.env.X402_BASE_URL||"https://x402-gateway-production.up.railway.app",_z=process.env.X402_PAYMENT_HEADER||"",vz=process.env.X402_DEV_BYPASS||"";async function Pt(e,t,r,n){let o=`${Jy}${t}`;if(e==="GET"&&r){let f=new URLSearchParams;for(let[h,y]of Object.entries(r))y!=null&&y!==""&&f.set(h,String(y));let m=f.toString();m&&(o+=`?${m}`)}let a={"Content-Type":"application/json"};_z&&(a["X-PAYMENT"]=_z),vz&&(a["X-DEV-BYPASS"]=vz);let u={method:e,headers:a};e==="POST"&&n&&(u.body=JSON.stringify(n));let c=await fetch(o,u);if(c.status===402){let f=c.headers.get("PAYMENT-REQUIRED"),m=null;if(f)try{m=JSON.parse(Buffer.from(f,"base64").toString())}catch{m=f}return{status:402,paymentRequired:m,error:"Payment required. Set X402_PAYMENT_HEADER or X402_DEV_BYPASS env var, or use @x402/fetch to handle payments automatically."}}let d=await c.json().catch(()=>({error:"Non-JSON response"}));return c.ok?{status:c.status,data:d}:{status:c.status,error:d.error||`HTTP ${c.status}`}}function ze(e){return{content:[{type:"text",text:typeof e=="string"?e:JSON.stringify(e,null,2)}]}}function bz(){let e=new od({name:"x402engine",version:"1.0.0"});return e.tool("discover_services","List all available x402 Engine APIs with pricing, endpoints, and payment networks. Call this first to understand what's available.",{},async()=>{let t=await Pt("GET","/.well-known/x402.json");return t.error?ze({error:t.error}):ze(t.data)}),e.tool("generate_image","Generate an image from a text prompt. Three quality tiers: 'fast' ($0.015, FLUX Schnell), 'quality' ($0.05, FLUX.2 Pro), 'text' ($0.12, Ideogram v3 for images with text). Returns image URL.",{prompt:W.string().describe("Text description of the image to generate"),tier:W.enum(["fast","quality","text"]).default("fast").describe("Quality tier: fast ($0.015), quality ($0.05), text ($0.12)"),width:W.number().min(256).max(2048).default(1024).optional().describe("Image width in pixels"),height:W.number().min(256).max(2048).default(1024).optional().describe("Image height in pixels"),seed:W.number().optional().describe("Random seed for reproducibility")},async({prompt:t,tier:r,width:n,height:o,seed:a})=>{let u={prompt:t};n&&(u.width=n),o&&(u.height=o),a!==void 0&&(u.seed=a);let c=await Pt("POST",`/api/image/${r}`,void 0,u);return c.error?ze({error:c.error,paymentRequired:c.paymentRequired}):ze(c.data)}),e.tool("execute_code","Execute code in a secure sandboxed environment (E2B). Supports Python, JavaScript, Bash, and R. $0.005 per execution.",{code:W.string().describe("Code to execute"),language:W.enum(["python","javascript","bash","r"]).default("python").describe("Programming language"),timeout:W.number().min(1).max(300).optional().describe("Execution timeout in seconds")},async({code:t,language:r,timeout:n})=>{let o={code:t,language:r};n&&(o.timeout=n);let a=await Pt("POST","/api/code/run",void 0,o);return a.error?ze({error:a.error,paymentRequired:a.paymentRequired}):ze(a.data)}),e.tool("transcribe_audio","Transcribe audio to text using Deepgram Nova-3. Accepts a public URL to an audio file. $0.10 per transcription.",{audio_url:W.string().url().describe("Public URL to audio file (mp3, wav, etc.)"),language:W.string().optional().describe("Language code (e.g., 'en', 'es')"),diarize:W.boolean().default(!1).optional().describe("Enable speaker identification"),punctuate:W.boolean().default(!0).optional().describe("Add punctuation")},async({audio_url:t,language:r,diarize:n,punctuate:o})=>{let a={audio_url:t};r&&(a.language=r),n&&(a.diarize=n),o!==void 0&&(a.punctuate=o);let u=await Pt("POST","/api/transcribe",void 0,a);return u.error?ze({error:u.error,paymentRequired:u.paymentRequired}):ze(u.data)}),e.tool("get_crypto_price","Get current prices for cryptocurrencies. $0.001 per request.",{ids:W.string().describe("Comma-separated coin IDs (e.g., 'bitcoin,ethereum,solana')"),currencies:W.string().default("usd").optional().describe("Comma-separated fiat currencies (default: 'usd')"),include_24h:W.boolean().default(!0).optional().describe("Include 24h price change"),include_mcap:W.boolean().default(!1).optional().describe("Include market cap")},async({ids:t,currencies:r,include_24h:n,include_mcap:o})=>{let a=await Pt("GET","/api/crypto/price",{ids:t,currencies:r,include_24h:n,include_mcap:o});return a.error?ze({error:a.error,paymentRequired:a.paymentRequired}):ze(a.data)}),e.tool("get_crypto_markets","Get top cryptocurrencies by market cap with detailed market data. $0.002 per request.",{currency:W.string().default("usd").optional().describe("Fiat currency for prices"),category:W.string().optional().describe("Filter by category"),order:W.string().default("market_cap_desc").optional().describe("Sort order"),limit:W.number().min(1).max(250).default(20).optional().describe("Number of results"),page:W.number().min(1).default(1).optional().describe("Page number")},async({currency:t,category:r,order:n,limit:o,page:a})=>{let u=await Pt("GET","/api/crypto/markets",{currency:t,category:r,order:n,limit:o,page:a});return u.error?ze({error:u.error,paymentRequired:u.paymentRequired}):ze(u.data)}),e.tool("get_crypto_history","Get historical price data for a cryptocurrency. $0.003 per request.",{id:W.string().describe("Coin ID (e.g., 'bitcoin')"),currency:W.string().default("usd").optional().describe("Fiat currency"),days:W.union([W.number().min(1).max(365),W.literal("max")]).default(30).optional().describe("Number of days of history (or 'max')")},async({id:t,currency:r,days:n})=>{let o=await Pt("GET","/api/crypto/history",{id:t,currency:r,days:n});return o.error?ze({error:o.error,paymentRequired:o.paymentRequired}):ze(o.data)}),e.tool("get_trending_crypto","Get trending cryptocurrencies. $0.001 per request.",{},async()=>{let t=await Pt("GET","/api/crypto/trending");return t.error?ze({error:t.error,paymentRequired:t.paymentRequired}):ze(t.data)}),e.tool("search_crypto","Search for a cryptocurrency by name or symbol. $0.001 per request.",{q:W.string().describe("Search query (coin name or symbol)")},async({q:t})=>{let r=await Pt("GET","/api/crypto/search",{q:t});return r.error?ze({error:r.error,paymentRequired:r.paymentRequired}):ze(r.data)}),e.tool("get_wallet_balances","Get token balances for a wallet address on any supported chain. $0.005 per request.",{chain:W.string().describe("Blockchain name (e.g., 'ethereum', 'base', 'solana', 'arbitrum')"),address:W.string().describe("Wallet address")},async({chain:t,address:r})=>{let n=await Pt("POST","/api/wallet/balances",void 0,{chain:t,address:r});return n.error?ze({error:n.error,paymentRequired:n.paymentRequired}):ze(n.data)}),e.tool("get_wallet_transactions","Get transaction history for a wallet address. $0.005 per request.",{chain:W.string().describe("Blockchain name"),address:W.string().describe("Wallet address")},async({chain:t,address:r})=>{let n=await Pt("POST","/api/wallet/transactions",void 0,{chain:t,address:r});return n.error?ze({error:n.error,paymentRequired:n.paymentRequired}):ze(n.data)}),e.tool("get_wallet_pnl","Get profit and loss analysis for a wallet's token trades. $0.01 per request.",{chain:W.string().describe("Blockchain name"),address:W.string().describe("Wallet address"),min_liquidity:W.number().optional().describe("Minimum liquidity filter"),min_volume_24h:W.number().optional().describe("Minimum 24h volume filter")},async({chain:t,address:r,min_liquidity:n,min_volume_24h:o})=>{let a={chain:t,address:r};n&&(a.min_liquidity=n),o&&(a.min_volume_24h=o);let u=await Pt("POST","/api/wallet/pnl",void 0,a);return u.error?ze({error:u.error,paymentRequired:u.paymentRequired}):ze(u.data)}),e.tool("get_token_prices","Get DEX-derived prices for tokens by contract address. $0.005 per request.",{tokens:W.array(W.object({token_address:W.string().describe("Token contract address"),chain:W.string().describe("Blockchain name")})).min(1).max(200).describe("Array of tokens to price")},async({tokens:t})=>{let r=await Pt("POST","/api/token/prices",void 0,{tokens:t});return r.error?ze({error:r.error,paymentRequired:r.paymentRequired}):ze(r.data)}),e.tool("get_token_metadata","Get metadata for a token (name, symbol, decimals, etc.). $0.002 per request.",{chain:W.string().optional().describe("Blockchain name (required with address)"),address:W.string().optional().describe("Token contract address"),slug:W.string().optional().describe("Token slug (alternative to chain+address)"),id:W.string().optional().describe("Token ID (alternative to chain+address)")},async({chain:t,address:r,slug:n,id:o})=>{let a={};t&&(a.chain=t),r&&(a.address=r),n&&(a.slug=n),o&&(a.id=o);let u=await Pt("GET","/api/token/metadata",a);return u.error?ze({error:u.error,paymentRequired:u.paymentRequired}):ze(u.data)}),e.tool("pin_to_ipfs","Pin JSON data to IPFS via Pinata. Returns the IPFS CID. $0.01 per pin.",{json:W.record(W.unknown()).describe("JSON object to pin to IPFS"),name:W.string().optional().describe("Name for the pinned content")},async({json:t,name:r})=>{let n={json:t};r&&(n.name=r);let o=await Pt("POST","/api/ipfs/pin",void 0,n);return o.error?ze({error:o.error,paymentRequired:o.paymentRequired}):ze(o.data)}),e.tool("get_from_ipfs","Retrieve content from IPFS by CID. $0.001 per request.",{cid:W.string().describe("IPFS content identifier (CID)")},async({cid:t})=>{let r=await Pt("GET","/api/ipfs/get",{cid:t});return r.error?ze({error:r.error,paymentRequired:r.paymentRequired}):ze(r.data)}),e.tool("search_flights","Search flight offers by route, dates, and passengers. Returns pricing, itineraries, and airlines. $0.01 per request.",{origin:W.string().describe("Origin airport IATA code (e.g., 'JFK')"),destination:W.string().describe("Destination airport IATA code (e.g., 'LAX')"),departureDate:W.string().describe("Departure date in YYYY-MM-DD format"),adults:W.number().min(1).max(9).default(1).optional().describe("Number of adult passengers"),returnDate:W.string().optional().describe("Return date in YYYY-MM-DD format (for round trips)"),max:W.number().min(1).max(50).default(10).optional().describe("Maximum number of offers to return"),nonStop:W.boolean().default(!1).optional().describe("Only show non-stop flights"),currencyCode:W.string().optional().describe("Currency code for prices (e.g., 'USD', 'EUR')")},async({origin:t,destination:r,departureDate:n,adults:o,returnDate:a,max:u,nonStop:c,currencyCode:d})=>{let f={origin:t,destination:r,departureDate:n};o&&(f.adults=o),a&&(f.returnDate=a),u&&(f.max=u),c&&(f.nonStop=c),d&&(f.currencyCode=d);let m=await Pt("GET","/api/travel/flights",f);return m.error?ze({error:m.error,paymentRequired:m.paymentRequired}):ze(m.data)}),e.tool("search_locations","Search for airports and cities by keyword. Returns IATA codes, names, and coordinates. $0.005 per request.",{keyword:W.string().min(2).describe("Search keyword (e.g., 'London', 'JFK', 'Paris')"),subType:W.string().default("AIRPORT,CITY").optional().describe("Location type filter: AIRPORT, CITY, or both")},async({keyword:t,subType:r})=>{let n=await Pt("GET","/api/travel/locations",{keyword:t,subType:r});return n.error?ze({error:n.error,paymentRequired:n.paymentRequired}):ze(n.data)}),e.tool("search_hotels","Search hotel offers by city and dates. Returns room details, pricing, and availability. $0.01 per request.",{cityCode:W.string().describe("City IATA code (e.g., 'PAR' for Paris, 'LON' for London)"),checkInDate:W.string().describe("Check-in date in YYYY-MM-DD format"),checkOutDate:W.string().describe("Check-out date in YYYY-MM-DD format"),adults:W.number().min(1).max(9).default(1).optional().describe("Number of adult guests per room"),roomQuantity:W.number().min(1).max(9).default(1).optional().describe("Number of rooms"),priceRange:W.string().optional().describe("Price range filter (e.g., '100-200')"),currency:W.string().optional().describe("Currency code for prices (e.g., 'USD')")},async({cityCode:t,checkInDate:r,checkOutDate:n,adults:o,roomQuantity:a,priceRange:u,currency:c})=>{let d={cityCode:t,checkInDate:r,checkOutDate:n};o&&(d.adults=o),a&&(d.roomQuantity=a),u&&(d.priceRange=u),c&&(d.currency=c);let f=await Pt("GET","/api/travel/hotels",d);return f.error?ze({error:f.error,paymentRequired:f.paymentRequired}):ze(f.data)}),e.tool("search_cheapest_dates","Find the cheapest travel dates for a route. Returns date/price pairs sorted by price. $0.01 per request.",{origin:W.string().describe("Origin airport IATA code (e.g., 'JFK')"),destination:W.string().describe("Destination airport IATA code (e.g., 'LAX')"),departureDate:W.string().optional().describe("Approximate departure date in YYYY-MM-DD format"),oneWay:W.boolean().default(!1).optional().describe("Search one-way flights only")},async({origin:t,destination:r,departureDate:n,oneWay:o})=>{let a={origin:t,destination:r};n&&(a.departureDate=n),o&&(a.oneWay=o);let u=await Pt("GET","/api/travel/cheapest-dates",a);return u.error?ze({error:u.error,paymentRequired:u.paymentRequired}):ze(u.data)}),e.resource("services","x402engine://services",async t=>({contents:[{uri:t.href,mimeType:"application/json",text:JSON.stringify({gateway:Jy,services:[{tool:"generate_image",price:"$0.015-$0.12",description:"AI image generation (3 tiers)"},{tool:"execute_code",price:"$0.005",description:"Sandboxed code execution"},{tool:"transcribe_audio",price:"$0.10",description:"Audio transcription"},{tool:"get_crypto_price",price:"$0.001",description:"Crypto prices"},{tool:"get_crypto_markets",price:"$0.002",description:"Market data"},{tool:"get_crypto_history",price:"$0.003",description:"Historical prices"},{tool:"get_trending_crypto",price:"$0.001",description:"Trending coins"},{tool:"search_crypto",price:"$0.001",description:"Coin search"},{tool:"get_wallet_balances",price:"$0.005",description:"Wallet balances"},{tool:"get_wallet_transactions",price:"$0.005",description:"Transaction history"},{tool:"get_wallet_pnl",price:"$0.01",description:"P&L analysis"},{tool:"get_token_prices",price:"$0.005",description:"DEX token prices"},{tool:"get_token_metadata",price:"$0.002",description:"Token metadata"},{tool:"pin_to_ipfs",price:"$0.01",description:"Pin to IPFS"},{tool:"get_from_ipfs",price:"$0.001",description:"Get from IPFS"},{tool:"search_flights",price:"$0.01",description:"Flight search"},{tool:"search_locations",price:"$0.005",description:"Airport & city search"},{tool:"search_hotels",price:"$0.01",description:"Hotel search"},{tool:"search_cheapest_dates",price:"$0.01",description:"Cheapest travel dates"}],networks:["Base (USDC)","Solana (USDC)","MegaETH (USDm)"],docs:`${Jy}/.well-known/x402.json`},null,2)}]})),e}function UL(){return bz()}var FL=process.argv[1]&&(process.argv[1].endsWith("/index.js")||process.argv[1].endsWith("/index.ts"));if(FL){let e=bz(),t=new ad;e.connect(t).catch(r=>{console.error("Fatal:",r),process.exit(1)})}var Gy=gc(require("node:process")),VL=Object.create,r_=Object.defineProperty,BL=Object.getOwnPropertyDescriptor,HL=Object.getOwnPropertyNames,JL=Object.getPrototypeOf,WL=Object.prototype.hasOwnProperty,wz=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),_n=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),uu=(e,t)=>{for(var r in t)r_(e,r,{get:t[r],enumerable:!0})},GL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of HL(t))!WL.call(e,o)&&o!==r&&r_(e,o,{get:()=>t[o],enumerable:!(n=BL(t,o))||n.enumerable});return e},Fz=(e,t,r)=>(r=e!=null?VL(JL(e)):{},GL(t||!e||!e.__esModule?r_(r,"default",{value:e,enumerable:!0}):r,e)),KL=_n((e,t)=>{"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}),Vz=_n((e,t)=>{var r=KL(),n={};for(let u of Object.keys(r))n[r[u]]=u;var o={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};t.exports=o;for(let u of Object.keys(o)){if(!("channels"in o[u]))throw new Error("missing channels property: "+u);if(!("labels"in o[u]))throw new Error("missing channel labels property: "+u);if(o[u].labels.length!==o[u].channels)throw new Error("channel and label counts mismatch: "+u);let{channels:c,labels:d}=o[u];delete o[u].channels,delete o[u].labels,Object.defineProperty(o[u],"channels",{value:c}),Object.defineProperty(o[u],"labels",{value:d})}o.rgb.hsl=function(u){let c=u[0]/255,d=u[1]/255,f=u[2]/255,m=Math.min(c,d,f),h=Math.max(c,d,f),y=h-m,v,w;h===m?v=0:c===h?v=(d-f)/y:d===h?v=2+(f-c)/y:f===h&&(v=4+(c-d)/y),v=Math.min(v*60,360),v<0&&(v+=360);let $=(m+h)/2;return h===m?w=0:$<=.5?w=y/(h+m):w=y/(2-h-m),[v,w*100,$*100]},o.rgb.hsv=function(u){let c,d,f,m,h,y=u[0]/255,v=u[1]/255,w=u[2]/255,$=Math.max(y,v,w),z=$-Math.min(y,v,w),I=function(A){return($-A)/6/z+1/2};return z===0?(m=0,h=0):(h=z/$,c=I(y),d=I(v),f=I(w),y===$?m=f-d:v===$?m=1/3+c-f:w===$&&(m=2/3+d-c),m<0?m+=1:m>1&&(m-=1)),[m*360,h*100,$*100]},o.rgb.hwb=function(u){let c=u[0],d=u[1],f=u[2],m=o.rgb.hsl(u)[0],h=1/255*Math.min(c,Math.min(d,f));return f=1-1/255*Math.max(c,Math.max(d,f)),[m,h*100,f*100]},o.rgb.cmyk=function(u){let c=u[0]/255,d=u[1]/255,f=u[2]/255,m=Math.min(1-c,1-d,1-f),h=(1-c-m)/(1-m)||0,y=(1-d-m)/(1-m)||0,v=(1-f-m)/(1-m)||0;return[h*100,y*100,v*100,m*100]};function a(u,c){return(u[0]-c[0])**2+(u[1]-c[1])**2+(u[2]-c[2])**2}o.rgb.keyword=function(u){let c=n[u];if(c)return c;let d=1/0,f;for(let m of Object.keys(r)){let h=r[m],y=a(u,h);y<d&&(d=y,f=m)}return f},o.keyword.rgb=function(u){return r[u]},o.rgb.xyz=function(u){let c=u[0]/255,d=u[1]/255,f=u[2]/255;c=c>.04045?((c+.055)/1.055)**2.4:c/12.92,d=d>.04045?((d+.055)/1.055)**2.4:d/12.92,f=f>.04045?((f+.055)/1.055)**2.4:f/12.92;let m=c*.4124+d*.3576+f*.1805,h=c*.2126+d*.7152+f*.0722,y=c*.0193+d*.1192+f*.9505;return[m*100,h*100,y*100]},o.rgb.lab=function(u){let c=o.rgb.xyz(u),d=c[0],f=c[1],m=c[2];d/=95.047,f/=100,m/=108.883,d=d>.008856?d**(1/3):7.787*d+16/116,f=f>.008856?f**(1/3):7.787*f+16/116,m=m>.008856?m**(1/3):7.787*m+16/116;let h=116*f-16,y=500*(d-f),v=200*(f-m);return[h,y,v]},o.hsl.rgb=function(u){let c=u[0]/360,d=u[1]/100,f=u[2]/100,m,h,y;if(d===0)return y=f*255,[y,y,y];f<.5?m=f*(1+d):m=f+d-f*d;let v=2*f-m,w=[0,0,0];for(let $=0;$<3;$++)h=c+1/3*-($-1),h<0&&h++,h>1&&h--,6*h<1?y=v+(m-v)*6*h:2*h<1?y=m:3*h<2?y=v+(m-v)*(2/3-h)*6:y=v,w[$]=y*255;return w},o.hsl.hsv=function(u){let c=u[0],d=u[1]/100,f=u[2]/100,m=d,h=Math.max(f,.01);f*=2,d*=f<=1?f:2-f,m*=h<=1?h:2-h;let y=(f+d)/2,v=f===0?2*m/(h+m):2*d/(f+d);return[c,v*100,y*100]},o.hsv.rgb=function(u){let c=u[0]/60,d=u[1]/100,f=u[2]/100,m=Math.floor(c)%6,h=c-Math.floor(c),y=255*f*(1-d),v=255*f*(1-d*h),w=255*f*(1-d*(1-h));switch(f*=255,m){case 0:return[f,w,y];case 1:return[v,f,y];case 2:return[y,f,w];case 3:return[y,v,f];case 4:return[w,y,f];case 5:return[f,y,v]}},o.hsv.hsl=function(u){let c=u[0],d=u[1]/100,f=u[2]/100,m=Math.max(f,.01),h,y;y=(2-d)*f;let v=(2-d)*m;return h=d*m,h/=v<=1?v:2-v,h=h||0,y/=2,[c,h*100,y*100]},o.hwb.rgb=function(u){let c=u[0]/360,d=u[1]/100,f=u[2]/100,m=d+f,h;m>1&&(d/=m,f/=m);let y=Math.floor(6*c),v=1-f;h=6*c-y,(y&1)!==0&&(h=1-h);let w=d+h*(v-d),$,z,I;switch(y){default:case 6:case 0:$=v,z=w,I=d;break;case 1:$=w,z=v,I=d;break;case 2:$=d,z=v,I=w;break;case 3:$=d,z=w,I=v;break;case 4:$=w,z=d,I=v;break;case 5:$=v,z=d,I=w;break}return[$*255,z*255,I*255]},o.cmyk.rgb=function(u){let c=u[0]/100,d=u[1]/100,f=u[2]/100,m=u[3]/100,h=1-Math.min(1,c*(1-m)+m),y=1-Math.min(1,d*(1-m)+m),v=1-Math.min(1,f*(1-m)+m);return[h*255,y*255,v*255]},o.xyz.rgb=function(u){let c=u[0]/100,d=u[1]/100,f=u[2]/100,m,h,y;return m=c*3.2406+d*-1.5372+f*-.4986,h=c*-.9689+d*1.8758+f*.0415,y=c*.0557+d*-.204+f*1.057,m=m>.0031308?1.055*m**(1/2.4)-.055:m*12.92,h=h>.0031308?1.055*h**(1/2.4)-.055:h*12.92,y=y>.0031308?1.055*y**(1/2.4)-.055:y*12.92,m=Math.min(Math.max(0,m),1),h=Math.min(Math.max(0,h),1),y=Math.min(Math.max(0,y),1),[m*255,h*255,y*255]},o.xyz.lab=function(u){let c=u[0],d=u[1],f=u[2];c/=95.047,d/=100,f/=108.883,c=c>.008856?c**(1/3):7.787*c+16/116,d=d>.008856?d**(1/3):7.787*d+16/116,f=f>.008856?f**(1/3):7.787*f+16/116;let m=116*d-16,h=500*(c-d),y=200*(d-f);return[m,h,y]},o.lab.xyz=function(u){let c=u[0],d=u[1],f=u[2],m,h,y;h=(c+16)/116,m=d/500+h,y=h-f/200;let v=h**3,w=m**3,$=y**3;return h=v>.008856?v:(h-16/116)/7.787,m=w>.008856?w:(m-16/116)/7.787,y=$>.008856?$:(y-16/116)/7.787,m*=95.047,h*=100,y*=108.883,[m,h,y]},o.lab.lch=function(u){let c=u[0],d=u[1],f=u[2],m;m=Math.atan2(f,d)*360/2/Math.PI,m<0&&(m+=360);let h=Math.sqrt(d*d+f*f);return[c,h,m]},o.lch.lab=function(u){let c=u[0],d=u[1],f=u[2]/360*2*Math.PI,m=d*Math.cos(f),h=d*Math.sin(f);return[c,m,h]},o.rgb.ansi16=function(u,c=null){let[d,f,m]=u,h=c===null?o.rgb.hsv(u)[2]:c;if(h=Math.round(h/50),h===0)return 30;let y=30+(Math.round(m/255)<<2|Math.round(f/255)<<1|Math.round(d/255));return h===2&&(y+=60),y},o.hsv.ansi16=function(u){return o.rgb.ansi16(o.hsv.rgb(u),u[2])},o.rgb.ansi256=function(u){let c=u[0],d=u[1],f=u[2];return c===d&&d===f?c<8?16:c>248?231:Math.round((c-8)/247*24)+232:16+36*Math.round(c/255*5)+6*Math.round(d/255*5)+Math.round(f/255*5)},o.ansi16.rgb=function(u){let c=u%10;if(c===0||c===7)return u>50&&(c+=3.5),c=c/10.5*255,[c,c,c];let d=(~~(u>50)+1)*.5,f=(c&1)*d*255,m=(c>>1&1)*d*255,h=(c>>2&1)*d*255;return[f,m,h]},o.ansi256.rgb=function(u){if(u>=232){let h=(u-232)*10+8;return[h,h,h]}u-=16;let c,d=Math.floor(u/36)/5*255,f=Math.floor((c=u%36)/6)/5*255,m=c%6/5*255;return[d,f,m]},o.rgb.hex=function(u){let c=(((Math.round(u[0])&255)<<16)+((Math.round(u[1])&255)<<8)+(Math.round(u[2])&255)).toString(16).toUpperCase();return"000000".substring(c.length)+c},o.hex.rgb=function(u){let c=u.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!c)return[0,0,0];let d=c[0];c[0].length===3&&(d=d.split("").map(v=>v+v).join(""));let f=parseInt(d,16),m=f>>16&255,h=f>>8&255,y=f&255;return[m,h,y]},o.rgb.hcg=function(u){let c=u[0]/255,d=u[1]/255,f=u[2]/255,m=Math.max(Math.max(c,d),f),h=Math.min(Math.min(c,d),f),y=m-h,v,w;return y<1?v=h/(1-y):v=0,y<=0?w=0:m===c?w=(d-f)/y%6:m===d?w=2+(f-c)/y:w=4+(c-d)/y,w/=6,w%=1,[w*360,y*100,v*100]},o.hsl.hcg=function(u){let c=u[1]/100,d=u[2]/100,f=d<.5?2*c*d:2*c*(1-d),m=0;return f<1&&(m=(d-.5*f)/(1-f)),[u[0],f*100,m*100]},o.hsv.hcg=function(u){let c=u[1]/100,d=u[2]/100,f=c*d,m=0;return f<1&&(m=(d-f)/(1-f)),[u[0],f*100,m*100]},o.hcg.rgb=function(u){let c=u[0]/360,d=u[1]/100,f=u[2]/100;if(d===0)return[f*255,f*255,f*255];let m=[0,0,0],h=c%1*6,y=h%1,v=1-y,w=0;switch(Math.floor(h)){case 0:m[0]=1,m[1]=y,m[2]=0;break;case 1:m[0]=v,m[1]=1,m[2]=0;break;case 2:m[0]=0,m[1]=1,m[2]=y;break;case 3:m[0]=0,m[1]=v,m[2]=1;break;case 4:m[0]=y,m[1]=0,m[2]=1;break;default:m[0]=1,m[1]=0,m[2]=v}return w=(1-d)*f,[(d*m[0]+w)*255,(d*m[1]+w)*255,(d*m[2]+w)*255]},o.hcg.hsv=function(u){let c=u[1]/100,d=u[2]/100,f=c+d*(1-c),m=0;return f>0&&(m=c/f),[u[0],m*100,f*100]},o.hcg.hsl=function(u){let c=u[1]/100,d=u[2]/100*(1-c)+.5*c,f=0;return d>0&&d<.5?f=c/(2*d):d>=.5&&d<1&&(f=c/(2*(1-d))),[u[0],f*100,d*100]},o.hcg.hwb=function(u){let c=u[1]/100,d=u[2]/100,f=c+d*(1-c);return[u[0],(f-c)*100,(1-f)*100]},o.hwb.hcg=function(u){let c=u[1]/100,d=1-u[2]/100,f=d-c,m=0;return f<1&&(m=(d-f)/(1-f)),[u[0],f*100,m*100]},o.apple.rgb=function(u){return[u[0]/65535*255,u[1]/65535*255,u[2]/65535*255]},o.rgb.apple=function(u){return[u[0]/255*65535,u[1]/255*65535,u[2]/255*65535]},o.gray.rgb=function(u){return[u[0]/100*255,u[0]/100*255,u[0]/100*255]},o.gray.hsl=function(u){return[0,0,u[0]]},o.gray.hsv=o.gray.hsl,o.gray.hwb=function(u){return[0,100,u[0]]},o.gray.cmyk=function(u){return[0,0,0,u[0]]},o.gray.lab=function(u){return[u[0],0,0]},o.gray.hex=function(u){let c=Math.round(u[0]/100*255)&255,d=((c<<16)+(c<<8)+c).toString(16).toUpperCase();return"000000".substring(d.length)+d},o.rgb.gray=function(u){return[(u[0]+u[1]+u[2])/3/255*100]}}),YL=_n((e,t)=>{var r=Vz();function n(){let c={},d=Object.keys(r);for(let f=d.length,m=0;m<f;m++)c[d[m]]={distance:-1,parent:null};return c}function o(c){let d=n(),f=[c];for(d[c].distance=0;f.length;){let m=f.pop(),h=Object.keys(r[m]);for(let y=h.length,v=0;v<y;v++){let w=h[v],$=d[w];$.distance===-1&&($.distance=d[m].distance+1,$.parent=m,f.unshift(w))}}return d}function a(c,d){return function(f){return d(c(f))}}function u(c,d){let f=[d[c].parent,c],m=r[d[c].parent][c],h=d[c].parent;for(;d[h].parent;)f.unshift(d[h].parent),m=a(r[d[h].parent][h],m),h=d[h].parent;return m.conversion=f,m}t.exports=function(c){let d=o(c),f={},m=Object.keys(d);for(let h=m.length,y=0;y<h;y++){let v=m[y];d[v].parent!==null&&(f[v]=u(v,d))}return f}}),XL=_n((e,t)=>{var r=Vz(),n=YL(),o={},a=Object.keys(r);function u(d){let f=function(...m){let h=m[0];return h==null?h:(h.length>1&&(m=h),d(m))};return"conversion"in d&&(f.conversion=d.conversion),f}function c(d){let f=function(...m){let h=m[0];if(h==null)return h;h.length>1&&(m=h);let y=d(m);if(typeof y=="object")for(let v=y.length,w=0;w<v;w++)y[w]=Math.round(y[w]);return y};return"conversion"in d&&(f.conversion=d.conversion),f}a.forEach(d=>{o[d]={},Object.defineProperty(o[d],"channels",{value:r[d].channels}),Object.defineProperty(o[d],"labels",{value:r[d].labels});let f=n(d);Object.keys(f).forEach(m=>{let h=f[m];o[d][m]=c(h),o[d][m].raw=u(h)})}),t.exports=o}),QL=_n((e,t)=>{"use strict";var r=(h,y)=>(...v)=>`\x1B[${h(...v)+y}m`,n=(h,y)=>(...v)=>{let w=h(...v);return`\x1B[${38+y};5;${w}m`},o=(h,y)=>(...v)=>{let w=h(...v);return`\x1B[${38+y};2;${w[0]};${w[1]};${w[2]}m`},a=h=>h,u=(h,y,v)=>[h,y,v],c=(h,y,v)=>{Object.defineProperty(h,y,{get:()=>{let w=v();return Object.defineProperty(h,y,{value:w,enumerable:!0,configurable:!0}),w},enumerable:!0,configurable:!0})},d,f=(h,y,v,w)=>{d===void 0&&(d=XL());let $=w?10:0,z={};for(let[I,A]of Object.entries(d)){let j=I==="ansi16"?"ansi":I;I===y?z[j]=h(v,$):typeof A=="object"&&(z[j]=h(A[y],$))}return z};function m(){let h=new Map,y={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};y.color.gray=y.color.blackBright,y.bgColor.bgGray=y.bgColor.bgBlackBright,y.color.grey=y.color.blackBright,y.bgColor.bgGrey=y.bgColor.bgBlackBright;for(let[v,w]of Object.entries(y)){for(let[$,z]of Object.entries(w))y[$]={open:`\x1B[${z[0]}m`,close:`\x1B[${z[1]}m`},w[$]=y[$],h.set(z[0],z[1]);Object.defineProperty(y,v,{value:w,enumerable:!1})}return Object.defineProperty(y,"codes",{value:h,enumerable:!1}),y.color.close="\x1B[39m",y.bgColor.close="\x1B[49m",c(y.color,"ansi",()=>f(r,"ansi16",a,!1)),c(y.color,"ansi256",()=>f(n,"ansi256",a,!1)),c(y.color,"ansi16m",()=>f(o,"rgb",u,!1)),c(y.bgColor,"ansi",()=>f(r,"ansi16",a,!0)),c(y.bgColor,"ansi256",()=>f(n,"ansi256",a,!0)),c(y.bgColor,"ansi16m",()=>f(o,"rgb",u,!0)),y}Object.defineProperty(t,"exports",{enumerable:!0,get:m})}),eU=_n((e,t)=>{"use strict";t.exports=(r,n=process.argv)=>{let o=r.startsWith("-")?"":r.length===1?"-":"--",a=n.indexOf(o+r),u=n.indexOf("--");return a!==-1&&(u===-1||a<u)}}),tU=_n((e,t)=>{"use strict";var r=wz("os"),n=wz("tty"),o=eU(),{env:a}=process,u;o("no-color")||o("no-colors")||o("color=false")||o("color=never")?u=0:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(u=1),"FORCE_COLOR"in a&&(a.FORCE_COLOR==="true"?u=1:a.FORCE_COLOR==="false"?u=0:u=a.FORCE_COLOR.length===0?1:Math.min(parseInt(a.FORCE_COLOR,10),3));function c(m){return m===0?!1:{level:m,hasBasic:!0,has256:m>=2,has16m:m>=3}}function d(m,h){if(u===0)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(m&&!h&&u===void 0)return 0;let y=u||0;if(a.TERM==="dumb")return y;if(process.platform==="win32"){let v=r.release().split(".");return Number(v[0])>=10&&Number(v[2])>=10586?Number(v[2])>=14931?3:2:1}if("CI"in a)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(v=>v in a)||a.CI_NAME==="codeship"?1:y;if("TEAMCITY_VERSION"in a)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(a.TEAMCITY_VERSION)?1:0;if(a.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in a){let v=parseInt((a.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(a.TERM_PROGRAM){case"iTerm.app":return v>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(a.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(a.TERM)||"COLORTERM"in a?1:y}function f(m){let h=d(m,m&&m.isTTY);return c(h)}t.exports={supportsColor:f,stdout:c(d(!0,n.isatty(1))),stderr:c(d(!0,n.isatty(2)))}}),rU=_n((e,t)=>{"use strict";var r=(o,a,u)=>{let c=o.indexOf(a);if(c===-1)return o;let d=a.length,f=0,m="";do m+=o.substr(f,c-f)+a+u,f=c+d,c=o.indexOf(a,f);while(c!==-1);return m+=o.substr(f),m},n=(o,a,u,c)=>{let d=0,f="";do{let m=o[c-1]==="\r";f+=o.substr(d,(m?c-1:c)-d)+a+(m?`\r
`:`
`)+u,d=c+1,c=o.indexOf(`
`,d)}while(c!==-1);return f+=o.substr(d),f};t.exports={stringReplaceAll:r,stringEncaseCRLFWithFirstIndex:n}}),nU=_n((e,t)=>{"use strict";var r=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,n=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,o=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,a=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,u=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function c(h){let y=h[0]==="u",v=h[1]==="{";return y&&!v&&h.length===5||h[0]==="x"&&h.length===3?String.fromCharCode(parseInt(h.slice(1),16)):y&&v?String.fromCodePoint(parseInt(h.slice(2,-1),16)):u.get(h)||h}function d(h,y){let v=[],w=y.trim().split(/\s*,\s*/g),$;for(let z of w){let I=Number(z);if(!Number.isNaN(I))v.push(I);else if($=z.match(o))v.push($[2].replace(a,(A,j,U)=>j?c(j):U));else throw new Error(`Invalid Chalk template style argument: ${z} (in style '${h}')`)}return v}function f(h){n.lastIndex=0;let y=[],v;for(;(v=n.exec(h))!==null;){let w=v[1];if(v[2]){let $=d(w,v[2]);y.push([w].concat($))}else y.push([w])}return y}function m(h,y){let v={};for(let $ of y)for(let z of $.styles)v[z[0]]=$.inverse?null:z.slice(1);let w=h;for(let[$,z]of Object.entries(v))if(Array.isArray(z)){if(!($ in w))throw new Error(`Unknown Chalk style: ${$}`);w=z.length>0?w[$](...z):w[$]}return w}t.exports=(h,y)=>{let v=[],w=[],$=[];if(y.replace(r,(z,I,A,j,U,G)=>{if(I)$.push(c(I));else if(j){let te=$.join("");$=[],w.push(v.length===0?te:m(h,v)(te)),v.push({inverse:A,styles:f(j)})}else if(U){if(v.length===0)throw new Error("Found extraneous } in Chalk template literal");w.push(m(h,v)($.join(""))),$=[],v.pop()}else $.push(G)}),w.push($.join("")),v.length>0){let z=`Chalk template literal is missing ${v.length} closing bracket${v.length===1?"":"s"} (\`}\`)`;throw new Error(z)}return w.join("")}}),oU=_n((e,t)=>{"use strict";var r=QL(),{stdout:n,stderr:o}=tU(),{stringReplaceAll:a,stringEncaseCRLFWithFirstIndex:u}=rU(),{isArray:c}=Array,d=["ansi","ansi","ansi256","ansi16m"],f=Object.create(null),m=(te,X={})=>{if(X.level&&!(Number.isInteger(X.level)&&X.level>=0&&X.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let he=n?n.level:0;te.level=X.level===void 0?he:X.level},h=class{constructor(te){return y(te)}},y=te=>{let X={};return m(X,te),X.template=(...he)=>U(X.template,...he),Object.setPrototypeOf(X,v.prototype),Object.setPrototypeOf(X.template,X),X.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},X.template.Instance=h,X.template};function v(te){return y(te)}for(let[te,X]of Object.entries(r))f[te]={get(){let he=I(this,z(X.open,X.close,this._styler),this._isEmpty);return Object.defineProperty(this,te,{value:he}),he}};f.visible={get(){let te=I(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:te}),te}};var w=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(let te of w)f[te]={get(){let{level:X}=this;return function(...he){let Je=z(r.color[d[X]][te](...he),r.color.close,this._styler);return I(this,Je,this._isEmpty)}}};for(let te of w){let X="bg"+te[0].toUpperCase()+te.slice(1);f[X]={get(){let{level:he}=this;return function(...Je){let tt=z(r.bgColor[d[he]][te](...Je),r.bgColor.close,this._styler);return I(this,tt,this._isEmpty)}}}}var $=Object.defineProperties(()=>{},{...f,level:{enumerable:!0,get(){return this._generator.level},set(te){this._generator.level=te}}}),z=(te,X,he)=>{let Je,tt;return he===void 0?(Je=te,tt=X):(Je=he.openAll+te,tt=X+he.closeAll),{open:te,close:X,openAll:Je,closeAll:tt,parent:he}},I=(te,X,he)=>{let Je=(...tt)=>c(tt[0])&&c(tt[0].raw)?A(Je,U(Je,...tt)):A(Je,tt.length===1?""+tt[0]:tt.join(" "));return Object.setPrototypeOf(Je,$),Je._generator=te,Je._styler=X,Je._isEmpty=he,Je},A=(te,X)=>{if(te.level<=0||!X)return te._isEmpty?"":X;let he=te._styler;if(he===void 0)return X;let{openAll:Je,closeAll:tt}=he;if(X.indexOf("\x1B")!==-1)for(;he!==void 0;)X=a(X,he.close,he.open),he=he.parent;let wr=X.indexOf(`
`);return wr!==-1&&(X=u(X,tt,Je,wr)),Je+X+tt},j,U=(te,...X)=>{let[he]=X;if(!c(he)||!c(he.raw))return X.join(" ");let Je=X.slice(1),tt=[he.raw[0]];for(let wr=1;wr<he.length;wr++)tt.push(String(Je[wr-1]).replace(/[{}\\]/g,"\\$&"),String(he.raw[wr]));return j===void 0&&(j=nU()),j(te,tt.join(""))};Object.defineProperties(v.prototype,f);var G=v();G.supportsColor=n,G.stderr=v({level:o?o.level:0}),G.stderr.supportsColor=o,t.exports=G}),iU=_n((e,t)=>{(function(){var r,n="4.17.21",o=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",f=500,m="__lodash_placeholder__",h=1,y=2,v=4,w=1,$=2,z=1,I=2,A=4,j=8,U=16,G=32,te=64,X=128,he=256,Je=512,tt=30,wr="...",vu=800,bu=16,wu=1,GP=2,KP=3,Mo=1/0,io=9007199254740991,YP=17976931348623157e292,xu=NaN,vn=4294967295,XP=vn-1,QP=vn>>>1,eE=[["ary",X],["bind",z],["bindKey",I],["curry",j],["curryRight",U],["flip",Je],["partial",G],["partialRight",te],["rearg",he]],Ri="[object Arguments]",$u="[object Array]",tE="[object AsyncFunction]",Za="[object Boolean]",ja="[object Date]",rE="[object DOMException]",ku="[object Error]",zu="[object Function]",Y_="[object GeneratorFunction]",en="[object Map]",Na="[object Number]",nE="[object Null]",Nn="[object Object]",X_="[object Promise]",oE="[object Proxy]",Aa="[object RegExp]",tn="[object Set]",Ca="[object String]",Su="[object Symbol]",iE="[object Undefined]",Ma="[object WeakMap]",aE="[object WeakSet]",Da="[object ArrayBuffer]",Oi="[object DataView]",Hd="[object Float32Array]",Jd="[object Float64Array]",Wd="[object Int8Array]",Gd="[object Int16Array]",Kd="[object Int32Array]",Yd="[object Uint8Array]",Xd="[object Uint8ClampedArray]",Qd="[object Uint16Array]",ef="[object Uint32Array]",sE=/\b__p \+= '';/g,uE=/\b(__p \+=) '' \+/g,cE=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Q_=/&(?:amp|lt|gt|quot|#39);/g,ev=/[&<>"']/g,lE=RegExp(Q_.source),dE=RegExp(ev.source),fE=/<%-([\s\S]+?)%>/g,pE=/<%([\s\S]+?)%>/g,tv=/<%=([\s\S]+?)%>/g,mE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hE=/^\w*$/,gE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tf=/[\\^$.*+?()[\]{}|]/g,yE=RegExp(tf.source),rf=/^\s+/,_E=/\s/,vE=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,bE=/\{\n\/\* \[wrapped with (.+)\] \*/,wE=/,? & /,xE=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,$E=/[()=,{}\[\]\/\s]/,kE=/\\(\\)?/g,zE=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rv=/\w*$/,SE=/^[-+]0x[0-9a-f]+$/i,TE=/^0b[01]+$/i,PE=/^\[object .+?Constructor\]$/,EE=/^0o[0-7]+$/i,IE=/^(?:0|[1-9]\d*)$/,RE=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Tu=/($^)/,OE=/['\n\r\u2028\u2029\\]/g,Pu="\\ud800-\\udfff",ZE="\\u0300-\\u036f",jE="\\ufe20-\\ufe2f",NE="\\u20d0-\\u20ff",nv=ZE+jE+NE,ov="\\u2700-\\u27bf",iv="a-z\\xdf-\\xf6\\xf8-\\xff",AE="\\xac\\xb1\\xd7\\xf7",CE="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ME="\\u2000-\\u206f",DE=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",av="A-Z\\xc0-\\xd6\\xd8-\\xde",sv="\\ufe0e\\ufe0f",uv=AE+CE+ME+DE,nf="['\u2019]",qE="["+Pu+"]",cv="["+uv+"]",Eu="["+nv+"]",lv="\\d+",LE="["+ov+"]",dv="["+iv+"]",fv="[^"+Pu+uv+lv+ov+iv+av+"]",of="\\ud83c[\\udffb-\\udfff]",UE="(?:"+Eu+"|"+of+")",pv="[^"+Pu+"]",af="(?:\\ud83c[\\udde6-\\uddff]){2}",sf="[\\ud800-\\udbff][\\udc00-\\udfff]",Zi="["+av+"]",mv="\\u200d",hv="(?:"+dv+"|"+fv+")",FE="(?:"+Zi+"|"+fv+")",gv="(?:"+nf+"(?:d|ll|m|re|s|t|ve))?",yv="(?:"+nf+"(?:D|LL|M|RE|S|T|VE))?",_v=UE+"?",vv="["+sv+"]?",VE="(?:"+mv+"(?:"+[pv,af,sf].join("|")+")"+vv+_v+")*",BE="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",HE="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",bv=vv+_v+VE,JE="(?:"+[LE,af,sf].join("|")+")"+bv,WE="(?:"+[pv+Eu+"?",Eu,af,sf,qE].join("|")+")",GE=RegExp(nf,"g"),KE=RegExp(Eu,"g"),uf=RegExp(of+"(?="+of+")|"+WE+bv,"g"),YE=RegExp([Zi+"?"+dv+"+"+gv+"(?="+[cv,Zi,"$"].join("|")+")",FE+"+"+yv+"(?="+[cv,Zi+hv,"$"].join("|")+")",Zi+"?"+hv+"+"+gv,Zi+"+"+yv,HE,BE,lv,JE].join("|"),"g"),XE=RegExp("["+mv+Pu+nv+sv+"]"),QE=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,eI=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],tI=-1,ct={};ct[Hd]=ct[Jd]=ct[Wd]=ct[Gd]=ct[Kd]=ct[Yd]=ct[Xd]=ct[Qd]=ct[ef]=!0,ct[Ri]=ct[$u]=ct[Da]=ct[Za]=ct[Oi]=ct[ja]=ct[ku]=ct[zu]=ct[en]=ct[Na]=ct[Nn]=ct[Aa]=ct[tn]=ct[Ca]=ct[Ma]=!1;var rt={};rt[Ri]=rt[$u]=rt[Da]=rt[Oi]=rt[Za]=rt[ja]=rt[Hd]=rt[Jd]=rt[Wd]=rt[Gd]=rt[Kd]=rt[en]=rt[Na]=rt[Nn]=rt[Aa]=rt[tn]=rt[Ca]=rt[Su]=rt[Yd]=rt[Xd]=rt[Qd]=rt[ef]=!0,rt[ku]=rt[zu]=rt[Ma]=!1;var rI={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},nI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},oI={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},iI={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},aI=parseFloat,sI=parseInt,wv=typeof global=="object"&&global&&global.Object===Object&&global,uI=typeof self=="object"&&self&&self.Object===Object&&self,Zt=wv||uI||Function("return this")(),cf=typeof e=="object"&&e&&!e.nodeType&&e,Do=cf&&typeof t=="object"&&t&&!t.nodeType&&t,xv=Do&&Do.exports===cf,lf=xv&&wv.process,Or=(function(){try{var S=Do&&Do.require&&Do.require("util").types;return S||lf&&lf.binding&&lf.binding("util")}catch{}})(),$v=Or&&Or.isArrayBuffer,kv=Or&&Or.isDate,zv=Or&&Or.isMap,Sv=Or&&Or.isRegExp,Tv=Or&&Or.isSet,Pv=Or&&Or.isTypedArray;function xr(S,N,E){switch(E.length){case 0:return S.call(N);case 1:return S.call(N,E[0]);case 2:return S.call(N,E[0],E[1]);case 3:return S.call(N,E[0],E[1],E[2])}return S.apply(N,E)}function cI(S,N,E,Q){for(var ge=-1,Ve=S==null?0:S.length;++ge<Ve;){var Et=S[ge];N(Q,Et,E(Et),S)}return Q}function Zr(S,N){for(var E=-1,Q=S==null?0:S.length;++E<Q&&N(S[E],E,S)!==!1;);return S}function lI(S,N){for(var E=S==null?0:S.length;E--&&N(S[E],E,S)!==!1;);return S}function Ev(S,N){for(var E=-1,Q=S==null?0:S.length;++E<Q;)if(!N(S[E],E,S))return!1;return!0}function ao(S,N){for(var E=-1,Q=S==null?0:S.length,ge=0,Ve=[];++E<Q;){var Et=S[E];N(Et,E,S)&&(Ve[ge++]=Et)}return Ve}function Iu(S,N){var E=S==null?0:S.length;return!!E&&ji(S,N,0)>-1}function df(S,N,E){for(var Q=-1,ge=S==null?0:S.length;++Q<ge;)if(E(N,S[Q]))return!0;return!1}function pt(S,N){for(var E=-1,Q=S==null?0:S.length,ge=Array(Q);++E<Q;)ge[E]=N(S[E],E,S);return ge}function so(S,N){for(var E=-1,Q=N.length,ge=S.length;++E<Q;)S[ge+E]=N[E];return S}function ff(S,N,E,Q){var ge=-1,Ve=S==null?0:S.length;for(Q&&Ve&&(E=S[++ge]);++ge<Ve;)E=N(E,S[ge],ge,S);return E}function dI(S,N,E,Q){var ge=S==null?0:S.length;for(Q&&ge&&(E=S[--ge]);ge--;)E=N(E,S[ge],ge,S);return E}function pf(S,N){for(var E=-1,Q=S==null?0:S.length;++E<Q;)if(N(S[E],E,S))return!0;return!1}var fI=mf("length");function pI(S){return S.split("")}function mI(S){return S.match(xE)||[]}function Iv(S,N,E){var Q;return E(S,function(ge,Ve,Et){if(N(ge,Ve,Et))return Q=Ve,!1}),Q}function Ru(S,N,E,Q){for(var ge=S.length,Ve=E+(Q?1:-1);Q?Ve--:++Ve<ge;)if(N(S[Ve],Ve,S))return Ve;return-1}function ji(S,N,E){return N===N?SI(S,N,E):Ru(S,Rv,E)}function hI(S,N,E,Q){for(var ge=E-1,Ve=S.length;++ge<Ve;)if(Q(S[ge],N))return ge;return-1}function Rv(S){return S!==S}function Ov(S,N){var E=S==null?0:S.length;return E?gf(S,N)/E:xu}function mf(S){return function(N){return N==null?r:N[S]}}function hf(S){return function(N){return S==null?r:S[N]}}function Zv(S,N,E,Q,ge){return ge(S,function(Ve,Et,Xe){E=Q?(Q=!1,Ve):N(E,Ve,Et,Xe)}),E}function gI(S,N){var E=S.length;for(S.sort(N);E--;)S[E]=S[E].value;return S}function gf(S,N){for(var E,Q=-1,ge=S.length;++Q<ge;){var Ve=N(S[Q]);Ve!==r&&(E=E===r?Ve:E+Ve)}return E}function yf(S,N){for(var E=-1,Q=Array(S);++E<S;)Q[E]=N(E);return Q}function yI(S,N){return pt(N,function(E){return[E,S[E]]})}function jv(S){return S&&S.slice(0,Mv(S)+1).replace(rf,"")}function $r(S){return function(N){return S(N)}}function _f(S,N){return pt(N,function(E){return S[E]})}function qa(S,N){return S.has(N)}function Nv(S,N){for(var E=-1,Q=S.length;++E<Q&&ji(N,S[E],0)>-1;);return E}function Av(S,N){for(var E=S.length;E--&&ji(N,S[E],0)>-1;);return E}function _I(S,N){for(var E=S.length,Q=0;E--;)S[E]===N&&++Q;return Q}var vI=hf(rI),bI=hf(nI);function wI(S){return"\\"+iI[S]}function xI(S,N){return S==null?r:S[N]}function Ni(S){return XE.test(S)}function $I(S){return QE.test(S)}function kI(S){for(var N,E=[];!(N=S.next()).done;)E.push(N.value);return E}function vf(S){var N=-1,E=Array(S.size);return S.forEach(function(Q,ge){E[++N]=[ge,Q]}),E}function Cv(S,N){return function(E){return S(N(E))}}function uo(S,N){for(var E=-1,Q=S.length,ge=0,Ve=[];++E<Q;){var Et=S[E];(Et===N||Et===m)&&(S[E]=m,Ve[ge++]=E)}return Ve}function Ou(S){var N=-1,E=Array(S.size);return S.forEach(function(Q){E[++N]=Q}),E}function zI(S){var N=-1,E=Array(S.size);return S.forEach(function(Q){E[++N]=[Q,Q]}),E}function SI(S,N,E){for(var Q=E-1,ge=S.length;++Q<ge;)if(S[Q]===N)return Q;return-1}function TI(S,N,E){for(var Q=E+1;Q--;)if(S[Q]===N)return Q;return Q}function Ai(S){return Ni(S)?EI(S):fI(S)}function rn(S){return Ni(S)?II(S):pI(S)}function Mv(S){for(var N=S.length;N--&&_E.test(S.charAt(N)););return N}var PI=hf(oI);function EI(S){for(var N=uf.lastIndex=0;uf.test(S);)++N;return N}function II(S){return S.match(uf)||[]}function RI(S){return S.match(YE)||[]}var OI=(function S(N){N=N==null?Zt:co.defaults(Zt.Object(),N,co.pick(Zt,eI));var E=N.Array,Q=N.Date,ge=N.Error,Ve=N.Function,Et=N.Math,Xe=N.Object,bf=N.RegExp,ZI=N.String,jr=N.TypeError,Zu=E.prototype,jI=Ve.prototype,Ci=Xe.prototype,ju=N["__core-js_shared__"],Nu=jI.toString,We=Ci.hasOwnProperty,NI=0,Dv=(function(){var i=/[^.]+$/.exec(ju&&ju.keys&&ju.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""})(),Au=Ci.toString,AI=Nu.call(Xe),CI=Zt._,MI=bf("^"+Nu.call(We).replace(tf,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Cu=xv?N.Buffer:r,lo=N.Symbol,Mu=N.Uint8Array,qv=Cu?Cu.allocUnsafe:r,Du=Cv(Xe.getPrototypeOf,Xe),Lv=Xe.create,Uv=Ci.propertyIsEnumerable,qu=Zu.splice,Fv=lo?lo.isConcatSpreadable:r,La=lo?lo.iterator:r,qo=lo?lo.toStringTag:r,Lu=(function(){try{var i=Bo(Xe,"defineProperty");return i({},"",{}),i}catch{}})(),DI=N.clearTimeout!==Zt.clearTimeout&&N.clearTimeout,qI=Q&&Q.now!==Zt.Date.now&&Q.now,LI=N.setTimeout!==Zt.setTimeout&&N.setTimeout,Uu=Et.ceil,Fu=Et.floor,wf=Xe.getOwnPropertySymbols,UI=Cu?Cu.isBuffer:r,Vv=N.isFinite,FI=Zu.join,VI=Cv(Xe.keys,Xe),It=Et.max,Jt=Et.min,BI=Q.now,HI=N.parseInt,Bv=Et.random,JI=Zu.reverse,xf=Bo(N,"DataView"),Ua=Bo(N,"Map"),$f=Bo(N,"Promise"),Mi=Bo(N,"Set"),Fa=Bo(N,"WeakMap"),Va=Bo(Xe,"create"),Vu=Fa&&new Fa,Di={},WI=Ho(xf),GI=Ho(Ua),KI=Ho($f),YI=Ho(Mi),XI=Ho(Fa),Bu=lo?lo.prototype:r,Ba=Bu?Bu.valueOf:r,Hv=Bu?Bu.toString:r;function _(i){if(kt(i)&&!ye(i)&&!(i instanceof Ze)){if(i instanceof Nr)return i;if(We.call(i,"__wrapped__"))return J0(i)}return new Nr(i)}var qi=(function(){function i(){}return function(s){if(!vt(s))return{};if(Lv)return Lv(s);i.prototype=s;var l=new i;return i.prototype=r,l}})();function Hu(){}function Nr(i,s){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=r}_.templateSettings={escape:fE,evaluate:pE,interpolate:tv,variable:"",imports:{_}},_.prototype=Hu.prototype,_.prototype.constructor=_,Nr.prototype=qi(Hu.prototype),Nr.prototype.constructor=Nr;function Ze(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=vn,this.__views__=[]}function QI(){var i=new Ze(this.__wrapped__);return i.__actions__=cr(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=cr(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=cr(this.__views__),i}function e2(){if(this.__filtered__){var i=new Ze(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function t2(){var i=this.__wrapped__.value(),s=this.__dir__,l=ye(i),p=s<0,g=l?i.length:0,b=pR(0,g,this.__views__),x=b.start,k=b.end,T=k-x,C=p?k:x-1,M=this.__iteratees__,D=M.length,V=0,re=Jt(T,this.__takeCount__);if(!l||!p&&g==T&&re==T)return g0(i,this.__actions__);var de=[];e:for(;T--&&V<re;){C+=s;for(var xe=-1,fe=i[C];++xe<D;){var Ie=M[xe],Ae=Ie.iteratee,Sr=Ie.type,tr=Ae(fe);if(Sr==GP)fe=tr;else if(!tr){if(Sr==wu)continue e;break e}}de[V++]=fe}return de}Ze.prototype=qi(Hu.prototype),Ze.prototype.constructor=Ze;function Lo(i){var s=-1,l=i==null?0:i.length;for(this.clear();++s<l;){var p=i[s];this.set(p[0],p[1])}}function r2(){this.__data__=Va?Va(null):{},this.size=0}function n2(i){var s=this.has(i)&&delete this.__data__[i];return this.size-=s?1:0,s}function o2(i){var s=this.__data__;if(Va){var l=s[i];return l===d?r:l}return We.call(s,i)?s[i]:r}function i2(i){var s=this.__data__;return Va?s[i]!==r:We.call(s,i)}function a2(i,s){var l=this.__data__;return this.size+=this.has(i)?0:1,l[i]=Va&&s===r?d:s,this}Lo.prototype.clear=r2,Lo.prototype.delete=n2,Lo.prototype.get=o2,Lo.prototype.has=i2,Lo.prototype.set=a2;function An(i){var s=-1,l=i==null?0:i.length;for(this.clear();++s<l;){var p=i[s];this.set(p[0],p[1])}}function s2(){this.__data__=[],this.size=0}function u2(i){var s=this.__data__,l=Ju(s,i);if(l<0)return!1;var p=s.length-1;return l==p?s.pop():qu.call(s,l,1),--this.size,!0}function c2(i){var s=this.__data__,l=Ju(s,i);return l<0?r:s[l][1]}function l2(i){return Ju(this.__data__,i)>-1}function d2(i,s){var l=this.__data__,p=Ju(l,i);return p<0?(++this.size,l.push([i,s])):l[p][1]=s,this}An.prototype.clear=s2,An.prototype.delete=u2,An.prototype.get=c2,An.prototype.has=l2,An.prototype.set=d2;function Cn(i){var s=-1,l=i==null?0:i.length;for(this.clear();++s<l;){var p=i[s];this.set(p[0],p[1])}}function f2(){this.size=0,this.__data__={hash:new Lo,map:new(Ua||An),string:new Lo}}function p2(i){var s=ic(this,i).delete(i);return this.size-=s?1:0,s}function m2(i){return ic(this,i).get(i)}function h2(i){return ic(this,i).has(i)}function g2(i,s){var l=ic(this,i),p=l.size;return l.set(i,s),this.size+=l.size==p?0:1,this}Cn.prototype.clear=f2,Cn.prototype.delete=p2,Cn.prototype.get=m2,Cn.prototype.has=h2,Cn.prototype.set=g2;function Uo(i){var s=-1,l=i==null?0:i.length;for(this.__data__=new Cn;++s<l;)this.add(i[s])}function y2(i){return this.__data__.set(i,d),this}function _2(i){return this.__data__.has(i)}Uo.prototype.add=Uo.prototype.push=y2,Uo.prototype.has=_2;function nn(i){var s=this.__data__=new An(i);this.size=s.size}function v2(){this.__data__=new An,this.size=0}function b2(i){var s=this.__data__,l=s.delete(i);return this.size=s.size,l}function w2(i){return this.__data__.get(i)}function x2(i){return this.__data__.has(i)}function $2(i,s){var l=this.__data__;if(l instanceof An){var p=l.__data__;if(!Ua||p.length<o-1)return p.push([i,s]),this.size=++l.size,this;l=this.__data__=new Cn(p)}return l.set(i,s),this.size=l.size,this}nn.prototype.clear=v2,nn.prototype.delete=b2,nn.prototype.get=w2,nn.prototype.has=x2,nn.prototype.set=$2;function Jv(i,s){var l=ye(i),p=!l&&Jo(i),g=!l&&!p&&go(i),b=!l&&!p&&!g&&Vi(i),x=l||p||g||b,k=x?yf(i.length,ZI):[],T=k.length;for(var C in i)(s||We.call(i,C))&&!(x&&(C=="length"||g&&(C=="offset"||C=="parent")||b&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||Ln(C,T)))&&k.push(C);return k}function Wv(i){var s=i.length;return s?i[jf(0,s-1)]:r}function k2(i,s){return ac(cr(i),Fo(s,0,i.length))}function z2(i){return ac(cr(i))}function kf(i,s,l){(l!==r&&!on(i[s],l)||l===r&&!(s in i))&&Mn(i,s,l)}function Ha(i,s,l){var p=i[s];(!(We.call(i,s)&&on(p,l))||l===r&&!(s in i))&&Mn(i,s,l)}function Ju(i,s){for(var l=i.length;l--;)if(on(i[l][0],s))return l;return-1}function S2(i,s,l,p){return fo(i,function(g,b,x){s(p,g,l(g),x)}),p}function Gv(i,s){return i&&wn(s,jt(s),i)}function T2(i,s){return i&&wn(s,dr(s),i)}function Mn(i,s,l){s=="__proto__"&&Lu?Lu(i,s,{configurable:!0,enumerable:!0,value:l,writable:!0}):i[s]=l}function zf(i,s){for(var l=-1,p=s.length,g=E(p),b=i==null;++l<p;)g[l]=b?r:ip(i,s[l]);return g}function Fo(i,s,l){return i===i&&(l!==r&&(i=i<=l?i:l),s!==r&&(i=i>=s?i:s)),i}function Ar(i,s,l,p,g,b){var x,k=s&h,T=s&y,C=s&v;if(l&&(x=g?l(i,p,g,b):l(i)),x!==r)return x;if(!vt(i))return i;var M=ye(i);if(M){if(x=hR(i),!k)return cr(i,x)}else{var D=Wt(i),V=D==zu||D==Y_;if(go(i))return v0(i,k);if(D==Nn||D==Ri||V&&!g){if(x=T||V?{}:M0(i),!k)return T?oR(i,T2(x,i)):nR(i,Gv(x,i))}else{if(!rt[D])return g?i:{};x=gR(i,D,k)}}b||(b=new nn);var re=b.get(i);if(re)return re;b.set(i,x),pb(i)?i.forEach(function(fe){x.add(Ar(fe,s,l,fe,i,b))}):db(i)&&i.forEach(function(fe,Ie){x.set(Ie,Ar(fe,s,l,Ie,i,b))});var de=C?T?Bf:Vf:T?dr:jt,xe=M?r:de(i);return Zr(xe||i,function(fe,Ie){xe&&(Ie=fe,fe=i[Ie]),Ha(x,Ie,Ar(fe,s,l,Ie,i,b))}),x}function P2(i){var s=jt(i);return function(l){return Kv(l,i,s)}}function Kv(i,s,l){var p=l.length;if(i==null)return!p;for(i=Xe(i);p--;){var g=l[p],b=s[g],x=i[g];if(x===r&&!(g in i)||!b(x))return!1}return!0}function Yv(i,s,l){if(typeof i!="function")throw new jr(u);return Qa(function(){i.apply(r,l)},s)}function Ja(i,s,l,p){var g=-1,b=Iu,x=!0,k=i.length,T=[],C=s.length;if(!k)return T;l&&(s=pt(s,$r(l))),p?(b=df,x=!1):s.length>=o&&(b=qa,x=!1,s=new Uo(s));e:for(;++g<k;){var M=i[g],D=l==null?M:l(M);if(M=p||M!==0?M:0,x&&D===D){for(var V=C;V--;)if(s[V]===D)continue e;T.push(M)}else b(s,D,p)||T.push(M)}return T}var fo=k0(bn),Xv=k0(Tf,!0);function E2(i,s){var l=!0;return fo(i,function(p,g,b){return l=!!s(p,g,b),l}),l}function Wu(i,s,l){for(var p=-1,g=i.length;++p<g;){var b=i[p],x=s(b);if(x!=null&&(k===r?x===x&&!zr(x):l(x,k)))var k=x,T=b}return T}function I2(i,s,l,p){var g=i.length;for(l=be(l),l<0&&(l=-l>g?0:g+l),p=p===r||p>g?g:be(p),p<0&&(p+=g),p=l>p?0:hb(p);l<p;)i[l++]=s;return i}function Qv(i,s){var l=[];return fo(i,function(p,g,b){s(p,g,b)&&l.push(p)}),l}function At(i,s,l,p,g){var b=-1,x=i.length;for(l||(l=_R),g||(g=[]);++b<x;){var k=i[b];s>0&&l(k)?s>1?At(k,s-1,l,p,g):so(g,k):p||(g[g.length]=k)}return g}var Sf=z0(),e0=z0(!0);function bn(i,s){return i&&Sf(i,s,jt)}function Tf(i,s){return i&&e0(i,s,jt)}function Gu(i,s){return ao(s,function(l){return Un(i[l])})}function Vo(i,s){s=mo(s,i);for(var l=0,p=s.length;i!=null&&l<p;)i=i[xn(s[l++])];return l&&l==p?i:r}function t0(i,s,l){var p=s(i);return ye(i)?p:so(p,l(i))}function Qt(i){return i==null?i===r?iE:nE:qo&&qo in Xe(i)?fR(i):zR(i)}function Pf(i,s){return i>s}function R2(i,s){return i!=null&&We.call(i,s)}function O2(i,s){return i!=null&&s in Xe(i)}function Z2(i,s,l){return i>=Jt(s,l)&&i<It(s,l)}function Ef(i,s,l){for(var p=l?df:Iu,g=i[0].length,b=i.length,x=b,k=E(b),T=1/0,C=[];x--;){var M=i[x];x&&s&&(M=pt(M,$r(s))),T=Jt(M.length,T),k[x]=!l&&(s||g>=120&&M.length>=120)?new Uo(x&&M):r}M=i[0];var D=-1,V=k[0];e:for(;++D<g&&C.length<T;){var re=M[D],de=s?s(re):re;if(re=l||re!==0?re:0,!(V?qa(V,de):p(C,de,l))){for(x=b;--x;){var xe=k[x];if(!(xe?qa(xe,de):p(i[x],de,l)))continue e}V&&V.push(de),C.push(re)}}return C}function j2(i,s,l,p){return bn(i,function(g,b,x){s(p,l(g),b,x)}),p}function Wa(i,s,l){s=mo(s,i),i=U0(i,s);var p=i==null?i:i[xn(Mr(s))];return p==null?r:xr(p,i,l)}function r0(i){return kt(i)&&Qt(i)==Ri}function N2(i){return kt(i)&&Qt(i)==Da}function A2(i){return kt(i)&&Qt(i)==ja}function Ga(i,s,l,p,g){return i===s?!0:i==null||s==null||!kt(i)&&!kt(s)?i!==i&&s!==s:C2(i,s,l,p,Ga,g)}function C2(i,s,l,p,g,b){var x=ye(i),k=ye(s),T=x?$u:Wt(i),C=k?$u:Wt(s);T=T==Ri?Nn:T,C=C==Ri?Nn:C;var M=T==Nn,D=C==Nn,V=T==C;if(V&&go(i)){if(!go(s))return!1;x=!0,M=!1}if(V&&!M)return b||(b=new nn),x||Vi(i)?N0(i,s,l,p,g,b):lR(i,s,T,l,p,g,b);if(!(l&w)){var re=M&&We.call(i,"__wrapped__"),de=D&&We.call(s,"__wrapped__");if(re||de){var xe=re?i.value():i,fe=de?s.value():s;return b||(b=new nn),g(xe,fe,l,p,b)}}return V?(b||(b=new nn),dR(i,s,l,p,g,b)):!1}function M2(i){return kt(i)&&Wt(i)==en}function If(i,s,l,p){var g=l.length,b=g,x=!p;if(i==null)return!b;for(i=Xe(i);g--;){var k=l[g];if(x&&k[2]?k[1]!==i[k[0]]:!(k[0]in i))return!1}for(;++g<b;){k=l[g];var T=k[0],C=i[T],M=k[1];if(x&&k[2]){if(C===r&&!(T in i))return!1}else{var D=new nn;if(p)var V=p(C,M,T,i,s,D);if(!(V===r?Ga(M,C,w|$,p,D):V))return!1}}return!0}function n0(i){if(!vt(i)||bR(i))return!1;var s=Un(i)?MI:PE;return s.test(Ho(i))}function D2(i){return kt(i)&&Qt(i)==Aa}function q2(i){return kt(i)&&Wt(i)==tn}function L2(i){return kt(i)&&fc(i.length)&&!!ct[Qt(i)]}function o0(i){return typeof i=="function"?i:i==null?fr:typeof i=="object"?ye(i)?s0(i[0],i[1]):a0(i):Sb(i)}function Rf(i){if(!Xa(i))return VI(i);var s=[];for(var l in Xe(i))We.call(i,l)&&l!="constructor"&&s.push(l);return s}function U2(i){if(!vt(i))return kR(i);var s=Xa(i),l=[];for(var p in i)p=="constructor"&&(s||!We.call(i,p))||l.push(p);return l}function Of(i,s){return i<s}function i0(i,s){var l=-1,p=lr(i)?E(i.length):[];return fo(i,function(g,b,x){p[++l]=s(g,b,x)}),p}function a0(i){var s=Jf(i);return s.length==1&&s[0][2]?q0(s[0][0],s[0][1]):function(l){return l===i||If(l,i,s)}}function s0(i,s){return Gf(i)&&D0(s)?q0(xn(i),s):function(l){var p=ip(l,i);return p===r&&p===s?ap(l,i):Ga(s,p,w|$)}}function Ku(i,s,l,p,g){i!==s&&Sf(s,function(b,x){if(g||(g=new nn),vt(b))F2(i,s,x,l,Ku,p,g);else{var k=p?p(Yf(i,x),b,x+"",i,s,g):r;k===r&&(k=b),kf(i,x,k)}},dr)}function F2(i,s,l,p,g,b,x){var k=Yf(i,l),T=Yf(s,l),C=x.get(T);if(C){kf(i,l,C);return}var M=b?b(k,T,l+"",i,s,x):r,D=M===r;if(D){var V=ye(T),re=!V&&go(T),de=!V&&!re&&Vi(T);M=T,V||re||de?ye(k)?M=k:zt(k)?M=cr(k):re?(D=!1,M=v0(T,!0)):de?(D=!1,M=b0(T,!0)):M=[]:es(T)||Jo(T)?(M=k,Jo(k)?M=gb(k):(!vt(k)||Un(k))&&(M=M0(T))):D=!1}D&&(x.set(T,M),g(M,T,p,b,x),x.delete(T)),kf(i,l,M)}function u0(i,s){var l=i.length;if(l)return s+=s<0?l:0,Ln(s,l)?i[s]:r}function c0(i,s,l){s.length?s=pt(s,function(b){return ye(b)?function(x){return Vo(x,b.length===1?b[0]:b)}:b}):s=[fr];var p=-1;s=pt(s,$r(ue()));var g=i0(i,function(b,x,k){var T=pt(s,function(C){return C(b)});return{criteria:T,index:++p,value:b}});return gI(g,function(b,x){return rR(b,x,l)})}function V2(i,s){return l0(i,s,function(l,p){return ap(i,p)})}function l0(i,s,l){for(var p=-1,g=s.length,b={};++p<g;){var x=s[p],k=Vo(i,x);l(k,x)&&Ka(b,mo(x,i),k)}return b}function B2(i){return function(s){return Vo(s,i)}}function Zf(i,s,l,p){var g=p?hI:ji,b=-1,x=s.length,k=i;for(i===s&&(s=cr(s)),l&&(k=pt(i,$r(l)));++b<x;)for(var T=0,C=s[b],M=l?l(C):C;(T=g(k,M,T,p))>-1;)k!==i&&qu.call(k,T,1),qu.call(i,T,1);return i}function d0(i,s){for(var l=i?s.length:0,p=l-1;l--;){var g=s[l];if(l==p||g!==b){var b=g;Ln(g)?qu.call(i,g,1):Cf(i,g)}}return i}function jf(i,s){return i+Fu(Bv()*(s-i+1))}function H2(i,s,l,p){for(var g=-1,b=It(Uu((s-i)/(l||1)),0),x=E(b);b--;)x[p?b:++g]=i,i+=l;return x}function Nf(i,s){var l="";if(!i||s<1||s>io)return l;do s%2&&(l+=i),s=Fu(s/2),s&&(i+=i);while(s);return l}function Te(i,s){return Xf(L0(i,s,fr),i+"")}function J2(i){return Wv(Bi(i))}function W2(i,s){var l=Bi(i);return ac(l,Fo(s,0,l.length))}function Ka(i,s,l,p){if(!vt(i))return i;s=mo(s,i);for(var g=-1,b=s.length,x=b-1,k=i;k!=null&&++g<b;){var T=xn(s[g]),C=l;if(T==="__proto__"||T==="constructor"||T==="prototype")return i;if(g!=x){var M=k[T];C=p?p(M,T,k):r,C===r&&(C=vt(M)?M:Ln(s[g+1])?[]:{})}Ha(k,T,C),k=k[T]}return i}var f0=Vu?function(i,s){return Vu.set(i,s),i}:fr,G2=Lu?function(i,s){return Lu(i,"toString",{configurable:!0,enumerable:!1,value:up(s),writable:!0})}:fr;function K2(i){return ac(Bi(i))}function Cr(i,s,l){var p=-1,g=i.length;s<0&&(s=-s>g?0:g+s),l=l>g?g:l,l<0&&(l+=g),g=s>l?0:l-s>>>0,s>>>=0;for(var b=E(g);++p<g;)b[p]=i[p+s];return b}function Y2(i,s){var l;return fo(i,function(p,g,b){return l=s(p,g,b),!l}),!!l}function Yu(i,s,l){var p=0,g=i==null?p:i.length;if(typeof s=="number"&&s===s&&g<=QP){for(;p<g;){var b=p+g>>>1,x=i[b];x!==null&&!zr(x)&&(l?x<=s:x<s)?p=b+1:g=b}return g}return Af(i,s,fr,l)}function Af(i,s,l,p){var g=0,b=i==null?0:i.length;if(b===0)return 0;s=l(s);for(var x=s!==s,k=s===null,T=zr(s),C=s===r;g<b;){var M=Fu((g+b)/2),D=l(i[M]),V=D!==r,re=D===null,de=D===D,xe=zr(D);if(x)var fe=p||de;else C?fe=de&&(p||V):k?fe=de&&V&&(p||!re):T?fe=de&&V&&!re&&(p||!xe):re||xe?fe=!1:fe=p?D<=s:D<s;fe?g=M+1:b=M}return Jt(b,XP)}function p0(i,s){for(var l=-1,p=i.length,g=0,b=[];++l<p;){var x=i[l],k=s?s(x):x;if(!l||!on(k,T)){var T=k;b[g++]=x===0?0:x}}return b}function m0(i){return typeof i=="number"?i:zr(i)?xu:+i}function kr(i){if(typeof i=="string")return i;if(ye(i))return pt(i,kr)+"";if(zr(i))return Hv?Hv.call(i):"";var s=i+"";return s=="0"&&1/i==-Mo?"-0":s}function po(i,s,l){var p=-1,g=Iu,b=i.length,x=!0,k=[],T=k;if(l)x=!1,g=df;else if(b>=o){var C=s?null:uR(i);if(C)return Ou(C);x=!1,g=qa,T=new Uo}else T=s?[]:k;e:for(;++p<b;){var M=i[p],D=s?s(M):M;if(M=l||M!==0?M:0,x&&D===D){for(var V=T.length;V--;)if(T[V]===D)continue e;s&&T.push(D),k.push(M)}else g(T,D,l)||(T!==k&&T.push(D),k.push(M))}return k}function Cf(i,s){return s=mo(s,i),i=U0(i,s),i==null||delete i[xn(Mr(s))]}function h0(i,s,l,p){return Ka(i,s,l(Vo(i,s)),p)}function Xu(i,s,l,p){for(var g=i.length,b=p?g:-1;(p?b--:++b<g)&&s(i[b],b,i););return l?Cr(i,p?0:b,p?b+1:g):Cr(i,p?b+1:0,p?g:b)}function g0(i,s){var l=i;return l instanceof Ze&&(l=l.value()),ff(s,function(p,g){return g.func.apply(g.thisArg,so([p],g.args))},l)}function Mf(i,s,l){var p=i.length;if(p<2)return p?po(i[0]):[];for(var g=-1,b=E(p);++g<p;)for(var x=i[g],k=-1;++k<p;)k!=g&&(b[g]=Ja(b[g]||x,i[k],s,l));return po(At(b,1),s,l)}function y0(i,s,l){for(var p=-1,g=i.length,b=s.length,x={};++p<g;){var k=p<b?s[p]:r;l(x,i[p],k)}return x}function Df(i){return zt(i)?i:[]}function qf(i){return typeof i=="function"?i:fr}function mo(i,s){return ye(i)?i:Gf(i,s)?[i]:H0(Be(i))}var X2=Te;function ho(i,s,l){var p=i.length;return l=l===r?p:l,!s&&l>=p?i:Cr(i,s,l)}var _0=DI||function(i){return Zt.clearTimeout(i)};function v0(i,s){if(s)return i.slice();var l=i.length,p=qv?qv(l):new i.constructor(l);return i.copy(p),p}function Lf(i){var s=new i.constructor(i.byteLength);return new Mu(s).set(new Mu(i)),s}function Q2(i,s){var l=s?Lf(i.buffer):i.buffer;return new i.constructor(l,i.byteOffset,i.byteLength)}function eR(i){var s=new i.constructor(i.source,rv.exec(i));return s.lastIndex=i.lastIndex,s}function tR(i){return Ba?Xe(Ba.call(i)):{}}function b0(i,s){var l=s?Lf(i.buffer):i.buffer;return new i.constructor(l,i.byteOffset,i.length)}function w0(i,s){if(i!==s){var l=i!==r,p=i===null,g=i===i,b=zr(i),x=s!==r,k=s===null,T=s===s,C=zr(s);if(!k&&!C&&!b&&i>s||b&&x&&T&&!k&&!C||p&&x&&T||!l&&T||!g)return 1;if(!p&&!b&&!C&&i<s||C&&l&&g&&!p&&!b||k&&l&&g||!x&&g||!T)return-1}return 0}function rR(i,s,l){for(var p=-1,g=i.criteria,b=s.criteria,x=g.length,k=l.length;++p<x;){var T=w0(g[p],b[p]);if(T){if(p>=k)return T;var C=l[p];return T*(C=="desc"?-1:1)}}return i.index-s.index}function x0(i,s,l,p){for(var g=-1,b=i.length,x=l.length,k=-1,T=s.length,C=It(b-x,0),M=E(T+C),D=!p;++k<T;)M[k]=s[k];for(;++g<x;)(D||g<b)&&(M[l[g]]=i[g]);for(;C--;)M[k++]=i[g++];return M}function $0(i,s,l,p){for(var g=-1,b=i.length,x=-1,k=l.length,T=-1,C=s.length,M=It(b-k,0),D=E(M+C),V=!p;++g<M;)D[g]=i[g];for(var re=g;++T<C;)D[re+T]=s[T];for(;++x<k;)(V||g<b)&&(D[re+l[x]]=i[g++]);return D}function cr(i,s){var l=-1,p=i.length;for(s||(s=E(p));++l<p;)s[l]=i[l];return s}function wn(i,s,l,p){var g=!l;l||(l={});for(var b=-1,x=s.length;++b<x;){var k=s[b],T=p?p(l[k],i[k],k,l,i):r;T===r&&(T=i[k]),g?Mn(l,k,T):Ha(l,k,T)}return l}function nR(i,s){return wn(i,Wf(i),s)}function oR(i,s){return wn(i,A0(i),s)}function Qu(i,s){return function(l,p){var g=ye(l)?cI:S2,b=s?s():{};return g(l,i,ue(p,2),b)}}function Li(i){return Te(function(s,l){var p=-1,g=l.length,b=g>1?l[g-1]:r,x=g>2?l[2]:r;for(b=i.length>3&&typeof b=="function"?(g--,b):r,x&&er(l[0],l[1],x)&&(b=g<3?r:b,g=1),s=Xe(s);++p<g;){var k=l[p];k&&i(s,k,p,b)}return s})}function k0(i,s){return function(l,p){if(l==null)return l;if(!lr(l))return i(l,p);for(var g=l.length,b=s?g:-1,x=Xe(l);(s?b--:++b<g)&&p(x[b],b,x)!==!1;);return l}}function z0(i){return function(s,l,p){for(var g=-1,b=Xe(s),x=p(s),k=x.length;k--;){var T=x[i?k:++g];if(l(b[T],T,b)===!1)break}return s}}function iR(i,s,l){var p=s&z,g=Ya(i);function b(){var x=this&&this!==Zt&&this instanceof b?g:i;return x.apply(p?l:this,arguments)}return b}function S0(i){return function(s){s=Be(s);var l=Ni(s)?rn(s):r,p=l?l[0]:s.charAt(0),g=l?ho(l,1).join(""):s.slice(1);return p[i]()+g}}function Ui(i){return function(s){return ff(kb($b(s).replace(GE,"")),i,"")}}function Ya(i){return function(){var s=arguments;switch(s.length){case 0:return new i;case 1:return new i(s[0]);case 2:return new i(s[0],s[1]);case 3:return new i(s[0],s[1],s[2]);case 4:return new i(s[0],s[1],s[2],s[3]);case 5:return new i(s[0],s[1],s[2],s[3],s[4]);case 6:return new i(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new i(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var l=qi(i.prototype),p=i.apply(l,s);return vt(p)?p:l}}function aR(i,s,l){var p=Ya(i);function g(){for(var b=arguments.length,x=E(b),k=b,T=Fi(g);k--;)x[k]=arguments[k];var C=b<3&&x[0]!==T&&x[b-1]!==T?[]:uo(x,T);if(b-=C.length,b<l)return R0(i,s,ec,g.placeholder,r,x,C,r,r,l-b);var M=this&&this!==Zt&&this instanceof g?p:i;return xr(M,this,x)}return g}function T0(i){return function(s,l,p){var g=Xe(s);if(!lr(s)){var b=ue(l,3);s=jt(s),l=function(k){return b(g[k],k,g)}}var x=i(s,l,p);return x>-1?g[b?s[x]:x]:r}}function P0(i){return qn(function(s){var l=s.length,p=l,g=Nr.prototype.thru;for(i&&s.reverse();p--;){var b=s[p];if(typeof b!="function")throw new jr(u);if(g&&!x&&oc(b)=="wrapper")var x=new Nr([],!0)}for(p=x?p:l;++p<l;){b=s[p];var k=oc(b),T=k=="wrapper"?Hf(b):r;T&&Kf(T[0])&&T[1]==(X|j|G|he)&&!T[4].length&&T[9]==1?x=x[oc(T[0])].apply(x,T[3]):x=b.length==1&&Kf(b)?x[k]():x.thru(b)}return function(){var C=arguments,M=C[0];if(x&&C.length==1&&ye(M))return x.plant(M).value();for(var D=0,V=l?s[D].apply(this,C):M;++D<l;)V=s[D].call(this,V);return V}})}function ec(i,s,l,p,g,b,x,k,T,C){var M=s&X,D=s&z,V=s&I,re=s&(j|U),de=s&Je,xe=V?r:Ya(i);function fe(){for(var Ie=arguments.length,Ae=E(Ie),Sr=Ie;Sr--;)Ae[Sr]=arguments[Sr];if(re)var tr=Fi(fe),Tr=_I(Ae,tr);if(p&&(Ae=x0(Ae,p,g,re)),b&&(Ae=$0(Ae,b,x,re)),Ie-=Tr,re&&Ie<C){var St=uo(Ae,tr);return R0(i,s,ec,fe.placeholder,l,Ae,St,k,T,C-Ie)}var an=D?l:this,Vn=V?an[i]:i;return Ie=Ae.length,k?Ae=SR(Ae,k):de&&Ie>1&&Ae.reverse(),M&&T<Ie&&(Ae.length=T),this&&this!==Zt&&this instanceof fe&&(Vn=xe||Ya(Vn)),Vn.apply(an,Ae)}return fe}function E0(i,s){return function(l,p){return j2(l,i,s(p),{})}}function tc(i,s){return function(l,p){var g;if(l===r&&p===r)return s;if(l!==r&&(g=l),p!==r){if(g===r)return p;typeof l=="string"||typeof p=="string"?(l=kr(l),p=kr(p)):(l=m0(l),p=m0(p)),g=i(l,p)}return g}}function Uf(i){return qn(function(s){return s=pt(s,$r(ue())),Te(function(l){var p=this;return i(s,function(g){return xr(g,p,l)})})})}function rc(i,s){s=s===r?" ":kr(s);var l=s.length;if(l<2)return l?Nf(s,i):s;var p=Nf(s,Uu(i/Ai(s)));return Ni(s)?ho(rn(p),0,i).join(""):p.slice(0,i)}function sR(i,s,l,p){var g=s&z,b=Ya(i);function x(){for(var k=-1,T=arguments.length,C=-1,M=p.length,D=E(M+T),V=this&&this!==Zt&&this instanceof x?b:i;++C<M;)D[C]=p[C];for(;T--;)D[C++]=arguments[++k];return xr(V,g?l:this,D)}return x}function I0(i){return function(s,l,p){return p&&typeof p!="number"&&er(s,l,p)&&(l=p=r),s=Fn(s),l===r?(l=s,s=0):l=Fn(l),p=p===r?s<l?1:-1:Fn(p),H2(s,l,p,i)}}function nc(i){return function(s,l){return typeof s=="string"&&typeof l=="string"||(s=Dr(s),l=Dr(l)),i(s,l)}}function R0(i,s,l,p,g,b,x,k,T,C){var M=s&j,D=M?x:r,V=M?r:x,re=M?b:r,de=M?r:b;s|=M?G:te,s&=~(M?te:G),s&A||(s&=~(z|I));var xe=[i,s,g,re,D,de,V,k,T,C],fe=l.apply(r,xe);return Kf(i)&&F0(fe,xe),fe.placeholder=p,V0(fe,i,s)}function Ff(i){var s=Et[i];return function(l,p){if(l=Dr(l),p=p==null?0:Jt(be(p),292),p&&Vv(l)){var g=(Be(l)+"e").split("e"),b=s(g[0]+"e"+(+g[1]+p));return g=(Be(b)+"e").split("e"),+(g[0]+"e"+(+g[1]-p))}return s(l)}}var uR=Mi&&1/Ou(new Mi([,-0]))[1]==Mo?function(i){return new Mi(i)}:dp;function O0(i){return function(s){var l=Wt(s);return l==en?vf(s):l==tn?zI(s):yI(s,i(s))}}function Dn(i,s,l,p,g,b,x,k){var T=s&I;if(!T&&typeof i!="function")throw new jr(u);var C=p?p.length:0;if(C||(s&=~(G|te),p=g=r),x=x===r?x:It(be(x),0),k=k===r?k:be(k),C-=g?g.length:0,s&te){var M=p,D=g;p=g=r}var V=T?r:Hf(i),re=[i,s,l,p,g,M,D,b,x,k];if(V&&$R(re,V),i=re[0],s=re[1],l=re[2],p=re[3],g=re[4],k=re[9]=re[9]===r?T?0:i.length:It(re[9]-C,0),!k&&s&(j|U)&&(s&=~(j|U)),!s||s==z)var de=iR(i,s,l);else s==j||s==U?de=aR(i,s,k):(s==G||s==(z|G))&&!g.length?de=sR(i,s,l,p):de=ec.apply(r,re);var xe=V?f0:F0;return V0(xe(de,re),i,s)}function Z0(i,s,l,p){return i===r||on(i,Ci[l])&&!We.call(p,l)?s:i}function j0(i,s,l,p,g,b){return vt(i)&&vt(s)&&(b.set(s,i),Ku(i,s,r,j0,b),b.delete(s)),i}function cR(i){return es(i)?r:i}function N0(i,s,l,p,g,b){var x=l&w,k=i.length,T=s.length;if(k!=T&&!(x&&T>k))return!1;var C=b.get(i),M=b.get(s);if(C&&M)return C==s&&M==i;var D=-1,V=!0,re=l&$?new Uo:r;for(b.set(i,s),b.set(s,i);++D<k;){var de=i[D],xe=s[D];if(p)var fe=x?p(xe,de,D,s,i,b):p(de,xe,D,i,s,b);if(fe!==r){if(fe)continue;V=!1;break}if(re){if(!pf(s,function(Ie,Ae){if(!qa(re,Ae)&&(de===Ie||g(de,Ie,l,p,b)))return re.push(Ae)})){V=!1;break}}else if(!(de===xe||g(de,xe,l,p,b))){V=!1;break}}return b.delete(i),b.delete(s),V}function lR(i,s,l,p,g,b,x){switch(l){case Oi:if(i.byteLength!=s.byteLength||i.byteOffset!=s.byteOffset)return!1;i=i.buffer,s=s.buffer;case Da:return!(i.byteLength!=s.byteLength||!b(new Mu(i),new Mu(s)));case Za:case ja:case Na:return on(+i,+s);case ku:return i.name==s.name&&i.message==s.message;case Aa:case Ca:return i==s+"";case en:var k=vf;case tn:var T=p&w;if(k||(k=Ou),i.size!=s.size&&!T)return!1;var C=x.get(i);if(C)return C==s;p|=$,x.set(i,s);var M=N0(k(i),k(s),p,g,b,x);return x.delete(i),M;case Su:if(Ba)return Ba.call(i)==Ba.call(s)}return!1}function dR(i,s,l,p,g,b){var x=l&w,k=Vf(i),T=k.length,C=Vf(s),M=C.length;if(T!=M&&!x)return!1;for(var D=T;D--;){var V=k[D];if(!(x?V in s:We.call(s,V)))return!1}var re=b.get(i),de=b.get(s);if(re&&de)return re==s&&de==i;var xe=!0;b.set(i,s),b.set(s,i);for(var fe=x;++D<T;){V=k[D];var Ie=i[V],Ae=s[V];if(p)var Sr=x?p(Ae,Ie,V,s,i,b):p(Ie,Ae,V,i,s,b);if(!(Sr===r?Ie===Ae||g(Ie,Ae,l,p,b):Sr)){xe=!1;break}fe||(fe=V=="constructor")}if(xe&&!fe){var tr=i.constructor,Tr=s.constructor;tr!=Tr&&"constructor"in i&&"constructor"in s&&!(typeof tr=="function"&&tr instanceof tr&&typeof Tr=="function"&&Tr instanceof Tr)&&(xe=!1)}return b.delete(i),b.delete(s),xe}function qn(i){return Xf(L0(i,r,K0),i+"")}function Vf(i){return t0(i,jt,Wf)}function Bf(i){return t0(i,dr,A0)}var Hf=Vu?function(i){return Vu.get(i)}:dp;function oc(i){for(var s=i.name+"",l=Di[s],p=We.call(Di,s)?l.length:0;p--;){var g=l[p],b=g.func;if(b==null||b==i)return g.name}return s}function Fi(i){var s=We.call(_,"placeholder")?_:i;return s.placeholder}function ue(){var i=_.iteratee||cp;return i=i===cp?o0:i,arguments.length?i(arguments[0],arguments[1]):i}function ic(i,s){var l=i.__data__;return vR(s)?l[typeof s=="string"?"string":"hash"]:l.map}function Jf(i){for(var s=jt(i),l=s.length;l--;){var p=s[l],g=i[p];s[l]=[p,g,D0(g)]}return s}function Bo(i,s){var l=xI(i,s);return n0(l)?l:r}function fR(i){var s=We.call(i,qo),l=i[qo];try{i[qo]=r;var p=!0}catch{}var g=Au.call(i);return p&&(s?i[qo]=l:delete i[qo]),g}var Wf=wf?function(i){return i==null?[]:(i=Xe(i),ao(wf(i),function(s){return Uv.call(i,s)}))}:fp,A0=wf?function(i){for(var s=[];i;)so(s,Wf(i)),i=Du(i);return s}:fp,Wt=Qt;(xf&&Wt(new xf(new ArrayBuffer(1)))!=Oi||Ua&&Wt(new Ua)!=en||$f&&Wt($f.resolve())!=X_||Mi&&Wt(new Mi)!=tn||Fa&&Wt(new Fa)!=Ma)&&(Wt=function(i){var s=Qt(i),l=s==Nn?i.constructor:r,p=l?Ho(l):"";if(p)switch(p){case WI:return Oi;case GI:return en;case KI:return X_;case YI:return tn;case XI:return Ma}return s});function pR(i,s,l){for(var p=-1,g=l.length;++p<g;){var b=l[p],x=b.size;switch(b.type){case"drop":i+=x;break;case"dropRight":s-=x;break;case"take":s=Jt(s,i+x);break;case"takeRight":i=It(i,s-x);break}}return{start:i,end:s}}function mR(i){var s=i.match(bE);return s?s[1].split(wE):[]}function C0(i,s,l){s=mo(s,i);for(var p=-1,g=s.length,b=!1;++p<g;){var x=xn(s[p]);if(!(b=i!=null&&l(i,x)))break;i=i[x]}return b||++p!=g?b:(g=i==null?0:i.length,!!g&&fc(g)&&Ln(x,g)&&(ye(i)||Jo(i)))}function hR(i){var s=i.length,l=new i.constructor(s);return s&&typeof i[0]=="string"&&We.call(i,"index")&&(l.index=i.index,l.input=i.input),l}function M0(i){return typeof i.constructor=="function"&&!Xa(i)?qi(Du(i)):{}}function gR(i,s,l){var p=i.constructor;switch(s){case Da:return Lf(i);case Za:case ja:return new p(+i);case Oi:return Q2(i,l);case Hd:case Jd:case Wd:case Gd:case Kd:case Yd:case Xd:case Qd:case ef:return b0(i,l);case en:return new p;case Na:case Ca:return new p(i);case Aa:return eR(i);case tn:return new p;case Su:return tR(i)}}function yR(i,s){var l=s.length;if(!l)return i;var p=l-1;return s[p]=(l>1?"& ":"")+s[p],s=s.join(l>2?", ":" "),i.replace(vE,`{
/* [wrapped with `+s+`] */
`)}function _R(i){return ye(i)||Jo(i)||!!(Fv&&i&&i[Fv])}function Ln(i,s){var l=typeof i;return s=s??io,!!s&&(l=="number"||l!="symbol"&&IE.test(i))&&i>-1&&i%1==0&&i<s}function er(i,s,l){if(!vt(l))return!1;var p=typeof s;return(p=="number"?lr(l)&&Ln(s,l.length):p=="string"&&s in l)?on(l[s],i):!1}function Gf(i,s){if(ye(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||zr(i)?!0:hE.test(i)||!mE.test(i)||s!=null&&i in Xe(s)}function vR(i){var s=typeof i;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?i!=="__proto__":i===null}function Kf(i){var s=oc(i),l=_[s];if(typeof l!="function"||!(s in Ze.prototype))return!1;if(i===l)return!0;var p=Hf(l);return!!p&&i===p[0]}function bR(i){return!!Dv&&Dv in i}var wR=ju?Un:pp;function Xa(i){var s=i&&i.constructor,l=typeof s=="function"&&s.prototype||Ci;return i===l}function D0(i){return i===i&&!vt(i)}function q0(i,s){return function(l){return l==null?!1:l[i]===s&&(s!==r||i in Xe(l))}}function xR(i){var s=lc(i,function(p){return l.size===f&&l.clear(),p}),l=s.cache;return s}function $R(i,s){var l=i[1],p=s[1],g=l|p,b=g<(z|I|X),x=p==X&&l==j||p==X&&l==he&&i[7].length<=s[8]||p==(X|he)&&s[7].length<=s[8]&&l==j;if(!(b||x))return i;p&z&&(i[2]=s[2],g|=l&z?0:A);var k=s[3];if(k){var T=i[3];i[3]=T?x0(T,k,s[4]):k,i[4]=T?uo(i[3],m):s[4]}return k=s[5],k&&(T=i[5],i[5]=T?$0(T,k,s[6]):k,i[6]=T?uo(i[5],m):s[6]),k=s[7],k&&(i[7]=k),p&X&&(i[8]=i[8]==null?s[8]:Jt(i[8],s[8])),i[9]==null&&(i[9]=s[9]),i[0]=s[0],i[1]=g,i}function kR(i){var s=[];if(i!=null)for(var l in Xe(i))s.push(l);return s}function zR(i){return Au.call(i)}function L0(i,s,l){return s=It(s===r?i.length-1:s,0),function(){for(var p=arguments,g=-1,b=It(p.length-s,0),x=E(b);++g<b;)x[g]=p[s+g];g=-1;for(var k=E(s+1);++g<s;)k[g]=p[g];return k[s]=l(x),xr(i,this,k)}}function U0(i,s){return s.length<2?i:Vo(i,Cr(s,0,-1))}function SR(i,s){for(var l=i.length,p=Jt(s.length,l),g=cr(i);p--;){var b=s[p];i[p]=Ln(b,l)?g[b]:r}return i}function Yf(i,s){if(!(s==="constructor"&&typeof i[s]=="function")&&s!="__proto__")return i[s]}var F0=B0(f0),Qa=LI||function(i,s){return Zt.setTimeout(i,s)},Xf=B0(G2);function V0(i,s,l){var p=s+"";return Xf(i,yR(p,TR(mR(p),l)))}function B0(i){var s=0,l=0;return function(){var p=BI(),g=bu-(p-l);if(l=p,g>0){if(++s>=vu)return arguments[0]}else s=0;return i.apply(r,arguments)}}function ac(i,s){var l=-1,p=i.length,g=p-1;for(s=s===r?p:s;++l<s;){var b=jf(l,g),x=i[b];i[b]=i[l],i[l]=x}return i.length=s,i}var H0=xR(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(gE,function(l,p,g,b){s.push(g?b.replace(kE,"$1"):p||l)}),s});function xn(i){if(typeof i=="string"||zr(i))return i;var s=i+"";return s=="0"&&1/i==-Mo?"-0":s}function Ho(i){if(i!=null){try{return Nu.call(i)}catch{}try{return i+""}catch{}}return""}function TR(i,s){return Zr(eE,function(l){var p="_."+l[0];s&l[1]&&!Iu(i,p)&&i.push(p)}),i.sort()}function J0(i){if(i instanceof Ze)return i.clone();var s=new Nr(i.__wrapped__,i.__chain__);return s.__actions__=cr(i.__actions__),s.__index__=i.__index__,s.__values__=i.__values__,s}function PR(i,s,l){(l?er(i,s,l):s===r)?s=1:s=It(be(s),0);var p=i==null?0:i.length;if(!p||s<1)return[];for(var g=0,b=0,x=E(Uu(p/s));g<p;)x[b++]=Cr(i,g,g+=s);return x}function ER(i){for(var s=-1,l=i==null?0:i.length,p=0,g=[];++s<l;){var b=i[s];b&&(g[p++]=b)}return g}function IR(){var i=arguments.length;if(!i)return[];for(var s=E(i-1),l=arguments[0],p=i;p--;)s[p-1]=arguments[p];return so(ye(l)?cr(l):[l],At(s,1))}var RR=Te(function(i,s){return zt(i)?Ja(i,At(s,1,zt,!0)):[]}),OR=Te(function(i,s){var l=Mr(s);return zt(l)&&(l=r),zt(i)?Ja(i,At(s,1,zt,!0),ue(l,2)):[]}),ZR=Te(function(i,s){var l=Mr(s);return zt(l)&&(l=r),zt(i)?Ja(i,At(s,1,zt,!0),r,l):[]});function jR(i,s,l){var p=i==null?0:i.length;return p?(s=l||s===r?1:be(s),Cr(i,s<0?0:s,p)):[]}function NR(i,s,l){var p=i==null?0:i.length;return p?(s=l||s===r?1:be(s),s=p-s,Cr(i,0,s<0?0:s)):[]}function AR(i,s){return i&&i.length?Xu(i,ue(s,3),!0,!0):[]}function CR(i,s){return i&&i.length?Xu(i,ue(s,3),!0):[]}function MR(i,s,l,p){var g=i==null?0:i.length;return g?(l&&typeof l!="number"&&er(i,s,l)&&(l=0,p=g),I2(i,s,l,p)):[]}function W0(i,s,l){var p=i==null?0:i.length;if(!p)return-1;var g=l==null?0:be(l);return g<0&&(g=It(p+g,0)),Ru(i,ue(s,3),g)}function G0(i,s,l){var p=i==null?0:i.length;if(!p)return-1;var g=p-1;return l!==r&&(g=be(l),g=l<0?It(p+g,0):Jt(g,p-1)),Ru(i,ue(s,3),g,!0)}function K0(i){var s=i==null?0:i.length;return s?At(i,1):[]}function DR(i){var s=i==null?0:i.length;return s?At(i,Mo):[]}function qR(i,s){var l=i==null?0:i.length;return l?(s=s===r?1:be(s),At(i,s)):[]}function LR(i){for(var s=-1,l=i==null?0:i.length,p={};++s<l;){var g=i[s];p[g[0]]=g[1]}return p}function Y0(i){return i&&i.length?i[0]:r}function UR(i,s,l){var p=i==null?0:i.length;if(!p)return-1;var g=l==null?0:be(l);return g<0&&(g=It(p+g,0)),ji(i,s,g)}function FR(i){var s=i==null?0:i.length;return s?Cr(i,0,-1):[]}var VR=Te(function(i){var s=pt(i,Df);return s.length&&s[0]===i[0]?Ef(s):[]}),BR=Te(function(i){var s=Mr(i),l=pt(i,Df);return s===Mr(l)?s=r:l.pop(),l.length&&l[0]===i[0]?Ef(l,ue(s,2)):[]}),HR=Te(function(i){var s=Mr(i),l=pt(i,Df);return s=typeof s=="function"?s:r,s&&l.pop(),l.length&&l[0]===i[0]?Ef(l,r,s):[]});function JR(i,s){return i==null?"":FI.call(i,s)}function Mr(i){var s=i==null?0:i.length;return s?i[s-1]:r}function WR(i,s,l){var p=i==null?0:i.length;if(!p)return-1;var g=p;return l!==r&&(g=be(l),g=g<0?It(p+g,0):Jt(g,p-1)),s===s?TI(i,s,g):Ru(i,Rv,g,!0)}function GR(i,s){return i&&i.length?u0(i,be(s)):r}var KR=Te(X0);function X0(i,s){return i&&i.length&&s&&s.length?Zf(i,s):i}function YR(i,s,l){return i&&i.length&&s&&s.length?Zf(i,s,ue(l,2)):i}function XR(i,s,l){return i&&i.length&&s&&s.length?Zf(i,s,r,l):i}var QR=qn(function(i,s){var l=i==null?0:i.length,p=zf(i,s);return d0(i,pt(s,function(g){return Ln(g,l)?+g:g}).sort(w0)),p});function eO(i,s){var l=[];if(!(i&&i.length))return l;var p=-1,g=[],b=i.length;for(s=ue(s,3);++p<b;){var x=i[p];s(x,p,i)&&(l.push(x),g.push(p))}return d0(i,g),l}function Qf(i){return i==null?i:JI.call(i)}function tO(i,s,l){var p=i==null?0:i.length;return p?(l&&typeof l!="number"&&er(i,s,l)?(s=0,l=p):(s=s==null?0:be(s),l=l===r?p:be(l)),Cr(i,s,l)):[]}function rO(i,s){return Yu(i,s)}function nO(i,s,l){return Af(i,s,ue(l,2))}function oO(i,s){var l=i==null?0:i.length;if(l){var p=Yu(i,s);if(p<l&&on(i[p],s))return p}return-1}function iO(i,s){return Yu(i,s,!0)}function aO(i,s,l){return Af(i,s,ue(l,2),!0)}function sO(i,s){var l=i==null?0:i.length;if(l){var p=Yu(i,s,!0)-1;if(on(i[p],s))return p}return-1}function uO(i){return i&&i.length?p0(i):[]}function cO(i,s){return i&&i.length?p0(i,ue(s,2)):[]}function lO(i){var s=i==null?0:i.length;return s?Cr(i,1,s):[]}function dO(i,s,l){return i&&i.length?(s=l||s===r?1:be(s),Cr(i,0,s<0?0:s)):[]}function fO(i,s,l){var p=i==null?0:i.length;return p?(s=l||s===r?1:be(s),s=p-s,Cr(i,s<0?0:s,p)):[]}function pO(i,s){return i&&i.length?Xu(i,ue(s,3),!1,!0):[]}function mO(i,s){return i&&i.length?Xu(i,ue(s,3)):[]}var hO=Te(function(i){return po(At(i,1,zt,!0))}),gO=Te(function(i){var s=Mr(i);return zt(s)&&(s=r),po(At(i,1,zt,!0),ue(s,2))}),yO=Te(function(i){var s=Mr(i);return s=typeof s=="function"?s:r,po(At(i,1,zt,!0),r,s)});function _O(i){return i&&i.length?po(i):[]}function vO(i,s){return i&&i.length?po(i,ue(s,2)):[]}function bO(i,s){return s=typeof s=="function"?s:r,i&&i.length?po(i,r,s):[]}function ep(i){if(!(i&&i.length))return[];var s=0;return i=ao(i,function(l){if(zt(l))return s=It(l.length,s),!0}),yf(s,function(l){return pt(i,mf(l))})}function Q0(i,s){if(!(i&&i.length))return[];var l=ep(i);return s==null?l:pt(l,function(p){return xr(s,r,p)})}var wO=Te(function(i,s){return zt(i)?Ja(i,s):[]}),xO=Te(function(i){return Mf(ao(i,zt))}),$O=Te(function(i){var s=Mr(i);return zt(s)&&(s=r),Mf(ao(i,zt),ue(s,2))}),kO=Te(function(i){var s=Mr(i);return s=typeof s=="function"?s:r,Mf(ao(i,zt),r,s)}),zO=Te(ep);function SO(i,s){return y0(i||[],s||[],Ha)}function TO(i,s){return y0(i||[],s||[],Ka)}var PO=Te(function(i){var s=i.length,l=s>1?i[s-1]:r;return l=typeof l=="function"?(i.pop(),l):r,Q0(i,l)});function eb(i){var s=_(i);return s.__chain__=!0,s}function EO(i,s){return s(i),i}function sc(i,s){return s(i)}var IO=qn(function(i){var s=i.length,l=s?i[0]:0,p=this.__wrapped__,g=function(b){return zf(b,i)};return s>1||this.__actions__.length||!(p instanceof Ze)||!Ln(l)?this.thru(g):(p=p.slice(l,+l+(s?1:0)),p.__actions__.push({func:sc,args:[g],thisArg:r}),new Nr(p,this.__chain__).thru(function(b){return s&&!b.length&&b.push(r),b}))});function RO(){return eb(this)}function OO(){return new Nr(this.value(),this.__chain__)}function ZO(){this.__values__===r&&(this.__values__=mb(this.value()));var i=this.__index__>=this.__values__.length,s=i?r:this.__values__[this.__index__++];return{done:i,value:s}}function jO(){return this}function NO(i){for(var s,l=this;l instanceof Hu;){var p=J0(l);p.__index__=0,p.__values__=r,s?g.__wrapped__=p:s=p;var g=p;l=l.__wrapped__}return g.__wrapped__=i,s}function AO(){var i=this.__wrapped__;if(i instanceof Ze){var s=i;return this.__actions__.length&&(s=new Ze(this)),s=s.reverse(),s.__actions__.push({func:sc,args:[Qf],thisArg:r}),new Nr(s,this.__chain__)}return this.thru(Qf)}function CO(){return g0(this.__wrapped__,this.__actions__)}var MO=Qu(function(i,s,l){We.call(i,l)?++i[l]:Mn(i,l,1)});function DO(i,s,l){var p=ye(i)?Ev:E2;return l&&er(i,s,l)&&(s=r),p(i,ue(s,3))}function qO(i,s){var l=ye(i)?ao:Qv;return l(i,ue(s,3))}var LO=T0(W0),UO=T0(G0);function FO(i,s){return At(uc(i,s),1)}function VO(i,s){return At(uc(i,s),Mo)}function BO(i,s,l){return l=l===r?1:be(l),At(uc(i,s),l)}function tb(i,s){var l=ye(i)?Zr:fo;return l(i,ue(s,3))}function rb(i,s){var l=ye(i)?lI:Xv;return l(i,ue(s,3))}var HO=Qu(function(i,s,l){We.call(i,l)?i[l].push(s):Mn(i,l,[s])});function JO(i,s,l,p){i=lr(i)?i:Bi(i),l=l&&!p?be(l):0;var g=i.length;return l<0&&(l=It(g+l,0)),pc(i)?l<=g&&i.indexOf(s,l)>-1:!!g&&ji(i,s,l)>-1}var WO=Te(function(i,s,l){var p=-1,g=typeof s=="function",b=lr(i)?E(i.length):[];return fo(i,function(x){b[++p]=g?xr(s,x,l):Wa(x,s,l)}),b}),GO=Qu(function(i,s,l){Mn(i,l,s)});function uc(i,s){var l=ye(i)?pt:i0;return l(i,ue(s,3))}function KO(i,s,l,p){return i==null?[]:(ye(s)||(s=s==null?[]:[s]),l=p?r:l,ye(l)||(l=l==null?[]:[l]),c0(i,s,l))}var YO=Qu(function(i,s,l){i[l?0:1].push(s)},function(){return[[],[]]});function XO(i,s,l){var p=ye(i)?ff:Zv,g=arguments.length<3;return p(i,ue(s,4),l,g,fo)}function QO(i,s,l){var p=ye(i)?dI:Zv,g=arguments.length<3;return p(i,ue(s,4),l,g,Xv)}function eZ(i,s){var l=ye(i)?ao:Qv;return l(i,dc(ue(s,3)))}function tZ(i){var s=ye(i)?Wv:J2;return s(i)}function rZ(i,s,l){(l?er(i,s,l):s===r)?s=1:s=be(s);var p=ye(i)?k2:W2;return p(i,s)}function nZ(i){var s=ye(i)?z2:K2;return s(i)}function oZ(i){if(i==null)return 0;if(lr(i))return pc(i)?Ai(i):i.length;var s=Wt(i);return s==en||s==tn?i.size:Rf(i).length}function iZ(i,s,l){var p=ye(i)?pf:Y2;return l&&er(i,s,l)&&(s=r),p(i,ue(s,3))}var aZ=Te(function(i,s){if(i==null)return[];var l=s.length;return l>1&&er(i,s[0],s[1])?s=[]:l>2&&er(s[0],s[1],s[2])&&(s=[s[0]]),c0(i,At(s,1),[])}),cc=qI||function(){return Zt.Date.now()};function sZ(i,s){if(typeof s!="function")throw new jr(u);return i=be(i),function(){if(--i<1)return s.apply(this,arguments)}}function nb(i,s,l){return s=l?r:s,s=i&&s==null?i.length:s,Dn(i,X,r,r,r,r,s)}function ob(i,s){var l;if(typeof s!="function")throw new jr(u);return i=be(i),function(){return--i>0&&(l=s.apply(this,arguments)),i<=1&&(s=r),l}}var tp=Te(function(i,s,l){var p=z;if(l.length){var g=uo(l,Fi(tp));p|=G}return Dn(i,p,s,l,g)}),ib=Te(function(i,s,l){var p=z|I;if(l.length){var g=uo(l,Fi(ib));p|=G}return Dn(s,p,i,l,g)});function ab(i,s,l){s=l?r:s;var p=Dn(i,j,r,r,r,r,r,s);return p.placeholder=ab.placeholder,p}function sb(i,s,l){s=l?r:s;var p=Dn(i,U,r,r,r,r,r,s);return p.placeholder=sb.placeholder,p}function ub(i,s,l){var p,g,b,x,k,T,C=0,M=!1,D=!1,V=!0;if(typeof i!="function")throw new jr(u);s=Dr(s)||0,vt(l)&&(M=!!l.leading,D="maxWait"in l,b=D?It(Dr(l.maxWait)||0,s):b,V="trailing"in l?!!l.trailing:V);function re(St){var an=p,Vn=g;return p=g=r,C=St,x=i.apply(Vn,an),x}function de(St){return C=St,k=Qa(Ie,s),M?re(St):x}function xe(St){var an=St-T,Vn=St-C,Tb=s-an;return D?Jt(Tb,b-Vn):Tb}function fe(St){var an=St-T,Vn=St-C;return T===r||an>=s||an<0||D&&Vn>=b}function Ie(){var St=cc();if(fe(St))return Ae(St);k=Qa(Ie,xe(St))}function Ae(St){return k=r,V&&p?re(St):(p=g=r,x)}function Sr(){k!==r&&_0(k),C=0,p=T=g=k=r}function tr(){return k===r?x:Ae(cc())}function Tr(){var St=cc(),an=fe(St);if(p=arguments,g=this,T=St,an){if(k===r)return de(T);if(D)return _0(k),k=Qa(Ie,s),re(T)}return k===r&&(k=Qa(Ie,s)),x}return Tr.cancel=Sr,Tr.flush=tr,Tr}var uZ=Te(function(i,s){return Yv(i,1,s)}),cZ=Te(function(i,s,l){return Yv(i,Dr(s)||0,l)});function lZ(i){return Dn(i,Je)}function lc(i,s){if(typeof i!="function"||s!=null&&typeof s!="function")throw new jr(u);var l=function(){var p=arguments,g=s?s.apply(this,p):p[0],b=l.cache;if(b.has(g))return b.get(g);var x=i.apply(this,p);return l.cache=b.set(g,x)||b,x};return l.cache=new(lc.Cache||Cn),l}lc.Cache=Cn;function dc(i){if(typeof i!="function")throw new jr(u);return function(){var s=arguments;switch(s.length){case 0:return!i.call(this);case 1:return!i.call(this,s[0]);case 2:return!i.call(this,s[0],s[1]);case 3:return!i.call(this,s[0],s[1],s[2])}return!i.apply(this,s)}}function dZ(i){return ob(2,i)}var fZ=X2(function(i,s){s=s.length==1&&ye(s[0])?pt(s[0],$r(ue())):pt(At(s,1),$r(ue()));var l=s.length;return Te(function(p){for(var g=-1,b=Jt(p.length,l);++g<b;)p[g]=s[g].call(this,p[g]);return xr(i,this,p)})}),rp=Te(function(i,s){var l=uo(s,Fi(rp));return Dn(i,G,r,s,l)}),cb=Te(function(i,s){var l=uo(s,Fi(cb));return Dn(i,te,r,s,l)}),pZ=qn(function(i,s){return Dn(i,he,r,r,r,s)});function mZ(i,s){if(typeof i!="function")throw new jr(u);return s=s===r?s:be(s),Te(i,s)}function hZ(i,s){if(typeof i!="function")throw new jr(u);return s=s==null?0:It(be(s),0),Te(function(l){var p=l[s],g=ho(l,0,s);return p&&so(g,p),xr(i,this,g)})}function gZ(i,s,l){var p=!0,g=!0;if(typeof i!="function")throw new jr(u);return vt(l)&&(p="leading"in l?!!l.leading:p,g="trailing"in l?!!l.trailing:g),ub(i,s,{leading:p,maxWait:s,trailing:g})}function yZ(i){return nb(i,1)}function _Z(i,s){return rp(qf(s),i)}function vZ(){if(!arguments.length)return[];var i=arguments[0];return ye(i)?i:[i]}function bZ(i){return Ar(i,v)}function wZ(i,s){return s=typeof s=="function"?s:r,Ar(i,v,s)}function xZ(i){return Ar(i,h|v)}function $Z(i,s){return s=typeof s=="function"?s:r,Ar(i,h|v,s)}function kZ(i,s){return s==null||Kv(i,s,jt(s))}function on(i,s){return i===s||i!==i&&s!==s}var zZ=nc(Pf),SZ=nc(function(i,s){return i>=s}),Jo=r0((function(){return arguments})())?r0:function(i){return kt(i)&&We.call(i,"callee")&&!Uv.call(i,"callee")},ye=E.isArray,TZ=$v?$r($v):N2;function lr(i){return i!=null&&fc(i.length)&&!Un(i)}function zt(i){return kt(i)&&lr(i)}function PZ(i){return i===!0||i===!1||kt(i)&&Qt(i)==Za}var go=UI||pp,EZ=kv?$r(kv):A2;function IZ(i){return kt(i)&&i.nodeType===1&&!es(i)}function RZ(i){if(i==null)return!0;if(lr(i)&&(ye(i)||typeof i=="string"||typeof i.splice=="function"||go(i)||Vi(i)||Jo(i)))return!i.length;var s=Wt(i);if(s==en||s==tn)return!i.size;if(Xa(i))return!Rf(i).length;for(var l in i)if(We.call(i,l))return!1;return!0}function OZ(i,s){return Ga(i,s)}function ZZ(i,s,l){l=typeof l=="function"?l:r;var p=l?l(i,s):r;return p===r?Ga(i,s,r,l):!!p}function np(i){if(!kt(i))return!1;var s=Qt(i);return s==ku||s==rE||typeof i.message=="string"&&typeof i.name=="string"&&!es(i)}function jZ(i){return typeof i=="number"&&Vv(i)}function Un(i){if(!vt(i))return!1;var s=Qt(i);return s==zu||s==Y_||s==tE||s==oE}function lb(i){return typeof i=="number"&&i==be(i)}function fc(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=io}function vt(i){var s=typeof i;return i!=null&&(s=="object"||s=="function")}function kt(i){return i!=null&&typeof i=="object"}var db=zv?$r(zv):M2;function NZ(i,s){return i===s||If(i,s,Jf(s))}function AZ(i,s,l){return l=typeof l=="function"?l:r,If(i,s,Jf(s),l)}function CZ(i){return fb(i)&&i!=+i}function MZ(i){if(wR(i))throw new ge(a);return n0(i)}function DZ(i){return i===null}function qZ(i){return i==null}function fb(i){return typeof i=="number"||kt(i)&&Qt(i)==Na}function es(i){if(!kt(i)||Qt(i)!=Nn)return!1;var s=Du(i);if(s===null)return!0;var l=We.call(s,"constructor")&&s.constructor;return typeof l=="function"&&l instanceof l&&Nu.call(l)==AI}var op=Sv?$r(Sv):D2;function LZ(i){return lb(i)&&i>=-io&&i<=io}var pb=Tv?$r(Tv):q2;function pc(i){return typeof i=="string"||!ye(i)&&kt(i)&&Qt(i)==Ca}function zr(i){return typeof i=="symbol"||kt(i)&&Qt(i)==Su}var Vi=Pv?$r(Pv):L2;function UZ(i){return i===r}function FZ(i){return kt(i)&&Wt(i)==Ma}function VZ(i){return kt(i)&&Qt(i)==aE}var BZ=nc(Of),HZ=nc(function(i,s){return i<=s});function mb(i){if(!i)return[];if(lr(i))return pc(i)?rn(i):cr(i);if(La&&i[La])return kI(i[La]());var s=Wt(i),l=s==en?vf:s==tn?Ou:Bi;return l(i)}function Fn(i){if(!i)return i===0?i:0;if(i=Dr(i),i===Mo||i===-Mo){var s=i<0?-1:1;return s*YP}return i===i?i:0}function be(i){var s=Fn(i),l=s%1;return s===s?l?s-l:s:0}function hb(i){return i?Fo(be(i),0,vn):0}function Dr(i){if(typeof i=="number")return i;if(zr(i))return xu;if(vt(i)){var s=typeof i.valueOf=="function"?i.valueOf():i;i=vt(s)?s+"":s}if(typeof i!="string")return i===0?i:+i;i=jv(i);var l=TE.test(i);return l||EE.test(i)?sI(i.slice(2),l?2:8):SE.test(i)?xu:+i}function gb(i){return wn(i,dr(i))}function JZ(i){return i?Fo(be(i),-io,io):i===0?i:0}function Be(i){return i==null?"":kr(i)}var WZ=Li(function(i,s){if(Xa(s)||lr(s)){wn(s,jt(s),i);return}for(var l in s)We.call(s,l)&&Ha(i,l,s[l])}),yb=Li(function(i,s){wn(s,dr(s),i)}),mc=Li(function(i,s,l,p){wn(s,dr(s),i,p)}),GZ=Li(function(i,s,l,p){wn(s,jt(s),i,p)}),KZ=qn(zf);function YZ(i,s){var l=qi(i);return s==null?l:Gv(l,s)}var XZ=Te(function(i,s){i=Xe(i);var l=-1,p=s.length,g=p>2?s[2]:r;for(g&&er(s[0],s[1],g)&&(p=1);++l<p;)for(var b=s[l],x=dr(b),k=-1,T=x.length;++k<T;){var C=x[k],M=i[C];(M===r||on(M,Ci[C])&&!We.call(i,C))&&(i[C]=b[C])}return i}),QZ=Te(function(i){return i.push(r,j0),xr(_b,r,i)});function ej(i,s){return Iv(i,ue(s,3),bn)}function tj(i,s){return Iv(i,ue(s,3),Tf)}function rj(i,s){return i==null?i:Sf(i,ue(s,3),dr)}function nj(i,s){return i==null?i:e0(i,ue(s,3),dr)}function oj(i,s){return i&&bn(i,ue(s,3))}function ij(i,s){return i&&Tf(i,ue(s,3))}function aj(i){return i==null?[]:Gu(i,jt(i))}function sj(i){return i==null?[]:Gu(i,dr(i))}function ip(i,s,l){var p=i==null?r:Vo(i,s);return p===r?l:p}function uj(i,s){return i!=null&&C0(i,s,R2)}function ap(i,s){return i!=null&&C0(i,s,O2)}var cj=E0(function(i,s,l){s!=null&&typeof s.toString!="function"&&(s=Au.call(s)),i[s]=l},up(fr)),lj=E0(function(i,s,l){s!=null&&typeof s.toString!="function"&&(s=Au.call(s)),We.call(i,s)?i[s].push(l):i[s]=[l]},ue),dj=Te(Wa);function jt(i){return lr(i)?Jv(i):Rf(i)}function dr(i){return lr(i)?Jv(i,!0):U2(i)}function fj(i,s){var l={};return s=ue(s,3),bn(i,function(p,g,b){Mn(l,s(p,g,b),p)}),l}function pj(i,s){var l={};return s=ue(s,3),bn(i,function(p,g,b){Mn(l,g,s(p,g,b))}),l}var mj=Li(function(i,s,l){Ku(i,s,l)}),_b=Li(function(i,s,l,p){Ku(i,s,l,p)}),hj=qn(function(i,s){var l={};if(i==null)return l;var p=!1;s=pt(s,function(b){return b=mo(b,i),p||(p=b.length>1),b}),wn(i,Bf(i),l),p&&(l=Ar(l,h|y|v,cR));for(var g=s.length;g--;)Cf(l,s[g]);return l});function gj(i,s){return vb(i,dc(ue(s)))}var yj=qn(function(i,s){return i==null?{}:V2(i,s)});function vb(i,s){if(i==null)return{};var l=pt(Bf(i),function(p){return[p]});return s=ue(s),l0(i,l,function(p,g){return s(p,g[0])})}function _j(i,s,l){s=mo(s,i);var p=-1,g=s.length;for(g||(g=1,i=r);++p<g;){var b=i==null?r:i[xn(s[p])];b===r&&(p=g,b=l),i=Un(b)?b.call(i):b}return i}function vj(i,s,l){return i==null?i:Ka(i,s,l)}function bj(i,s,l,p){return p=typeof p=="function"?p:r,i==null?i:Ka(i,s,l,p)}var bb=O0(jt),wb=O0(dr);function wj(i,s,l){var p=ye(i),g=p||go(i)||Vi(i);if(s=ue(s,4),l==null){var b=i&&i.constructor;g?l=p?new b:[]:vt(i)?l=Un(b)?qi(Du(i)):{}:l={}}return(g?Zr:bn)(i,function(x,k,T){return s(l,x,k,T)}),l}function xj(i,s){return i==null?!0:Cf(i,s)}function $j(i,s,l){return i==null?i:h0(i,s,qf(l))}function kj(i,s,l,p){return p=typeof p=="function"?p:r,i==null?i:h0(i,s,qf(l),p)}function Bi(i){return i==null?[]:_f(i,jt(i))}function zj(i){return i==null?[]:_f(i,dr(i))}function Sj(i,s,l){return l===r&&(l=s,s=r),l!==r&&(l=Dr(l),l=l===l?l:0),s!==r&&(s=Dr(s),s=s===s?s:0),Fo(Dr(i),s,l)}function Tj(i,s,l){return s=Fn(s),l===r?(l=s,s=0):l=Fn(l),i=Dr(i),Z2(i,s,l)}function Pj(i,s,l){if(l&&typeof l!="boolean"&&er(i,s,l)&&(s=l=r),l===r&&(typeof s=="boolean"?(l=s,s=r):typeof i=="boolean"&&(l=i,i=r)),i===r&&s===r?(i=0,s=1):(i=Fn(i),s===r?(s=i,i=0):s=Fn(s)),i>s){var p=i;i=s,s=p}if(l||i%1||s%1){var g=Bv();return Jt(i+g*(s-i+aI("1e-"+((g+"").length-1))),s)}return jf(i,s)}var Ej=Ui(function(i,s,l){return s=s.toLowerCase(),i+(l?xb(s):s)});function xb(i){return sp(Be(i).toLowerCase())}function $b(i){return i=Be(i),i&&i.replace(RE,vI).replace(KE,"")}function Ij(i,s,l){i=Be(i),s=kr(s);var p=i.length;l=l===r?p:Fo(be(l),0,p);var g=l;return l-=s.length,l>=0&&i.slice(l,g)==s}function Rj(i){return i=Be(i),i&&dE.test(i)?i.replace(ev,bI):i}function Oj(i){return i=Be(i),i&&yE.test(i)?i.replace(tf,"\\$&"):i}var Zj=Ui(function(i,s,l){return i+(l?"-":"")+s.toLowerCase()}),jj=Ui(function(i,s,l){return i+(l?" ":"")+s.toLowerCase()}),Nj=S0("toLowerCase");function Aj(i,s,l){i=Be(i),s=be(s);var p=s?Ai(i):0;if(!s||p>=s)return i;var g=(s-p)/2;return rc(Fu(g),l)+i+rc(Uu(g),l)}function Cj(i,s,l){i=Be(i),s=be(s);var p=s?Ai(i):0;return s&&p<s?i+rc(s-p,l):i}function Mj(i,s,l){i=Be(i),s=be(s);var p=s?Ai(i):0;return s&&p<s?rc(s-p,l)+i:i}function Dj(i,s,l){return l||s==null?s=0:s&&(s=+s),HI(Be(i).replace(rf,""),s||0)}function qj(i,s,l){return(l?er(i,s,l):s===r)?s=1:s=be(s),Nf(Be(i),s)}function Lj(){var i=arguments,s=Be(i[0]);return i.length<3?s:s.replace(i[1],i[2])}var Uj=Ui(function(i,s,l){return i+(l?"_":"")+s.toLowerCase()});function Fj(i,s,l){return l&&typeof l!="number"&&er(i,s,l)&&(s=l=r),l=l===r?vn:l>>>0,l?(i=Be(i),i&&(typeof s=="string"||s!=null&&!op(s))&&(s=kr(s),!s&&Ni(i))?ho(rn(i),0,l):i.split(s,l)):[]}var Vj=Ui(function(i,s,l){return i+(l?" ":"")+sp(s)});function Bj(i,s,l){return i=Be(i),l=l==null?0:Fo(be(l),0,i.length),s=kr(s),i.slice(l,l+s.length)==s}function Hj(i,s,l){var p=_.templateSettings;l&&er(i,s,l)&&(s=r),i=Be(i),s=mc({},s,p,Z0);var g=mc({},s.imports,p.imports,Z0),b=jt(g),x=_f(g,b),k,T,C=0,M=s.interpolate||Tu,D="__p += '",V=bf((s.escape||Tu).source+"|"+M.source+"|"+(M===tv?zE:Tu).source+"|"+(s.evaluate||Tu).source+"|$","g"),re="//# sourceURL="+(We.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++tI+"]")+`
`;i.replace(V,function(fe,Ie,Ae,Sr,tr,Tr){return Ae||(Ae=Sr),D+=i.slice(C,Tr).replace(OE,wI),Ie&&(k=!0,D+=`' +
__e(`+Ie+`) +
'`),tr&&(T=!0,D+=`';
`+tr+`;
__p += '`),Ae&&(D+=`' +
((__t = (`+Ae+`)) == null ? '' : __t) +
'`),C=Tr+fe.length,fe}),D+=`';
`;var de=We.call(s,"variable")&&s.variable;if(!de)D=`with (obj) {
`+D+`
}
`;else if($E.test(de))throw new ge(c);D=(T?D.replace(sE,""):D).replace(uE,"$1").replace(cE,"$1;"),D="function("+(de||"obj")+`) {
`+(de?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(k?", __e = _.escape":"")+(T?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+D+`return __p
}`;var xe=zb(function(){return Ve(b,re+"return "+D).apply(r,x)});if(xe.source=D,np(xe))throw xe;return xe}function Jj(i){return Be(i).toLowerCase()}function Wj(i){return Be(i).toUpperCase()}function Gj(i,s,l){if(i=Be(i),i&&(l||s===r))return jv(i);if(!i||!(s=kr(s)))return i;var p=rn(i),g=rn(s),b=Nv(p,g),x=Av(p,g)+1;return ho(p,b,x).join("")}function Kj(i,s,l){if(i=Be(i),i&&(l||s===r))return i.slice(0,Mv(i)+1);if(!i||!(s=kr(s)))return i;var p=rn(i),g=Av(p,rn(s))+1;return ho(p,0,g).join("")}function Yj(i,s,l){if(i=Be(i),i&&(l||s===r))return i.replace(rf,"");if(!i||!(s=kr(s)))return i;var p=rn(i),g=Nv(p,rn(s));return ho(p,g).join("")}function Xj(i,s){var l=tt,p=wr;if(vt(s)){var g="separator"in s?s.separator:g;l="length"in s?be(s.length):l,p="omission"in s?kr(s.omission):p}i=Be(i);var b=i.length;if(Ni(i)){var x=rn(i);b=x.length}if(l>=b)return i;var k=l-Ai(p);if(k<1)return p;var T=x?ho(x,0,k).join(""):i.slice(0,k);if(g===r)return T+p;if(x&&(k+=T.length-k),op(g)){if(i.slice(k).search(g)){var C,M=T;for(g.global||(g=bf(g.source,Be(rv.exec(g))+"g")),g.lastIndex=0;C=g.exec(M);)var D=C.index;T=T.slice(0,D===r?k:D)}}else if(i.indexOf(kr(g),k)!=k){var V=T.lastIndexOf(g);V>-1&&(T=T.slice(0,V))}return T+p}function Qj(i){return i=Be(i),i&&lE.test(i)?i.replace(Q_,PI):i}var eN=Ui(function(i,s,l){return i+(l?" ":"")+s.toUpperCase()}),sp=S0("toUpperCase");function kb(i,s,l){return i=Be(i),s=l?r:s,s===r?$I(i)?RI(i):mI(i):i.match(s)||[]}var zb=Te(function(i,s){try{return xr(i,r,s)}catch(l){return np(l)?l:new ge(l)}}),tN=qn(function(i,s){return Zr(s,function(l){l=xn(l),Mn(i,l,tp(i[l],i))}),i});function rN(i){var s=i==null?0:i.length,l=ue();return i=s?pt(i,function(p){if(typeof p[1]!="function")throw new jr(u);return[l(p[0]),p[1]]}):[],Te(function(p){for(var g=-1;++g<s;){var b=i[g];if(xr(b[0],this,p))return xr(b[1],this,p)}})}function nN(i){return P2(Ar(i,h))}function up(i){return function(){return i}}function oN(i,s){return i==null||i!==i?s:i}var iN=P0(),aN=P0(!0);function fr(i){return i}function cp(i){return o0(typeof i=="function"?i:Ar(i,h))}function sN(i){return a0(Ar(i,h))}function uN(i,s){return s0(i,Ar(s,h))}var cN=Te(function(i,s){return function(l){return Wa(l,i,s)}}),lN=Te(function(i,s){return function(l){return Wa(i,l,s)}});function lp(i,s,l){var p=jt(s),g=Gu(s,p);l==null&&!(vt(s)&&(g.length||!p.length))&&(l=s,s=i,i=this,g=Gu(s,jt(s)));var b=!(vt(l)&&"chain"in l)||!!l.chain,x=Un(i);return Zr(g,function(k){var T=s[k];i[k]=T,x&&(i.prototype[k]=function(){var C=this.__chain__;if(b||C){var M=i(this.__wrapped__),D=M.__actions__=cr(this.__actions__);return D.push({func:T,args:arguments,thisArg:i}),M.__chain__=C,M}return T.apply(i,so([this.value()],arguments))})}),i}function dN(){return Zt._===this&&(Zt._=CI),this}function dp(){}function fN(i){return i=be(i),Te(function(s){return u0(s,i)})}var pN=Uf(pt),mN=Uf(Ev),hN=Uf(pf);function Sb(i){return Gf(i)?mf(xn(i)):B2(i)}function gN(i){return function(s){return i==null?r:Vo(i,s)}}var yN=I0(),_N=I0(!0);function fp(){return[]}function pp(){return!1}function vN(){return{}}function bN(){return""}function wN(){return!0}function xN(i,s){if(i=be(i),i<1||i>io)return[];var l=vn,p=Jt(i,vn);s=ue(s),i-=vn;for(var g=yf(p,s);++l<i;)s(l);return g}function $N(i){return ye(i)?pt(i,xn):zr(i)?[i]:cr(H0(Be(i)))}function kN(i){var s=++NI;return Be(i)+s}var zN=tc(function(i,s){return i+s},0),SN=Ff("ceil"),TN=tc(function(i,s){return i/s},1),PN=Ff("floor");function EN(i){return i&&i.length?Wu(i,fr,Pf):r}function IN(i,s){return i&&i.length?Wu(i,ue(s,2),Pf):r}function RN(i){return Ov(i,fr)}function ON(i,s){return Ov(i,ue(s,2))}function ZN(i){return i&&i.length?Wu(i,fr,Of):r}function jN(i,s){return i&&i.length?Wu(i,ue(s,2),Of):r}var NN=tc(function(i,s){return i*s},1),AN=Ff("round"),CN=tc(function(i,s){return i-s},0);function MN(i){return i&&i.length?gf(i,fr):0}function DN(i,s){return i&&i.length?gf(i,ue(s,2)):0}return _.after=sZ,_.ary=nb,_.assign=WZ,_.assignIn=yb,_.assignInWith=mc,_.assignWith=GZ,_.at=KZ,_.before=ob,_.bind=tp,_.bindAll=tN,_.bindKey=ib,_.castArray=vZ,_.chain=eb,_.chunk=PR,_.compact=ER,_.concat=IR,_.cond=rN,_.conforms=nN,_.constant=up,_.countBy=MO,_.create=YZ,_.curry=ab,_.curryRight=sb,_.debounce=ub,_.defaults=XZ,_.defaultsDeep=QZ,_.defer=uZ,_.delay=cZ,_.difference=RR,_.differenceBy=OR,_.differenceWith=ZR,_.drop=jR,_.dropRight=NR,_.dropRightWhile=AR,_.dropWhile=CR,_.fill=MR,_.filter=qO,_.flatMap=FO,_.flatMapDeep=VO,_.flatMapDepth=BO,_.flatten=K0,_.flattenDeep=DR,_.flattenDepth=qR,_.flip=lZ,_.flow=iN,_.flowRight=aN,_.fromPairs=LR,_.functions=aj,_.functionsIn=sj,_.groupBy=HO,_.initial=FR,_.intersection=VR,_.intersectionBy=BR,_.intersectionWith=HR,_.invert=cj,_.invertBy=lj,_.invokeMap=WO,_.iteratee=cp,_.keyBy=GO,_.keys=jt,_.keysIn=dr,_.map=uc,_.mapKeys=fj,_.mapValues=pj,_.matches=sN,_.matchesProperty=uN,_.memoize=lc,_.merge=mj,_.mergeWith=_b,_.method=cN,_.methodOf=lN,_.mixin=lp,_.negate=dc,_.nthArg=fN,_.omit=hj,_.omitBy=gj,_.once=dZ,_.orderBy=KO,_.over=pN,_.overArgs=fZ,_.overEvery=mN,_.overSome=hN,_.partial=rp,_.partialRight=cb,_.partition=YO,_.pick=yj,_.pickBy=vb,_.property=Sb,_.propertyOf=gN,_.pull=KR,_.pullAll=X0,_.pullAllBy=YR,_.pullAllWith=XR,_.pullAt=QR,_.range=yN,_.rangeRight=_N,_.rearg=pZ,_.reject=eZ,_.remove=eO,_.rest=mZ,_.reverse=Qf,_.sampleSize=rZ,_.set=vj,_.setWith=bj,_.shuffle=nZ,_.slice=tO,_.sortBy=aZ,_.sortedUniq=uO,_.sortedUniqBy=cO,_.split=Fj,_.spread=hZ,_.tail=lO,_.take=dO,_.takeRight=fO,_.takeRightWhile=pO,_.takeWhile=mO,_.tap=EO,_.throttle=gZ,_.thru=sc,_.toArray=mb,_.toPairs=bb,_.toPairsIn=wb,_.toPath=$N,_.toPlainObject=gb,_.transform=wj,_.unary=yZ,_.union=hO,_.unionBy=gO,_.unionWith=yO,_.uniq=_O,_.uniqBy=vO,_.uniqWith=bO,_.unset=xj,_.unzip=ep,_.unzipWith=Q0,_.update=$j,_.updateWith=kj,_.values=Bi,_.valuesIn=zj,_.without=wO,_.words=kb,_.wrap=_Z,_.xor=xO,_.xorBy=$O,_.xorWith=kO,_.zip=zO,_.zipObject=SO,_.zipObjectDeep=TO,_.zipWith=PO,_.entries=bb,_.entriesIn=wb,_.extend=yb,_.extendWith=mc,lp(_,_),_.add=zN,_.attempt=zb,_.camelCase=Ej,_.capitalize=xb,_.ceil=SN,_.clamp=Sj,_.clone=bZ,_.cloneDeep=xZ,_.cloneDeepWith=$Z,_.cloneWith=wZ,_.conformsTo=kZ,_.deburr=$b,_.defaultTo=oN,_.divide=TN,_.endsWith=Ij,_.eq=on,_.escape=Rj,_.escapeRegExp=Oj,_.every=DO,_.find=LO,_.findIndex=W0,_.findKey=ej,_.findLast=UO,_.findLastIndex=G0,_.findLastKey=tj,_.floor=PN,_.forEach=tb,_.forEachRight=rb,_.forIn=rj,_.forInRight=nj,_.forOwn=oj,_.forOwnRight=ij,_.get=ip,_.gt=zZ,_.gte=SZ,_.has=uj,_.hasIn=ap,_.head=Y0,_.identity=fr,_.includes=JO,_.indexOf=UR,_.inRange=Tj,_.invoke=dj,_.isArguments=Jo,_.isArray=ye,_.isArrayBuffer=TZ,_.isArrayLike=lr,_.isArrayLikeObject=zt,_.isBoolean=PZ,_.isBuffer=go,_.isDate=EZ,_.isElement=IZ,_.isEmpty=RZ,_.isEqual=OZ,_.isEqualWith=ZZ,_.isError=np,_.isFinite=jZ,_.isFunction=Un,_.isInteger=lb,_.isLength=fc,_.isMap=db,_.isMatch=NZ,_.isMatchWith=AZ,_.isNaN=CZ,_.isNative=MZ,_.isNil=qZ,_.isNull=DZ,_.isNumber=fb,_.isObject=vt,_.isObjectLike=kt,_.isPlainObject=es,_.isRegExp=op,_.isSafeInteger=LZ,_.isSet=pb,_.isString=pc,_.isSymbol=zr,_.isTypedArray=Vi,_.isUndefined=UZ,_.isWeakMap=FZ,_.isWeakSet=VZ,_.join=JR,_.kebabCase=Zj,_.last=Mr,_.lastIndexOf=WR,_.lowerCase=jj,_.lowerFirst=Nj,_.lt=BZ,_.lte=HZ,_.max=EN,_.maxBy=IN,_.mean=RN,_.meanBy=ON,_.min=ZN,_.minBy=jN,_.stubArray=fp,_.stubFalse=pp,_.stubObject=vN,_.stubString=bN,_.stubTrue=wN,_.multiply=NN,_.nth=GR,_.noConflict=dN,_.noop=dp,_.now=cc,_.pad=Aj,_.padEnd=Cj,_.padStart=Mj,_.parseInt=Dj,_.random=Pj,_.reduce=XO,_.reduceRight=QO,_.repeat=qj,_.replace=Lj,_.result=_j,_.round=AN,_.runInContext=S,_.sample=tZ,_.size=oZ,_.snakeCase=Uj,_.some=iZ,_.sortedIndex=rO,_.sortedIndexBy=nO,_.sortedIndexOf=oO,_.sortedLastIndex=iO,_.sortedLastIndexBy=aO,_.sortedLastIndexOf=sO,_.startCase=Vj,_.startsWith=Bj,_.subtract=CN,_.sum=MN,_.sumBy=DN,_.template=Hj,_.times=xN,_.toFinite=Fn,_.toInteger=be,_.toLength=hb,_.toLower=Jj,_.toNumber=Dr,_.toSafeInteger=JZ,_.toString=Be,_.toUpper=Wj,_.trim=Gj,_.trimEnd=Kj,_.trimStart=Yj,_.truncate=Xj,_.unescape=Qj,_.uniqueId=kN,_.upperCase=eN,_.upperFirst=sp,_.each=tb,_.eachRight=rb,_.first=Y0,lp(_,(function(){var i={};return bn(_,function(s,l){We.call(_.prototype,l)||(i[l]=s)}),i})(),{chain:!1}),_.VERSION=n,Zr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){_[i].placeholder=_}),Zr(["drop","take"],function(i,s){Ze.prototype[i]=function(l){l=l===r?1:It(be(l),0);var p=this.__filtered__&&!s?new Ze(this):this.clone();return p.__filtered__?p.__takeCount__=Jt(l,p.__takeCount__):p.__views__.push({size:Jt(l,vn),type:i+(p.__dir__<0?"Right":"")}),p},Ze.prototype[i+"Right"]=function(l){return this.reverse()[i](l).reverse()}}),Zr(["filter","map","takeWhile"],function(i,s){var l=s+1,p=l==wu||l==KP;Ze.prototype[i]=function(g){var b=this.clone();return b.__iteratees__.push({iteratee:ue(g,3),type:l}),b.__filtered__=b.__filtered__||p,b}}),Zr(["head","last"],function(i,s){var l="take"+(s?"Right":"");Ze.prototype[i]=function(){return this[l](1).value()[0]}}),Zr(["initial","tail"],function(i,s){var l="drop"+(s?"":"Right");Ze.prototype[i]=function(){return this.__filtered__?new Ze(this):this[l](1)}}),Ze.prototype.compact=function(){return this.filter(fr)},Ze.prototype.find=function(i){return this.filter(i).head()},Ze.prototype.findLast=function(i){return this.reverse().find(i)},Ze.prototype.invokeMap=Te(function(i,s){return typeof i=="function"?new Ze(this):this.map(function(l){return Wa(l,i,s)})}),Ze.prototype.reject=function(i){return this.filter(dc(ue(i)))},Ze.prototype.slice=function(i,s){i=be(i);var l=this;return l.__filtered__&&(i>0||s<0)?new Ze(l):(i<0?l=l.takeRight(-i):i&&(l=l.drop(i)),s!==r&&(s=be(s),l=s<0?l.dropRight(-s):l.take(s-i)),l)},Ze.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},Ze.prototype.toArray=function(){return this.take(vn)},bn(Ze.prototype,function(i,s){var l=/^(?:filter|find|map|reject)|While$/.test(s),p=/^(?:head|last)$/.test(s),g=_[p?"take"+(s=="last"?"Right":""):s],b=p||/^find/.test(s);g&&(_.prototype[s]=function(){var x=this.__wrapped__,k=p?[1]:arguments,T=x instanceof Ze,C=k[0],M=T||ye(x),D=function(Ie){var Ae=g.apply(_,so([Ie],k));return p&&V?Ae[0]:Ae};M&&l&&typeof C=="function"&&C.length!=1&&(T=M=!1);var V=this.__chain__,re=!!this.__actions__.length,de=b&&!V,xe=T&&!re;if(!b&&M){x=xe?x:new Ze(this);var fe=i.apply(x,k);return fe.__actions__.push({func:sc,args:[D],thisArg:r}),new Nr(fe,V)}return de&&xe?i.apply(this,k):(fe=this.thru(D),de?p?fe.value()[0]:fe.value():fe)})}),Zr(["pop","push","shift","sort","splice","unshift"],function(i){var s=Zu[i],l=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",p=/^(?:pop|shift)$/.test(i);_.prototype[i]=function(){var g=arguments;if(p&&!this.__chain__){var b=this.value();return s.apply(ye(b)?b:[],g)}return this[l](function(x){return s.apply(ye(x)?x:[],g)})}}),bn(Ze.prototype,function(i,s){var l=_[s];if(l){var p=l.name+"";We.call(Di,p)||(Di[p]=[]),Di[p].push({name:s,func:l})}}),Di[ec(r,I).name]=[{name:"wrapper",func:r}],Ze.prototype.clone=QI,Ze.prototype.reverse=e2,Ze.prototype.value=t2,_.prototype.at=IO,_.prototype.chain=RO,_.prototype.commit=OO,_.prototype.next=ZO,_.prototype.plant=NO,_.prototype.reverse=AO,_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=CO,_.prototype.first=_.prototype.head,La&&(_.prototype[La]=jO),_}),co=OI();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Zt._=co,define(function(){return co})):Do?((Do.exports=co)._=co,cf._=co):Zt._=co}).call(e)}),Fee=Object.freeze({status:"aborted"});function P(e,t,r){function n(c,d){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:d,constr:u,traits:new Set},enumerable:!1}),c._zod.traits.has(e))return;c._zod.traits.add(e),t(c,d);let f=u.prototype,m=Object.keys(f);for(let h=0;h<m.length;h++){let y=m[h];y in c||(c[y]=f[y].bind(c))}}let o=r?.Parent??Object;class a extends o{}Object.defineProperty(a,"name",{value:e});function u(c){var d;let f=r?.Parent?new a:this;n(f,c),(d=f._zod).deferred??(d.deferred=[]);for(let m of f._zod.deferred)m();return f}return Object.defineProperty(u,"init",{value:n}),Object.defineProperty(u,Symbol.hasInstance,{value:c=>r?.Parent&&c instanceof r.Parent?!0:c?._zod?.traits?.has(e)}),Object.defineProperty(u,"name",{value:e}),u}var Vee=Symbol("zod_brand"),za=class extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}},n_=class extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}},Ky={};function Gr(e){return e&&Object.assign(Ky,e),Ky}var qe={};uu(qe,{BIGINT_FORMAT_RANGES:()=>Yz,Class:()=>OU,NUMBER_FORMAT_RANGES:()=>Kz,aborted:()=>Ti,allowsEval:()=>Jz,assert:()=>lU,assertEqual:()=>aU,assertIs:()=>uU,assertNever:()=>cU,assertNotEqual:()=>sU,assignProp:()=>Ao,base64ToUint8Array:()=>Xz,base64urlToUint8Array:()=>PU,cached:()=>cu,captureStackTrace:()=>i_,cleanEnum:()=>TU,cleanRegex:()=>zd,clone:()=>jn,cloneDef:()=>fU,createTransparentProxy:()=>vU,defineLazy:()=>Ne,esc:()=>Xy,escapeRegex:()=>oo,extend:()=>xU,finalizeIssue:()=>Kr,floatSafeRemainder:()=>Bz,getElementAtPath:()=>pU,getEnumValues:()=>o_,getLengthableOrigin:()=>Td,getParsedType:()=>_U,getSizableOrigin:()=>Sd,hexToUint8Array:()=>IU,isObject:()=>Sa,isPlainObject:()=>Pi,issue:()=>gd,joinValues:()=>Yy,jsonStringifyReplacer:()=>md,merge:()=>kU,mergeDefs:()=>Co,normalizeParams:()=>B,nullish:()=>Ei,numKeys:()=>yU,objectClone:()=>dU,omit:()=>wU,optionalKeys:()=>Gz,partial:()=>zU,pick:()=>bU,prefixIssues:()=>yn,primitiveTypes:()=>Wz,promiseAllObject:()=>mU,propertyKeyTypes:()=>hd,randomString:()=>hU,required:()=>SU,safeExtend:()=>$U,shallowClone:()=>gU,slugify:()=>Hz,stringifyPrimitive:()=>a_,uint8ArrayToBase64:()=>Qz,uint8ArrayToBase64url:()=>EU,uint8ArrayToHex:()=>RU,unwrapMessage:()=>ou});function aU(e){return e}function sU(e){return e}function uU(e){}function cU(e){throw new Error("Unexpected value in exhaustive check")}function lU(e){}function o_(e){let t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,n])=>t.indexOf(+r)===-1).map(([r,n])=>n)}function Yy(e,t="|"){return e.map(r=>a_(r)).join(t)}function md(e,t){return typeof t=="bigint"?t.toString():t}function cu(e){return{get value(){{let t=e();return Object.defineProperty(this,"value",{value:t}),t}throw new Error("cached value already set")}}}function Ei(e){return e==null}function zd(e){let t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function Bz(e,t){let r=(e.toString().split(".")[1]||"").length,n=t.toString(),o=(n.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(n)){let d=n.match(/\d?e-(\d?)/);d?.[1]&&(o=Number.parseInt(d[1]))}let a=r>o?r:o,u=Number.parseInt(e.toFixed(a).replace(".","")),c=Number.parseInt(t.toFixed(a).replace(".",""));return u%c/10**a}var xz=Symbol("evaluating");function Ne(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==xz)return n===void 0&&(n=xz,n=r()),n},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}function dU(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function Ao(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Co(...e){let t={};for(let r of e){let n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function fU(e){return Co(e._zod.def)}function pU(e,t){return t?t.reduce((r,n)=>r?.[n],e):e}function mU(e){let t=Object.keys(e),r=t.map(n=>e[n]);return Promise.all(r).then(n=>{let o={};for(let a=0;a<t.length;a++)o[t[a]]=n[a];return o})}function hU(e=10){let t="abcdefghijklmnopqrstuvwxyz",r="";for(let n=0;n<e;n++)r+=t[Math.floor(Math.random()*t.length)];return r}function Xy(e){return JSON.stringify(e)}function Hz(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}var i_="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Sa(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}var Jz=cu(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{let e=Function;return new e(""),!0}catch{return!1}});function Pi(e){if(Sa(e)===!1)return!1;let t=e.constructor;if(t===void 0||typeof t!="function")return!0;let r=t.prototype;return!(Sa(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function gU(e){return Pi(e)?{...e}:Array.isArray(e)?[...e]:e}function yU(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}var _U=e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(e)?"array":e===null?"null":e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?"promise":typeof Map<"u"&&e instanceof Map?"map":typeof Set<"u"&&e instanceof Set?"set":typeof Date<"u"&&e instanceof Date?"date":typeof File<"u"&&e instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${t}`)}},hd=new Set(["string","number","symbol"]),Wz=new Set(["string","number","bigint","boolean","symbol","undefined"]);function oo(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function jn(e,t,r){let n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function B(e){let t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function vU(e){let t;return new Proxy({},{get(r,n,o){return t??(t=e()),Reflect.get(t,n,o)},set(r,n,o,a){return t??(t=e()),Reflect.set(t,n,o,a)},has(r,n){return t??(t=e()),Reflect.has(t,n)},deleteProperty(r,n){return t??(t=e()),Reflect.deleteProperty(t,n)},ownKeys(r){return t??(t=e()),Reflect.ownKeys(t)},getOwnPropertyDescriptor(r,n){return t??(t=e()),Reflect.getOwnPropertyDescriptor(t,n)},defineProperty(r,n,o){return t??(t=e()),Reflect.defineProperty(t,n,o)}})}function a_(e){return typeof e=="bigint"?e.toString()+"n":typeof e=="string"?`"${e}"`:`${e}`}function Gz(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}var Kz={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},Yz={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function bU(e,t){let r=e._zod.def,n=Co(e._zod.def,{get shape(){let o={};for(let a in t){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&(o[a]=r.shape[a])}return Ao(this,"shape",o),o},checks:[]});return jn(e,n)}function wU(e,t){let r=e._zod.def,n=Co(e._zod.def,{get shape(){let o={...e._zod.def.shape};for(let a in t){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&delete o[a]}return Ao(this,"shape",o),o},checks:[]});return jn(e,n)}function xU(e,t){if(!Pi(t))throw new Error("Invalid input to extend: expected a plain object");let r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let n=Co(e._zod.def,{get shape(){let o={...e._zod.def.shape,...t};return Ao(this,"shape",o),o},checks:[]});return jn(e,n)}function $U(e,t){if(!Pi(t))throw new Error("Invalid input to safeExtend: expected a plain object");let r={...e._zod.def,get shape(){let n={...e._zod.def.shape,...t};return Ao(this,"shape",n),n},checks:e._zod.def.checks};return jn(e,r)}function kU(e,t){let r=Co(e._zod.def,{get shape(){let n={...e._zod.def.shape,...t._zod.def.shape};return Ao(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return jn(e,r)}function zU(e,t,r){let n=Co(t._zod.def,{get shape(){let o=t._zod.def.shape,a={...o};if(r)for(let u in r){if(!(u in o))throw new Error(`Unrecognized key: "${u}"`);r[u]&&(a[u]=e?new e({type:"optional",innerType:o[u]}):o[u])}else for(let u in o)a[u]=e?new e({type:"optional",innerType:o[u]}):o[u];return Ao(this,"shape",a),a},checks:[]});return jn(t,n)}function SU(e,t,r){let n=Co(t._zod.def,{get shape(){let o=t._zod.def.shape,a={...o};if(r)for(let u in r){if(!(u in a))throw new Error(`Unrecognized key: "${u}"`);r[u]&&(a[u]=new e({type:"nonoptional",innerType:o[u]}))}else for(let u in o)a[u]=new e({type:"nonoptional",innerType:o[u]});return Ao(this,"shape",a),a},checks:[]});return jn(t,n)}function Ti(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function yn(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function ou(e){return typeof e=="string"?e:e?.message}function Kr(e,t,r){let n={...e,path:e.path??[]};if(!e.message){let o=ou(e.inst?._zod.def?.error?.(e))??ou(t?.error?.(e))??ou(r.customError?.(e))??ou(r.localeError?.(e))??"Invalid input";n.message=o}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function Sd(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function Td(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function gd(...e){let[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}function TU(e){return Object.entries(e).filter(([t,r])=>Number.isNaN(Number.parseInt(t,10))).map(t=>t[1])}function Xz(e){let t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}function Qz(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}function PU(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r="=".repeat((4-t.length%4)%4);return Xz(t+r)}function EU(e){return Qz(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function IU(e){let t=e.replace(/^0x/,"");if(t.length%2!==0)throw new Error("Invalid hex string length");let r=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2)r[n/2]=Number.parseInt(t.slice(n,n+2),16);return r}function RU(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}var OU=class{constructor(...e){}},eS=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,md,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},tS=P("$ZodError",eS),Pd=P("$ZodError",eS,{Parent:Error});function ZU(e,t=r=>r.message){let r={},n=[];for(let o of e.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(t(o))):n.push(t(o));return{formErrors:n,fieldErrors:r}}function jU(e,t=r=>r.message){let r={_errors:[]},n=o=>{for(let a of o.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(u=>n({issues:u}));else if(a.code==="invalid_key")n({issues:a.issues});else if(a.code==="invalid_element")n({issues:a.issues});else if(a.path.length===0)r._errors.push(t(a));else{let u=r,c=0;for(;c<a.path.length;){let d=a.path[c];c===a.path.length-1?(u[d]=u[d]||{_errors:[]},u[d]._errors.push(t(a))):u[d]=u[d]||{_errors:[]},u=u[d],c++}}};return n(e),r}var Ed=e=>(t,r,n,o)=>{let a=n?Object.assign(n,{async:!1}):{async:!1},u=t._zod.run({value:r,issues:[]},a);if(u instanceof Promise)throw new za;if(u.issues.length){let c=new(o?.Err??e)(u.issues.map(d=>Kr(d,a,Gr())));throw i_(c,o?.callee),c}return u.value},$z=Ed(Pd),Id=e=>async(t,r,n,o)=>{let a=n?Object.assign(n,{async:!0}):{async:!0},u=t._zod.run({value:r,issues:[]},a);if(u instanceof Promise&&(u=await u),u.issues.length){let c=new(o?.Err??e)(u.issues.map(d=>Kr(d,a,Gr())));throw i_(c,o?.callee),c}return u.value},kz=Id(Pd),Rd=e=>(t,r,n)=>{let o=n?{...n,async:!1}:{async:!1},a=t._zod.run({value:r,issues:[]},o);if(a instanceof Promise)throw new za;return a.issues.length?{success:!1,error:new(e??tS)(a.issues.map(u=>Kr(u,o,Gr())))}:{success:!0,data:a.value}},NU=Rd(Pd),Od=e=>async(t,r,n)=>{let o=n?Object.assign(n,{async:!0}):{async:!0},a=t._zod.run({value:r,issues:[]},o);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(u=>Kr(u,o,Gr())))}:{success:!0,data:a.value}},AU=Od(Pd),CU=e=>(t,r,n)=>{let o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Ed(e)(t,r,o)},MU=e=>(t,r,n)=>Ed(e)(t,r,n),DU=e=>async(t,r,n)=>{let o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Id(e)(t,r,o)},qU=e=>async(t,r,n)=>Id(e)(t,r,n),LU=e=>(t,r,n)=>{let o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Rd(e)(t,r,o)},UU=e=>(t,r,n)=>Rd(e)(t,r,n),FU=e=>async(t,r,n)=>{let o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Od(e)(t,r,o)},VU=e=>async(t,r,n)=>Od(e)(t,r,n),lu={};uu(lu,{base64:()=>_S,base64url:()=>s_,bigint:()=>SS,boolean:()=>ES,browserEmail:()=>XU,cidrv4:()=>gS,cidrv6:()=>yS,cuid:()=>rS,cuid2:()=>nS,date:()=>wS,datetime:()=>kS,domain:()=>tF,duration:()=>uS,e164:()=>vS,email:()=>lS,emoji:()=>fS,extendedDuration:()=>BU,guid:()=>cS,hex:()=>rF,hostname:()=>eF,html5Email:()=>GU,idnEmail:()=>YU,integer:()=>TS,ipv4:()=>pS,ipv6:()=>mS,ksuid:()=>aS,lowercase:()=>OS,mac:()=>hS,md5_base64:()=>oF,md5_base64url:()=>iF,md5_hex:()=>nF,nanoid:()=>sS,null:()=>IS,number:()=>PS,rfc5322Email:()=>KU,sha1_base64:()=>sF,sha1_base64url:()=>uF,sha1_hex:()=>aF,sha256_base64:()=>lF,sha256_base64url:()=>dF,sha256_hex:()=>cF,sha384_base64:()=>pF,sha384_base64url:()=>mF,sha384_hex:()=>fF,sha512_base64:()=>gF,sha512_base64url:()=>yF,sha512_hex:()=>hF,string:()=>zS,time:()=>$S,ulid:()=>oS,undefined:()=>RS,unicodeEmail:()=>dS,uppercase:()=>ZS,uuid:()=>Ta,uuid4:()=>HU,uuid6:()=>JU,uuid7:()=>WU,xid:()=>iS});var rS=/^[cC][^\s-]{8,}$/,nS=/^[0-9a-z]+$/,oS=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,iS=/^[0-9a-vA-V]{20}$/,aS=/^[A-Za-z0-9]{27}$/,sS=/^[a-zA-Z0-9_-]{21}$/,uS=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,BU=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,cS=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Ta=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,HU=Ta(4),JU=Ta(6),WU=Ta(7),lS=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,GU=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,KU=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,dS=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,YU=dS,XU=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,QU="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function fS(){return new RegExp(QU,"u")}var pS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,mS=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,hS=e=>{let t=oo(e??":");return new RegExp(`^(?:[0-9A-F]{2}${t}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${t}){5}[0-9a-f]{2}$`)},gS=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,yS=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,_S=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,s_=/^[A-Za-z0-9_-]*$/,eF=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,tF=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,vS=/^\+(?:[0-9]){6,14}[0-9]$/,bS="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",wS=new RegExp(`^${bS}$`);function xS(e){let t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function $S(e){return new RegExp(`^${xS(e)}$`)}function kS(e){let t=xS({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let n=`${t}(?:${r.join("|")})`;return new RegExp(`^${bS}T(?:${n})$`)}var zS=e=>{let t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},SS=/^-?\d+n?$/,TS=/^-?\d+$/,PS=/^-?\d+(?:\.\d+)?/,ES=/^(?:true|false)$/i,IS=/^null$/i,RS=/^undefined$/i,OS=/^[^A-Z]*$/,ZS=/^[^a-z]*$/,rF=/^[0-9a-fA-F]*$/;function du(e,t){return new RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}function fu(e){return new RegExp(`^[A-Za-z0-9_-]{${e}}$`)}var nF=/^[0-9a-fA-F]{32}$/,oF=du(22,"=="),iF=fu(22),aF=/^[0-9a-fA-F]{40}$/,sF=du(27,"="),uF=fu(27),cF=/^[0-9a-fA-F]{64}$/,lF=du(43,"="),dF=fu(43),fF=/^[0-9a-fA-F]{96}$/,pF=du(64,""),mF=fu(64),hF=/^[0-9a-fA-F]{128}$/,gF=du(86,"=="),yF=fu(86),$t=P("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),jS={number:"number",bigint:"bigint",object:"date"},NS=P("$ZodCheckLessThan",(e,t)=>{$t.init(e,t);let r=jS[typeof t.value];e._zod.onattach.push(n=>{let o=n._zod.bag,a=(t.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<a&&(t.inclusive?o.maximum=t.value:o.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),AS=P("$ZodCheckGreaterThan",(e,t)=>{$t.init(e,t);let r=jS[typeof t.value];e._zod.onattach.push(n=>{let o=n._zod.bag,a=(t.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>a&&(t.inclusive?o.minimum=t.value:o.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),_F=P("$ZodCheckMultipleOf",(e,t)=>{$t.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):Bz(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),vF=P("$ZodCheckNumberFormat",(e,t)=>{$t.init(e,t),t.format=t.format||"float64";let r=t.format?.includes("int"),n=r?"int":"number",[o,a]=Kz[t.format];e._zod.onattach.push(u=>{let c=u._zod.bag;c.format=t.format,c.minimum=o,c.maximum=a,r&&(c.pattern=TS)}),e._zod.check=u=>{let c=u.value;if(r){if(!Number.isInteger(c)){u.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?u.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):u.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}c<o&&u.issues.push({origin:"number",input:c,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),c>a&&u.issues.push({origin:"number",input:c,code:"too_big",maximum:a,inst:e})}}),bF=P("$ZodCheckBigIntFormat",(e,t)=>{$t.init(e,t);let[r,n]=Yz[t.format];e._zod.onattach.push(o=>{let a=o._zod.bag;a.format=t.format,a.minimum=r,a.maximum=n}),e._zod.check=o=>{let a=o.value;a<r&&o.issues.push({origin:"bigint",input:a,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),a>n&&o.issues.push({origin:"bigint",input:a,code:"too_big",maximum:n,inst:e})}}),wF=P("$ZodCheckMaxSize",(e,t)=>{var r;$t.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!Ei(o)&&o.size!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{let o=n.value;o.size<=t.maximum||n.issues.push({origin:Sd(o),code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),xF=P("$ZodCheckMinSize",(e,t)=>{var r;$t.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!Ei(o)&&o.size!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{let o=n.value;o.size>=t.minimum||n.issues.push({origin:Sd(o),code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),$F=P("$ZodCheckSizeEquals",(e,t)=>{var r;$t.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!Ei(o)&&o.size!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag;o.minimum=t.size,o.maximum=t.size,o.size=t.size}),e._zod.check=n=>{let o=n.value,a=o.size;if(a===t.size)return;let u=a>t.size;n.issues.push({origin:Sd(o),...u?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),kF=P("$ZodCheckMaxLength",(e,t)=>{var r;$t.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!Ei(o)&&o.length!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{let o=n.value;if(o.length<=t.maximum)return;let a=Td(o);n.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),zF=P("$ZodCheckMinLength",(e,t)=>{var r;$t.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!Ei(o)&&o.length!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{let o=n.value;if(o.length>=t.minimum)return;let a=Td(o);n.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),SF=P("$ZodCheckLengthEquals",(e,t)=>{var r;$t.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!Ei(o)&&o.length!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag;o.minimum=t.length,o.maximum=t.length,o.length=t.length}),e._zod.check=n=>{let o=n.value,a=o.length;if(a===t.length)return;let u=Td(o),c=a>t.length;n.issues.push({origin:u,...c?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),Zd=P("$ZodCheckStringFormat",(e,t)=>{var r,n;$t.init(e,t),e._zod.onattach.push(o=>{let a=o._zod.bag;a.format=t.format,t.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=o=>{t.pattern.lastIndex=0,!t.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:t.format,input:o.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),TF=P("$ZodCheckRegex",(e,t)=>{Zd.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),PF=P("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=OS),Zd.init(e,t)}),EF=P("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=ZS),Zd.init(e,t)}),IF=P("$ZodCheckIncludes",(e,t)=>{$t.init(e,t);let r=oo(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(o=>{let a=o._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=o=>{o.value.includes(t.includes,t.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:o.value,inst:e,continue:!t.abort})}}),RF=P("$ZodCheckStartsWith",(e,t)=>{$t.init(e,t);let r=new RegExp(`^${oo(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{let o=n._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),OF=P("$ZodCheckEndsWith",(e,t)=>{$t.init(e,t);let r=new RegExp(`.*${oo(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{let o=n._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}});function zz(e,t,r){e.issues.length&&t.issues.push(...yn(r,e.issues))}var ZF=P("$ZodCheckProperty",(e,t)=>{$t.init(e,t),e._zod.check=r=>{let n=t.schema._zod.run({value:r.value[t.property],issues:[]},{});if(n instanceof Promise)return n.then(o=>zz(o,r,t.property));zz(n,r,t.property)}}),jF=P("$ZodCheckMimeType",(e,t)=>{$t.init(e,t);let r=new Set(t.mime);e._zod.onattach.push(n=>{n._zod.bag.mime=t.mime}),e._zod.check=n=>{r.has(n.value.type)||n.issues.push({code:"invalid_value",values:t.mime,input:n.value.type,inst:e,continue:!t.abort})}}),NF=P("$ZodCheckOverwrite",(e,t)=>{$t.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}}),AF=class{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let t=e.split(`
`).filter(o=>o),r=Math.min(...t.map(o=>o.length-o.trimStart().length)),n=t.map(o=>o.slice(r)).map(o=>" ".repeat(this.indent*2)+o);for(let o of n)this.content.push(o)}compile(){let e=Function,t=this?.args,r=[...(this?.content??[""]).map(n=>`  ${n}`)];return new e(...t,r.join(`
`))}},CF={major:4,minor:2,patch:1},ve=P("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=CF;let n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(let o of n)for(let a of o._zod.onattach)a(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let o=(u,c,d)=>{let f=Ti(u),m;for(let h of c){if(h._zod.def.when){if(!h._zod.def.when(u))continue}else if(f)continue;let y=u.issues.length,v=h._zod.check(u);if(v instanceof Promise&&d?.async===!1)throw new za;if(m||v instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await v,u.issues.length!==y&&(f||(f=Ti(u,y)))});else{if(u.issues.length===y)continue;f||(f=Ti(u,y))}}return m?m.then(()=>u):u},a=(u,c,d)=>{if(Ti(u))return u.aborted=!0,u;let f=o(c,n,d);if(f instanceof Promise){if(d.async===!1)throw new za;return f.then(m=>e._zod.parse(m,d))}return e._zod.parse(f,d)};e._zod.run=(u,c)=>{if(c.skipChecks)return e._zod.parse(u,c);if(c.direction==="backward"){let f=e._zod.parse({value:u.value,issues:[]},{...c,skipChecks:!0});return f instanceof Promise?f.then(m=>a(m,u,c)):a(f,u,c)}let d=e._zod.parse(u,c);if(d instanceof Promise){if(c.async===!1)throw new za;return d.then(f=>o(f,n,c))}return o(d,n,c)}}e["~standard"]={validate:o=>{try{let a=NU(e,o);return a.success?{value:a.data}:{issues:a.error?.issues}}catch{return AU(e,o).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}}),jd=P("$ZodString",(e,t)=>{ve.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??zS(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),st=P("$ZodStringFormat",(e,t)=>{Zd.init(e,t),jd.init(e,t)}),MF=P("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=cS),st.init(e,t)}),DF=P("$ZodUUID",(e,t)=>{if(t.version){let r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Ta(r))}else t.pattern??(t.pattern=Ta());st.init(e,t)}),qF=P("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=lS),st.init(e,t)}),LF=P("$ZodURL",(e,t)=>{st.init(e,t),e._zod.check=r=>{try{let n=r.value.trim(),o=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=o.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),UF=P("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=fS()),st.init(e,t)}),FF=P("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=sS),st.init(e,t)}),VF=P("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=rS),st.init(e,t)}),BF=P("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=nS),st.init(e,t)}),HF=P("$ZodULID",(e,t)=>{t.pattern??(t.pattern=oS),st.init(e,t)}),JF=P("$ZodXID",(e,t)=>{t.pattern??(t.pattern=iS),st.init(e,t)}),WF=P("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=aS),st.init(e,t)}),GF=P("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=kS(t)),st.init(e,t)}),KF=P("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=wS),st.init(e,t)}),YF=P("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=$S(t)),st.init(e,t)}),XF=P("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=uS),st.init(e,t)}),QF=P("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=pS),st.init(e,t),e._zod.bag.format="ipv4"}),eV=P("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=mS),st.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),tV=P("$ZodMAC",(e,t)=>{t.pattern??(t.pattern=hS(t.delimiter)),st.init(e,t),e._zod.bag.format="mac"}),rV=P("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=gS),st.init(e,t)}),nV=P("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=yS),st.init(e,t),e._zod.check=r=>{let n=r.value.split("/");try{if(n.length!==2)throw new Error;let[o,a]=n;if(!a)throw new Error;let u=Number(a);if(`${u}`!==a)throw new Error;if(u<0||u>128)throw new Error;new URL(`http://[${o}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function CS(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}var oV=P("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=_S),st.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{CS(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function iV(e){if(!s_.test(e))return!1;let t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return CS(r)}var aV=P("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=s_),st.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{iV(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),sV=P("$ZodE164",(e,t)=>{t.pattern??(t.pattern=vS),st.init(e,t)});function uV(e,t=null){try{let r=e.split(".");if(r.length!==3)return!1;let[n]=r;if(!n)return!1;let o=JSON.parse(atob(n));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}}var cV=P("$ZodJWT",(e,t)=>{st.init(e,t),e._zod.check=r=>{uV(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),lV=P("$ZodCustomStringFormat",(e,t)=>{st.init(e,t),e._zod.check=r=>{t.fn(r.value)||r.issues.push({code:"invalid_format",format:t.format,input:r.value,inst:e,continue:!t.abort})}}),MS=P("$ZodNumber",(e,t)=>{ve.init(e,t),e._zod.pattern=e._zod.bag.pattern??PS,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}let o=r.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return r;let a=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...a?{received:a}:{}}),r}}),dV=P("$ZodNumberFormat",(e,t)=>{vF.init(e,t),MS.init(e,t)}),DS=P("$ZodBoolean",(e,t)=>{ve.init(e,t),e._zod.pattern=ES,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}let o=r.value;return typeof o=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:e}),r}}),qS=P("$ZodBigInt",(e,t)=>{ve.init(e,t),e._zod.pattern=SS,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=BigInt(r.value)}catch{}return typeof r.value=="bigint"||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:e}),r}}),fV=P("$ZodBigIntFormat",(e,t)=>{bF.init(e,t),qS.init(e,t)}),pV=P("$ZodSymbol",(e,t)=>{ve.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;return typeof o=="symbol"||r.issues.push({expected:"symbol",code:"invalid_type",input:o,inst:e}),r}}),mV=P("$ZodUndefined",(e,t)=>{ve.init(e,t),e._zod.pattern=RS,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(r,n)=>{let o=r.value;return typeof o>"u"||r.issues.push({expected:"undefined",code:"invalid_type",input:o,inst:e}),r}}),hV=P("$ZodNull",(e,t)=>{ve.init(e,t),e._zod.pattern=IS,e._zod.values=new Set([null]),e._zod.parse=(r,n)=>{let o=r.value;return o===null||r.issues.push({expected:"null",code:"invalid_type",input:o,inst:e}),r}}),gV=P("$ZodAny",(e,t)=>{ve.init(e,t),e._zod.parse=r=>r}),yV=P("$ZodUnknown",(e,t)=>{ve.init(e,t),e._zod.parse=r=>r}),_V=P("$ZodNever",(e,t)=>{ve.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)}),vV=P("$ZodVoid",(e,t)=>{ve.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;return typeof o>"u"||r.issues.push({expected:"void",code:"invalid_type",input:o,inst:e}),r}}),bV=P("$ZodDate",(e,t)=>{ve.init(e,t),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=new Date(r.value)}catch{}let o=r.value,a=o instanceof Date;return a&&!Number.isNaN(o.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:o,...a?{received:"Invalid Date"}:{},inst:e}),r}});function Sz(e,t,r){e.issues.length&&t.issues.push(...yn(r,e.issues)),t.value[r]=e.value}var wV=P("$ZodArray",(e,t)=>{ve.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;if(!Array.isArray(o))return r.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),r;r.value=Array(o.length);let a=[];for(let u=0;u<o.length;u++){let c=o[u],d=t.element._zod.run({value:c,issues:[]},n);d instanceof Promise?a.push(d.then(f=>Sz(f,r,u))):Sz(d,r,u)}return a.length?Promise.all(a).then(()=>r):r}});function yd(e,t,r,n){e.issues.length&&t.issues.push(...yn(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function LS(e){let t=Object.keys(e.shape);for(let n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);let r=Gz(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function US(e,t,r,n,o,a){let u=[],c=o.keySet,d=o.catchall._zod,f=d.def.type;for(let m in t){if(c.has(m))continue;if(f==="never"){u.push(m);continue}let h=d.run({value:t[m],issues:[]},n);h instanceof Promise?e.push(h.then(y=>yd(y,r,m,t))):yd(h,r,m,t)}return u.length&&r.issues.push({code:"unrecognized_keys",keys:u,input:t,inst:a}),e.length?Promise.all(e).then(()=>r):r}var xV=P("$ZodObject",(e,t)=>{if(ve.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){let u=t.shape;Object.defineProperty(t,"shape",{get:()=>{let c={...u};return Object.defineProperty(t,"shape",{value:c}),c}})}let r=cu(()=>LS(t));Ne(e._zod,"propValues",()=>{let u=t.shape,c={};for(let d in u){let f=u[d]._zod;if(f.values){c[d]??(c[d]=new Set);for(let m of f.values)c[d].add(m)}}return c});let n=Sa,o=t.catchall,a;e._zod.parse=(u,c)=>{a??(a=r.value);let d=u.value;if(!n(d))return u.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),u;u.value={};let f=[],m=a.shape;for(let h of a.keys){let y=m[h]._zod.run({value:d[h],issues:[]},c);y instanceof Promise?f.push(y.then(v=>yd(v,u,h,d))):yd(y,u,h,d)}return o?US(f,d,u,c,r.value,e):f.length?Promise.all(f).then(()=>u):u}}),$V=P("$ZodObjectJIT",(e,t)=>{xV.init(e,t);let r=e._zod.parse,n=cu(()=>LS(t)),o=h=>{let y=new AF(["shape","payload","ctx"]),v=n.value,w=A=>{let j=Xy(A);return`shape[${j}]._zod.run({ value: input[${j}], issues: [] }, ctx)`};y.write("const input = payload.value;");let $=Object.create(null),z=0;for(let A of v.keys)$[A]=`key_${z++}`;y.write("const newResult = {};");for(let A of v.keys){let j=$[A],U=Xy(A);y.write(`const ${j} = ${w(A)};`),y.write(`
        if (${j}.issues.length) {
          payload.issues = payload.issues.concat(${j}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${U}, ...iss.path] : [${U}]
          })));
        }
        
        
        if (${j}.value === undefined) {
          if (${U} in input) {
            newResult[${U}] = undefined;
          }
        } else {
          newResult[${U}] = ${j}.value;
        }
        
      `)}y.write("payload.value = newResult;"),y.write("return payload;");let I=y.compile();return(A,j)=>I(h,A,j)},a,u=Sa,c=!Ky.jitless,d=c&&Jz.value,f=t.catchall,m;e._zod.parse=(h,y)=>{m??(m=n.value);let v=h.value;return u(v)?c&&d&&y?.async===!1&&y.jitless!==!0?(a||(a=o(t.shape)),h=a(h,y),f?US([],v,h,y,m,e):h):r(h,y):(h.issues.push({expected:"object",code:"invalid_type",input:v,inst:e}),h)}});function Tz(e,t,r,n){for(let a of e)if(a.issues.length===0)return t.value=a.value,t;let o=e.filter(a=>!Ti(a));return o.length===1?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(a=>a.issues.map(u=>Kr(u,n,Gr())))}),t)}var u_=P("$ZodUnion",(e,t)=>{ve.init(e,t),Ne(e._zod,"optin",()=>t.options.some(o=>o._zod.optin==="optional")?"optional":void 0),Ne(e._zod,"optout",()=>t.options.some(o=>o._zod.optout==="optional")?"optional":void 0),Ne(e._zod,"values",()=>{if(t.options.every(o=>o._zod.values))return new Set(t.options.flatMap(o=>Array.from(o._zod.values)))}),Ne(e._zod,"pattern",()=>{if(t.options.every(o=>o._zod.pattern)){let o=t.options.map(a=>a._zod.pattern);return new RegExp(`^(${o.map(a=>zd(a.source)).join("|")})$`)}});let r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(o,a)=>{if(r)return n(o,a);let u=!1,c=[];for(let d of t.options){let f=d._zod.run({value:o.value,issues:[]},a);if(f instanceof Promise)c.push(f),u=!0;else{if(f.issues.length===0)return f;c.push(f)}}return u?Promise.all(c).then(d=>Tz(d,o,e,a)):Tz(c,o,e,a)}});function Pz(e,t,r,n){let o=e.filter(a=>a.issues.length===0);return o.length===1?(t.value=o[0].value,t):(o.length===0?t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(a=>a.issues.map(u=>Kr(u,n,Gr())))}):t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:[],inclusive:!1}),t)}var kV=P("$ZodXor",(e,t)=>{u_.init(e,t),t.inclusive=!1;let r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(o,a)=>{if(r)return n(o,a);let u=!1,c=[];for(let d of t.options){let f=d._zod.run({value:o.value,issues:[]},a);f instanceof Promise?(c.push(f),u=!0):c.push(f)}return u?Promise.all(c).then(d=>Pz(d,o,e,a)):Pz(c,o,e,a)}}),zV=P("$ZodDiscriminatedUnion",(e,t)=>{t.inclusive=!1,u_.init(e,t);let r=e._zod.parse;Ne(e._zod,"propValues",()=>{let o={};for(let a of t.options){let u=a._zod.propValues;if(!u||Object.keys(u).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(a)}"`);for(let[c,d]of Object.entries(u)){o[c]||(o[c]=new Set);for(let f of d)o[c].add(f)}}return o});let n=cu(()=>{let o=t.options,a=new Map;for(let u of o){let c=u._zod.propValues?.[t.discriminator];if(!c||c.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(u)}"`);for(let d of c){if(a.has(d))throw new Error(`Duplicate discriminator value "${String(d)}"`);a.set(d,u)}}return a});e._zod.parse=(o,a)=>{let u=o.value;if(!Sa(u))return o.issues.push({code:"invalid_type",expected:"object",input:u,inst:e}),o;let c=n.value.get(u?.[t.discriminator]);return c?c._zod.run(o,a):t.unionFallback?r(o,a):(o.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:u,path:[t.discriminator],inst:e}),o)}}),SV=P("$ZodIntersection",(e,t)=>{ve.init(e,t),e._zod.parse=(r,n)=>{let o=r.value,a=t.left._zod.run({value:o,issues:[]},n),u=t.right._zod.run({value:o,issues:[]},n);return a instanceof Promise||u instanceof Promise?Promise.all([a,u]).then(([c,d])=>Ez(r,c,d)):Ez(r,a,u)}});function Qy(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Pi(e)&&Pi(t)){let r=Object.keys(t),n=Object.keys(e).filter(a=>r.indexOf(a)!==-1),o={...e,...t};for(let a of n){let u=Qy(e[a],t[a]);if(!u.valid)return{valid:!1,mergeErrorPath:[a,...u.mergeErrorPath]};o[a]=u.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};let r=[];for(let n=0;n<e.length;n++){let o=e[n],a=t[n],u=Qy(o,a);if(!u.valid)return{valid:!1,mergeErrorPath:[n,...u.mergeErrorPath]};r.push(u.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function Ez(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),Ti(e))return e;let n=Qy(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}var FS=P("$ZodTuple",(e,t)=>{ve.init(e,t);let r=t.items;e._zod.parse=(n,o)=>{let a=n.value;if(!Array.isArray(a))return n.issues.push({input:a,inst:e,expected:"tuple",code:"invalid_type"}),n;n.value=[];let u=[],c=[...r].reverse().findIndex(m=>m._zod.optin!=="optional"),d=c===-1?0:r.length-c;if(!t.rest){let m=a.length>r.length,h=a.length<d-1;if(m||h)return n.issues.push({...m?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length},input:a,inst:e,origin:"array"}),n}let f=-1;for(let m of r){if(f++,f>=a.length&&f>=d)continue;let h=m._zod.run({value:a[f],issues:[]},o);h instanceof Promise?u.push(h.then(y=>sd(y,n,f))):sd(h,n,f)}if(t.rest){let m=a.slice(r.length);for(let h of m){f++;let y=t.rest._zod.run({value:h,issues:[]},o);y instanceof Promise?u.push(y.then(v=>sd(v,n,f))):sd(y,n,f)}}return u.length?Promise.all(u).then(()=>n):n}});function sd(e,t,r){e.issues.length&&t.issues.push(...yn(r,e.issues)),t.value[r]=e.value}var TV=P("$ZodRecord",(e,t)=>{ve.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;if(!Pi(o))return r.issues.push({expected:"record",code:"invalid_type",input:o,inst:e}),r;let a=[],u=t.keyType._zod.values;if(u){r.value={};let c=new Set;for(let f of u)if(typeof f=="string"||typeof f=="number"||typeof f=="symbol"){c.add(typeof f=="number"?f.toString():f);let m=t.valueType._zod.run({value:o[f],issues:[]},n);m instanceof Promise?a.push(m.then(h=>{h.issues.length&&r.issues.push(...yn(f,h.issues)),r.value[f]=h.value})):(m.issues.length&&r.issues.push(...yn(f,m.issues)),r.value[f]=m.value)}let d;for(let f in o)c.has(f)||(d=d??[],d.push(f));d&&d.length>0&&r.issues.push({code:"unrecognized_keys",input:o,inst:e,keys:d})}else{r.value={};for(let c of Reflect.ownKeys(o)){if(c==="__proto__")continue;let d=t.keyType._zod.run({value:c,issues:[]},n);if(d instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(d.issues.length){t.mode==="loose"?r.value[c]=o[c]:r.issues.push({code:"invalid_key",origin:"record",issues:d.issues.map(m=>Kr(m,n,Gr())),input:c,path:[c],inst:e});continue}let f=t.valueType._zod.run({value:o[c],issues:[]},n);f instanceof Promise?a.push(f.then(m=>{m.issues.length&&r.issues.push(...yn(c,m.issues)),r.value[d.value]=m.value})):(f.issues.length&&r.issues.push(...yn(c,f.issues)),r.value[d.value]=f.value)}}return a.length?Promise.all(a).then(()=>r):r}}),PV=P("$ZodMap",(e,t)=>{ve.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;if(!(o instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:o,inst:e}),r;let a=[];r.value=new Map;for(let[u,c]of o){let d=t.keyType._zod.run({value:u,issues:[]},n),f=t.valueType._zod.run({value:c,issues:[]},n);d instanceof Promise||f instanceof Promise?a.push(Promise.all([d,f]).then(([m,h])=>{Iz(m,h,r,u,o,e,n)})):Iz(d,f,r,u,o,e,n)}return a.length?Promise.all(a).then(()=>r):r}});function Iz(e,t,r,n,o,a,u){e.issues.length&&(hd.has(typeof n)?r.issues.push(...yn(n,e.issues)):r.issues.push({code:"invalid_key",origin:"map",input:o,inst:a,issues:e.issues.map(c=>Kr(c,u,Gr()))})),t.issues.length&&(hd.has(typeof n)?r.issues.push(...yn(n,t.issues)):r.issues.push({origin:"map",code:"invalid_element",input:o,inst:a,key:n,issues:t.issues.map(c=>Kr(c,u,Gr()))})),r.value.set(e.value,t.value)}var EV=P("$ZodSet",(e,t)=>{ve.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;if(!(o instanceof Set))return r.issues.push({input:o,inst:e,expected:"set",code:"invalid_type"}),r;let a=[];r.value=new Set;for(let u of o){let c=t.valueType._zod.run({value:u,issues:[]},n);c instanceof Promise?a.push(c.then(d=>Rz(d,r))):Rz(c,r)}return a.length?Promise.all(a).then(()=>r):r}});function Rz(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}var IV=P("$ZodEnum",(e,t)=>{ve.init(e,t);let r=o_(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(o=>hd.has(typeof o)).map(o=>typeof o=="string"?oo(o):o.toString()).join("|")})$`),e._zod.parse=(o,a)=>{let u=o.value;return n.has(u)||o.issues.push({code:"invalid_value",values:r,input:u,inst:e}),o}}),RV=P("$ZodLiteral",(e,t)=>{if(ve.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");let r=new Set(t.values);e._zod.values=r,e._zod.pattern=new RegExp(`^(${t.values.map(n=>typeof n=="string"?oo(n):n?oo(n.toString()):String(n)).join("|")})$`),e._zod.parse=(n,o)=>{let a=n.value;return r.has(a)||n.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),n}}),OV=P("$ZodFile",(e,t)=>{ve.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;return o instanceof File||r.issues.push({expected:"file",code:"invalid_type",input:o,inst:e}),r}}),ZV=P("$ZodTransform",(e,t)=>{ve.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new n_(e.constructor.name);let o=t.transform(r.value,r);if(n.async)return(o instanceof Promise?o:Promise.resolve(o)).then(a=>(r.value=a,r));if(o instanceof Promise)throw new za;return r.value=o,r}});function Oz(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}var jV=P("$ZodOptional",(e,t)=>{ve.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Ne(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Ne(e._zod,"pattern",()=>{let r=t.innerType._zod.pattern;return r?new RegExp(`^(${zd(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(a=>Oz(a,r.value)):Oz(o,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),NV=P("$ZodNullable",(e,t)=>{ve.init(e,t),Ne(e._zod,"optin",()=>t.innerType._zod.optin),Ne(e._zod,"optout",()=>t.innerType._zod.optout),Ne(e._zod,"pattern",()=>{let r=t.innerType._zod.pattern;return r?new RegExp(`^(${zd(r.source)}|null)$`):void 0}),Ne(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),AV=P("$ZodDefault",(e,t)=>{ve.init(e,t),e._zod.optin="optional",Ne(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(a=>Zz(a,t)):Zz(o,t)}});function Zz(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}var CV=P("$ZodPrefault",(e,t)=>{ve.init(e,t),e._zod.optin="optional",Ne(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),MV=P("$ZodNonOptional",(e,t)=>{ve.init(e,t),Ne(e._zod,"values",()=>{let r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(a=>jz(a,e)):jz(o,e)}});function jz(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}var DV=P("$ZodSuccess",(e,t)=>{ve.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new n_("ZodSuccess");let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(a=>(r.value=a.issues.length===0,r)):(r.value=o.issues.length===0,r)}}),qV=P("$ZodCatch",(e,t)=>{ve.init(e,t),Ne(e._zod,"optin",()=>t.innerType._zod.optin),Ne(e._zod,"optout",()=>t.innerType._zod.optout),Ne(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(a=>(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(u=>Kr(u,n,Gr()))},input:r.value}),r.issues=[]),r)):(r.value=o.value,o.issues.length&&(r.value=t.catchValue({...r,error:{issues:o.issues.map(a=>Kr(a,n,Gr()))},input:r.value}),r.issues=[]),r)}}),LV=P("$ZodNaN",(e,t)=>{ve.init(e,t),e._zod.parse=(r,n)=>((typeof r.value!="number"||!Number.isNaN(r.value))&&r.issues.push({input:r.value,inst:e,expected:"nan",code:"invalid_type"}),r)}),UV=P("$ZodPipe",(e,t)=>{ve.init(e,t),Ne(e._zod,"values",()=>t.in._zod.values),Ne(e._zod,"optin",()=>t.in._zod.optin),Ne(e._zod,"optout",()=>t.out._zod.optout),Ne(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){let a=t.out._zod.run(r,n);return a instanceof Promise?a.then(u=>ud(u,t.in,n)):ud(a,t.in,n)}let o=t.in._zod.run(r,n);return o instanceof Promise?o.then(a=>ud(a,t.out,n)):ud(o,t.out,n)}});function ud(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}var VS=P("$ZodCodec",(e,t)=>{ve.init(e,t),Ne(e._zod,"values",()=>t.in._zod.values),Ne(e._zod,"optin",()=>t.in._zod.optin),Ne(e._zod,"optout",()=>t.out._zod.optout),Ne(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if((n.direction||"forward")==="forward"){let o=t.in._zod.run(r,n);return o instanceof Promise?o.then(a=>cd(a,t,n)):cd(o,t,n)}else{let o=t.out._zod.run(r,n);return o instanceof Promise?o.then(a=>cd(a,t,n)):cd(o,t,n)}}});function cd(e,t,r){if(e.issues.length)return e.aborted=!0,e;if((r.direction||"forward")==="forward"){let n=t.transform(e.value,e);return n instanceof Promise?n.then(o=>ld(e,o,t.out,r)):ld(e,n,t.out,r)}else{let n=t.reverseTransform(e.value,e);return n instanceof Promise?n.then(o=>ld(e,o,t.in,r)):ld(e,n,t.in,r)}}function ld(e,t,r,n){return e.issues.length?(e.aborted=!0,e):r._zod.run({value:t,issues:e.issues},n)}var FV=P("$ZodReadonly",(e,t)=>{ve.init(e,t),Ne(e._zod,"propValues",()=>t.innerType._zod.propValues),Ne(e._zod,"values",()=>t.innerType._zod.values),Ne(e._zod,"optin",()=>t.innerType?._zod?.optin),Ne(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(Nz):Nz(o)}});function Nz(e){return e.value=Object.freeze(e.value),e}var VV=P("$ZodTemplateLiteral",(e,t)=>{ve.init(e,t);let r=[];for(let n of t.parts)if(typeof n=="object"&&n!==null){if(!n._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...n._zod.traits].shift()}`);let o=n._zod.pattern instanceof RegExp?n._zod.pattern.source:n._zod.pattern;if(!o)throw new Error(`Invalid template literal part: ${n._zod.traits}`);let a=o.startsWith("^")?1:0,u=o.endsWith("$")?o.length-1:o.length;r.push(o.slice(a,u))}else if(n===null||Wz.has(typeof n))r.push(oo(`${n}`));else throw new Error(`Invalid template literal part: ${n}`);e._zod.pattern=new RegExp(`^${r.join("")}$`),e._zod.parse=(n,o)=>typeof n.value!="string"?(n.issues.push({input:n.value,inst:e,expected:"template_literal",code:"invalid_type"}),n):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(n.value)||n.issues.push({input:n.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source}),n)}),BV=P("$ZodFunction",(e,t)=>(ve.init(e,t),e._def=t,e._zod.def=t,e.implement=r=>{if(typeof r!="function")throw new Error("implement() must be called with a function");return function(...n){let o=e._def.input?$z(e._def.input,n):n,a=Reflect.apply(r,this,o);return e._def.output?$z(e._def.output,a):a}},e.implementAsync=r=>{if(typeof r!="function")throw new Error("implementAsync() must be called with a function");return async function(...n){let o=e._def.input?await kz(e._def.input,n):n,a=await Reflect.apply(r,this,o);return e._def.output?await kz(e._def.output,a):a}},e._zod.parse=(r,n)=>typeof r.value!="function"?(r.issues.push({code:"invalid_type",expected:"function",input:r.value,inst:e}),r):(e._def.output&&e._def.output._zod.def.type==="promise"?r.value=e.implementAsync(r.value):r.value=e.implement(r.value),r),e.input=(...r)=>{let n=e.constructor;return Array.isArray(r[0])?new n({type:"function",input:new FS({type:"tuple",items:r[0],rest:r[1]}),output:e._def.output}):new n({type:"function",input:r[0],output:e._def.output})},e.output=r=>{let n=e.constructor;return new n({type:"function",input:e._def.input,output:r})},e)),HV=P("$ZodPromise",(e,t)=>{ve.init(e,t),e._zod.parse=(r,n)=>Promise.resolve(r.value).then(o=>t.innerType._zod.run({value:o,issues:[]},n))}),JV=P("$ZodLazy",(e,t)=>{ve.init(e,t),Ne(e._zod,"innerType",()=>t.getter()),Ne(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),Ne(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),Ne(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),Ne(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(r,n)=>e._zod.innerType._zod.run(r,n)}),WV=P("$ZodCustom",(e,t)=>{$t.init(e,t),ve.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{let n=r.value,o=t.fn(n);if(o instanceof Promise)return o.then(a=>Az(a,r,n,e));Az(o,r,n,e)}});function Az(e,t,r,n){if(!e){let o={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(o.params=n._zod.def.params),t.issues.push(gd(o))}}var GV=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},KV=()=>{let e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function t(n){return e[n]??null}let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Invalid input: expected ${n.expected}, received ${GV(n.input)}`;case"invalid_value":return n.values.length===1?`Invalid input: expected ${a_(n.values[0])}`:`Invalid option: expected one of ${Yy(n.values,"|")}`;case"too_big":{let o=n.inclusive?"<=":"<",a=t(n.origin);return a?`Too big: expected ${n.origin??"value"} to have ${o}${n.maximum.toString()} ${a.unit??"elements"}`:`Too big: expected ${n.origin??"value"} to be ${o}${n.maximum.toString()}`}case"too_small":{let o=n.inclusive?">=":">",a=t(n.origin);return a?`Too small: expected ${n.origin} to have ${o}${n.minimum.toString()} ${a.unit}`:`Too small: expected ${n.origin} to be ${o}${n.minimum.toString()}`}case"invalid_format":{let o=n;return o.format==="starts_with"?`Invalid string: must start with "${o.prefix}"`:o.format==="ends_with"?`Invalid string: must end with "${o.suffix}"`:o.format==="includes"?`Invalid string: must include "${o.includes}"`:o.format==="regex"?`Invalid string: must match pattern ${o.pattern}`:`Invalid ${r[o.format]??n.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${n.divisor}`;case"unrecognized_keys":return`Unrecognized key${n.keys.length>1?"s":""}: ${Yy(n.keys,", ")}`;case"invalid_key":return`Invalid key in ${n.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${n.origin}`;default:return"Invalid input"}}};function YV(){return{localeError:KV()}}var Cz,Bee=Symbol("ZodOutput"),Hee=Symbol("ZodInput"),XV=class{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){let r=t[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){let t=this._map.get(e);return t&&typeof t=="object"&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){let t=e._zod.parent;if(t){let r={...this.get(t)??{}};delete r.id;let n={...r,...this._map.get(e)};return Object.keys(n).length?n:void 0}return this._map.get(e)}has(e){return this._map.has(e)}};function QV(){return new XV}(Cz=globalThis).__zod_globalRegistry??(Cz.__zod_globalRegistry=QV());var to=globalThis.__zod_globalRegistry;function e8(e,t){return new e({type:"string",...B(t)})}function BS(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...B(t)})}function e_(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...B(t)})}function HS(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...B(t)})}function JS(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...B(t)})}function WS(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...B(t)})}function GS(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...B(t)})}function c_(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...B(t)})}function KS(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...B(t)})}function YS(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...B(t)})}function XS(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...B(t)})}function QS(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...B(t)})}function eT(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...B(t)})}function tT(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...B(t)})}function rT(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...B(t)})}function nT(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...B(t)})}function oT(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...B(t)})}function t8(e,t){return new e({type:"string",format:"mac",check:"string_format",abort:!1,...B(t)})}function iT(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...B(t)})}function aT(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...B(t)})}function sT(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...B(t)})}function uT(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...B(t)})}function cT(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...B(t)})}function lT(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...B(t)})}function r8(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...B(t)})}function n8(e,t){return new e({type:"string",format:"date",check:"string_format",...B(t)})}function o8(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...B(t)})}function i8(e,t){return new e({type:"string",format:"duration",check:"string_format",...B(t)})}function a8(e,t){return new e({type:"number",checks:[],...B(t)})}function s8(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...B(t)})}function u8(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...B(t)})}function c8(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...B(t)})}function l8(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...B(t)})}function d8(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...B(t)})}function f8(e,t){return new e({type:"boolean",...B(t)})}function p8(e,t){return new e({type:"bigint",...B(t)})}function m8(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...B(t)})}function h8(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...B(t)})}function g8(e,t){return new e({type:"symbol",...B(t)})}function y8(e,t){return new e({type:"undefined",...B(t)})}function _8(e,t){return new e({type:"null",...B(t)})}function v8(e){return new e({type:"any"})}function b8(e){return new e({type:"unknown"})}function w8(e,t){return new e({type:"never",...B(t)})}function x8(e,t){return new e({type:"void",...B(t)})}function $8(e,t){return new e({type:"date",...B(t)})}function k8(e,t){return new e({type:"nan",...B(t)})}function Pa(e,t){return new NS({check:"less_than",...B(t),value:e,inclusive:!1})}function no(e,t){return new NS({check:"less_than",...B(t),value:e,inclusive:!0})}function Ea(e,t){return new AS({check:"greater_than",...B(t),value:e,inclusive:!1})}function gn(e,t){return new AS({check:"greater_than",...B(t),value:e,inclusive:!0})}function z8(e){return Ea(0,e)}function S8(e){return Pa(0,e)}function T8(e){return no(0,e)}function P8(e){return gn(0,e)}function _d(e,t){return new _F({check:"multiple_of",...B(t),value:e})}function l_(e,t){return new wF({check:"max_size",...B(t),maximum:e})}function vd(e,t){return new xF({check:"min_size",...B(t),minimum:e})}function dT(e,t){return new $F({check:"size_equals",...B(t),size:e})}function d_(e,t){return new kF({check:"max_length",...B(t),maximum:e})}function au(e,t){return new zF({check:"min_length",...B(t),minimum:e})}function f_(e,t){return new SF({check:"length_equals",...B(t),length:e})}function fT(e,t){return new TF({check:"string_format",format:"regex",...B(t),pattern:e})}function pT(e){return new PF({check:"string_format",format:"lowercase",...B(e)})}function mT(e){return new EF({check:"string_format",format:"uppercase",...B(e)})}function hT(e,t){return new IF({check:"string_format",format:"includes",...B(t),includes:e})}function gT(e,t){return new RF({check:"string_format",format:"starts_with",...B(t),prefix:e})}function yT(e,t){return new OF({check:"string_format",format:"ends_with",...B(t),suffix:e})}function E8(e,t,r){return new ZF({check:"property",property:e,schema:t,...B(r)})}function _T(e,t){return new jF({check:"mime_type",mime:e,...B(t)})}function Ii(e){return new NF({check:"overwrite",tx:e})}function vT(e){return Ii(t=>t.normalize(e))}function bT(){return Ii(e=>e.trim())}function wT(){return Ii(e=>e.toLowerCase())}function xT(){return Ii(e=>e.toUpperCase())}function $T(){return Ii(e=>Hz(e))}function I8(e,t,r){return new e({type:"array",element:t,...B(r)})}function R8(e,t){return new e({type:"file",...B(t)})}function O8(e,t,r){let n=B(r);return n.abort??(n.abort=!0),new e({type:"custom",check:"custom",fn:t,...n})}function Z8(e,t,r){return new e({type:"custom",check:"custom",fn:t,...B(r)})}function j8(e){let t=N8(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(gd(n,r.value,t._zod.def));else{let o=n;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=t),o.continue??(o.continue=!t._zod.def.abort),r.issues.push(gd(o))}},e(r.value,r)));return t}function N8(e,t){let r=new $t({check:"custom",...B(t)});return r._zod.check=e,r}function A8(e){let t=new $t({check:"describe"});return t._zod.onattach=[r=>{let n=to.get(r)??{};to.add(r,{...n,description:e})}],t._zod.check=()=>{},t}function C8(e){let t=new $t({check:"meta"});return t._zod.onattach=[r=>{let n=to.get(r)??{};to.add(r,{...n,...e})}],t._zod.check=()=>{},t}function M8(e,t){let r=B(t),n=r.truthy??["true","1","yes","on","y","enabled"],o=r.falsy??["false","0","no","off","n","disabled"];r.case!=="sensitive"&&(n=n.map(v=>typeof v=="string"?v.toLowerCase():v),o=o.map(v=>typeof v=="string"?v.toLowerCase():v));let a=new Set(n),u=new Set(o),c=e.Codec??VS,d=e.Boolean??DS,f=e.String??jd,m=new f({type:"string",error:r.error}),h=new d({type:"boolean",error:r.error}),y=new c({type:"pipe",in:m,out:h,transform:((v,w)=>{let $=v;return r.case!=="sensitive"&&($=$.toLowerCase()),a.has($)?!0:u.has($)?!1:(w.issues.push({code:"invalid_value",expected:"stringbool",values:[...a,...u],input:w.value,inst:y,continue:!1}),{})}),reverseTransform:((v,w)=>v===!0?n[0]||"true":o[0]||"false"),error:r.error});return y}function Nd(e,t,r,n={}){let o=B(n),a={...B(n),check:"string_format",type:"string",format:t,fn:typeof r=="function"?r:u=>r.test(u),...o};return r instanceof RegExp&&(a.pattern=r),new e(a)}function kT(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??to,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function xt(e,t,r={path:[],schemaPath:[]}){var n;let o=e._zod.def,a=t.seen.get(e);if(a)return a.count++,r.schemaPath.includes(e)&&(a.cycle=r.path),a.schema;let u={schema:{},count:1,cycle:void 0,path:r.path};t.seen.set(e,u);let c=e._zod.toJSONSchema?.();if(c)u.schema=c;else{let f={...r,schemaPath:[...r.schemaPath,e],path:r.path},m=e._zod.parent;if(m)u.ref=m,xt(m,t,f),t.seen.get(m).isParent=!0;else if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,u.schema,f);else{let h=u.schema,y=t.processors[o.type];if(!y)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${o.type}`);y(e,t,h,f)}}let d=t.metadataRegistry.get(e);return d&&Object.assign(u.schema,d),t.io==="input"&&ar(e)&&(delete u.schema.examples,delete u.schema.default),t.io==="input"&&u.schema._prefault&&((n=u.schema).default??(n.default=u.schema._prefault)),delete u.schema._prefault,t.seen.get(e).schema}function zT(e,t){let r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");let n=a=>{let u=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){let f=e.external.registry.get(a[0])?.id,m=e.external.uri??(y=>y);if(f)return{ref:m(f)};let h=a[1].defId??a[1].schema.id??`schema${e.counter++}`;return a[1].defId=h,{defId:h,ref:`${m("__shared")}#/${u}/${h}`}}if(a[1]===r)return{ref:"#"};let c=`#/${u}/`,d=a[1].schema.id??`__schema${e.counter++}`;return{defId:d,ref:c+d}},o=a=>{if(a[1].schema.$ref)return;let u=a[1],{ref:c,defId:d}=n(a);u.def={...u.schema},d&&(u.defId=d);let f=u.schema;for(let m in f)delete f[m];f.$ref=c};if(e.cycles==="throw")for(let a of e.seen.entries()){let u=a[1];if(u.cycle)throw new Error(`Cycle detected: #/${u.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let a of e.seen.entries()){let u=a[1];if(t===a[0]){o(a);continue}if(e.external){let c=e.external.registry.get(a[0])?.id;if(t!==a[0]&&c){o(a);continue}}if(e.metadataRegistry.get(a[0])?.id){o(a);continue}if(u.cycle){o(a);continue}if(u.count>1&&e.reused==="ref"){o(a);continue}}}function ST(e,t){let r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");let n=u=>{let c=e.seen.get(u),d=c.def??c.schema,f={...d};if(c.ref===null)return;let m=c.ref;if(c.ref=null,m){n(m);let h=e.seen.get(m).schema;h.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(d.allOf=d.allOf??[],d.allOf.push(h)):(Object.assign(d,h),Object.assign(d,f))}c.isParent||e.override({zodSchema:u,jsonSchema:d,path:c.path??[]})};for(let u of[...e.seen.entries()].reverse())n(u[0]);let o={};if(e.target==="draft-2020-12"?o.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?o.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?o.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){let u=e.external.registry.get(t)?.id;if(!u)throw new Error("Schema is missing an `id` property");o.$id=e.external.uri(u)}Object.assign(o,r.def??r.schema);let a=e.external?.defs??{};for(let u of e.seen.entries()){let c=u[1];c.def&&c.defId&&(a[c.defId]=c.def)}e.external||Object.keys(a).length>0&&(e.target==="draft-2020-12"?o.$defs=a:o.definitions=a);try{let u=JSON.parse(JSON.stringify(o));return Object.defineProperty(u,"~standard",{value:{...t["~standard"],jsonSchema:{input:bd(t,"input"),output:bd(t,"output")}},enumerable:!1,writable:!1}),u}catch{throw new Error("Error converting schema to JSON.")}}function ar(e,t){let r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);let n=e._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return ar(n.element,r);if(n.type==="set")return ar(n.valueType,r);if(n.type==="lazy")return ar(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return ar(n.innerType,r);if(n.type==="intersection")return ar(n.left,r)||ar(n.right,r);if(n.type==="record"||n.type==="map")return ar(n.keyType,r)||ar(n.valueType,r);if(n.type==="pipe")return ar(n.in,r)||ar(n.out,r);if(n.type==="object"){for(let o in n.shape)if(ar(n.shape[o],r))return!0;return!1}if(n.type==="union"){for(let o of n.options)if(ar(o,r))return!0;return!1}if(n.type==="tuple"){for(let o of n.items)if(ar(o,r))return!0;return!!(n.rest&&ar(n.rest,r))}return!1}var D8=(e,t={})=>r=>{let n=kT({...r,processors:t});return xt(e,n),zT(n,e),ST(n,e)},bd=(e,t)=>r=>{let{libraryOptions:n,target:o}=r??{},a=kT({...n??{},target:o,io:t,processors:{}});return xt(e,a),zT(a,e),ST(a,e)},q8={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},L8=(e,t,r,n)=>{let o=r;o.type="string";let{minimum:a,maximum:u,format:c,patterns:d,contentEncoding:f}=e._zod.bag;if(typeof a=="number"&&(o.minLength=a),typeof u=="number"&&(o.maxLength=u),c&&(o.format=q8[c]??c,o.format===""&&delete o.format),f&&(o.contentEncoding=f),d&&d.size>0){let m=[...d];m.length===1?o.pattern=m[0].source:m.length>1&&(o.allOf=[...m.map(h=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:h.source}))])}},U8=(e,t,r,n)=>{let o=r,{minimum:a,maximum:u,format:c,multipleOf:d,exclusiveMaximum:f,exclusiveMinimum:m}=e._zod.bag;typeof c=="string"&&c.includes("int")?o.type="integer":o.type="number",typeof m=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(o.minimum=m,o.exclusiveMinimum=!0):o.exclusiveMinimum=m),typeof a=="number"&&(o.minimum=a,typeof m=="number"&&t.target!=="draft-04"&&(m>=a?delete o.minimum:delete o.exclusiveMinimum)),typeof f=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(o.maximum=f,o.exclusiveMaximum=!0):o.exclusiveMaximum=f),typeof u=="number"&&(o.maximum=u,typeof f=="number"&&t.target!=="draft-04"&&(f<=u?delete o.maximum:delete o.exclusiveMaximum)),typeof d=="number"&&(o.multipleOf=d)},F8=(e,t,r,n)=>{r.type="boolean"},V8=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema")},B8=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema")},H8=(e,t,r,n)=>{t.target==="openapi-3.0"?(r.type="string",r.nullable=!0,r.enum=[null]):r.type="null"},J8=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema")},W8=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema")},G8=(e,t,r,n)=>{r.not={}},K8=(e,t,r,n)=>{},Y8=(e,t,r,n)=>{},X8=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},Q8=(e,t,r,n)=>{let o=e._zod.def,a=o_(o.entries);a.every(u=>typeof u=="number")&&(r.type="number"),a.every(u=>typeof u=="string")&&(r.type="string"),r.enum=a},eB=(e,t,r,n)=>{let o=e._zod.def,a=[];for(let u of o.values)if(u===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof u=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");a.push(Number(u))}else a.push(u);if(a.length!==0)if(a.length===1){let u=a[0];r.type=u===null?"null":typeof u,t.target==="draft-04"||t.target==="openapi-3.0"?r.enum=[u]:r.const=u}else a.every(u=>typeof u=="number")&&(r.type="number"),a.every(u=>typeof u=="string")&&(r.type="string"),a.every(u=>typeof u=="boolean")&&(r.type="boolean"),a.every(u=>u===null)&&(r.type="null"),r.enum=a},tB=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema")},rB=(e,t,r,n)=>{let o=r,a=e._zod.pattern;if(!a)throw new Error("Pattern not found in template literal");o.type="string",o.pattern=a.source},nB=(e,t,r,n)=>{let o=r,a={type:"string",format:"binary",contentEncoding:"binary"},{minimum:u,maximum:c,mime:d}=e._zod.bag;u!==void 0&&(a.minLength=u),c!==void 0&&(a.maxLength=c),d?d.length===1?(a.contentMediaType=d[0],Object.assign(o,a)):o.anyOf=d.map(f=>({...a,contentMediaType:f})):Object.assign(o,a)},oB=(e,t,r,n)=>{r.type="boolean"},iB=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},aB=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema")},sB=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},uB=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema")},cB=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema")},lB=(e,t,r,n)=>{let o=r,a=e._zod.def,{minimum:u,maximum:c}=e._zod.bag;typeof u=="number"&&(o.minItems=u),typeof c=="number"&&(o.maxItems=c),o.type="array",o.items=xt(a.element,t,{...n,path:[...n.path,"items"]})},dB=(e,t,r,n)=>{let o=r,a=e._zod.def;o.type="object",o.properties={};let u=a.shape;for(let f in u)o.properties[f]=xt(u[f],t,{...n,path:[...n.path,"properties",f]});let c=new Set(Object.keys(u)),d=new Set([...c].filter(f=>{let m=a.shape[f]._zod;return t.io==="input"?m.optin===void 0:m.optout===void 0}));d.size>0&&(o.required=Array.from(d)),a.catchall?._zod.def.type==="never"?o.additionalProperties=!1:a.catchall?a.catchall&&(o.additionalProperties=xt(a.catchall,t,{...n,path:[...n.path,"additionalProperties"]})):t.io==="output"&&(o.additionalProperties=!1)},TT=(e,t,r,n)=>{let o=e._zod.def,a=o.inclusive===!1,u=o.options.map((c,d)=>xt(c,t,{...n,path:[...n.path,a?"oneOf":"anyOf",d]}));a?r.oneOf=u:r.anyOf=u},fB=(e,t,r,n)=>{let o=e._zod.def,a=xt(o.left,t,{...n,path:[...n.path,"allOf",0]}),u=xt(o.right,t,{...n,path:[...n.path,"allOf",1]}),c=f=>"allOf"in f&&Object.keys(f).length===1,d=[...c(a)?a.allOf:[a],...c(u)?u.allOf:[u]];r.allOf=d},pB=(e,t,r,n)=>{let o=r,a=e._zod.def;o.type="array";let u=t.target==="draft-2020-12"?"prefixItems":"items",c=t.target==="draft-2020-12"||t.target==="openapi-3.0"?"items":"additionalItems",d=a.items.map((y,v)=>xt(y,t,{...n,path:[...n.path,u,v]})),f=a.rest?xt(a.rest,t,{...n,path:[...n.path,c,...t.target==="openapi-3.0"?[a.items.length]:[]]}):null;t.target==="draft-2020-12"?(o.prefixItems=d,f&&(o.items=f)):t.target==="openapi-3.0"?(o.items={anyOf:d},f&&o.items.anyOf.push(f),o.minItems=d.length,f||(o.maxItems=d.length)):(o.items=d,f&&(o.additionalItems=f));let{minimum:m,maximum:h}=e._zod.bag;typeof m=="number"&&(o.minItems=m),typeof h=="number"&&(o.maxItems=h)},mB=(e,t,r,n)=>{let o=r,a=e._zod.def;o.type="object",(t.target==="draft-07"||t.target==="draft-2020-12")&&(o.propertyNames=xt(a.keyType,t,{...n,path:[...n.path,"propertyNames"]})),o.additionalProperties=xt(a.valueType,t,{...n,path:[...n.path,"additionalProperties"]})},hB=(e,t,r,n)=>{let o=e._zod.def,a=xt(o.innerType,t,n),u=t.seen.get(e);t.target==="openapi-3.0"?(u.ref=o.innerType,r.nullable=!0):r.anyOf=[a,{type:"null"}]},gB=(e,t,r,n)=>{let o=e._zod.def;xt(o.innerType,t,n);let a=t.seen.get(e);a.ref=o.innerType},yB=(e,t,r,n)=>{let o=e._zod.def;xt(o.innerType,t,n);let a=t.seen.get(e);a.ref=o.innerType,r.default=JSON.parse(JSON.stringify(o.defaultValue))},_B=(e,t,r,n)=>{let o=e._zod.def;xt(o.innerType,t,n);let a=t.seen.get(e);a.ref=o.innerType,t.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(o.defaultValue)))},vB=(e,t,r,n)=>{let o=e._zod.def;xt(o.innerType,t,n);let a=t.seen.get(e);a.ref=o.innerType;let u;try{u=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=u},bB=(e,t,r,n)=>{let o=e._zod.def,a=t.io==="input"?o.in._zod.def.type==="transform"?o.out:o.in:o.out;xt(a,t,n);let u=t.seen.get(e);u.ref=a},wB=(e,t,r,n)=>{let o=e._zod.def;xt(o.innerType,t,n);let a=t.seen.get(e);a.ref=o.innerType,r.readOnly=!0},xB=(e,t,r,n)=>{let o=e._zod.def;xt(o.innerType,t,n);let a=t.seen.get(e);a.ref=o.innerType},$B=(e,t,r,n)=>{let o=e._zod.def;xt(o.innerType,t,n);let a=t.seen.get(e);a.ref=o.innerType},kB=(e,t,r,n)=>{let o=e._zod.innerType;xt(o,t,n);let a=t.seen.get(e);a.ref=o},PT={};uu(PT,{ZodAny:()=>FT,ZodArray:()=>WT,ZodBase64:()=>P_,ZodBase64URL:()=>E_,ZodBigInt:()=>j_,ZodBigIntFormat:()=>N_,ZodBoolean:()=>Z_,ZodCIDRv4:()=>S_,ZodCIDRv6:()=>T_,ZodCUID:()=>v_,ZodCUID2:()=>b_,ZodCatch:()=>fP,ZodCodec:()=>U_,ZodCustom:()=>Ud,ZodCustomStringFormat:()=>pu,ZodDate:()=>JT,ZodDefault:()=>aP,ZodDiscriminatedUnion:()=>KT,ZodE164:()=>I_,ZodEmail:()=>g_,ZodEmoji:()=>y_,ZodEnum:()=>su,ZodFile:()=>nP,ZodFunction:()=>wP,ZodGUID:()=>wd,ZodIPv4:()=>k_,ZodIPv6:()=>z_,ZodIntersection:()=>YT,ZodJWT:()=>R_,ZodKSUID:()=>$_,ZodLazy:()=>_P,ZodLiteral:()=>rP,ZodMAC:()=>DT,ZodMap:()=>eP,ZodNaN:()=>mP,ZodNanoID:()=>__,ZodNever:()=>BT,ZodNonOptional:()=>q_,ZodNull:()=>UT,ZodNullable:()=>iP,ZodNumber:()=>O_,ZodNumberFormat:()=>Ra,ZodObject:()=>Md,ZodOptional:()=>D_,ZodPipe:()=>L_,ZodPrefault:()=>uP,ZodPromise:()=>bP,ZodReadonly:()=>hP,ZodRecord:()=>Ld,ZodSet:()=>tP,ZodString:()=>h_,ZodStringFormat:()=>ut,ZodSuccess:()=>dP,ZodSymbol:()=>qT,ZodTemplateLiteral:()=>yP,ZodTransform:()=>oP,ZodTuple:()=>XT,ZodType:()=>Se,ZodULID:()=>w_,ZodURL:()=>Ad,ZodUUID:()=>ro,ZodUndefined:()=>LT,ZodUnion:()=>Dd,ZodUnknown:()=>VT,ZodVoid:()=>HT,ZodXID:()=>x_,ZodXor:()=>GT,_ZodString:()=>m_,_default:()=>sP,_function:()=>Mz,any:()=>b7,array:()=>Oe,base64:()=>n7,base64url:()=>o7,bigint:()=>h7,boolean:()=>Ot,catch:()=>pP,check:()=>M7,cidrv4:()=>t7,cidrv6:()=>r7,codec:()=>N7,cuid:()=>JB,cuid2:()=>WB,custom:()=>xP,date:()=>x7,describe:()=>D7,discriminatedUnion:()=>C_,e164:()=>i7,email:()=>CB,emoji:()=>BB,enum:()=>ur,file:()=>R7,float32:()=>d7,float64:()=>f7,function:()=>Mz,guid:()=>MB,hash:()=>l7,hex:()=>c7,hostname:()=>u7,httpUrl:()=>VB,instanceof:()=>L7,int:()=>t_,int32:()=>p7,int64:()=>g7,intersection:()=>qd,ipv4:()=>XB,ipv6:()=>e7,json:()=>F7,jwt:()=>a7,keyof:()=>$7,ksuid:()=>YB,lazy:()=>vP,literal:()=>ae,looseObject:()=>sr,looseRecord:()=>T7,mac:()=>QB,map:()=>P7,meta:()=>q7,nan:()=>j7,nanoid:()=>HB,nativeEnum:()=>I7,never:()=>A_,nonoptional:()=>lP,null:()=>Cd,nullable:()=>xd,nullish:()=>O7,number:()=>He,object:()=>Y,optional:()=>_t,partialRecord:()=>S7,pipe:()=>$d,prefault:()=>cP,preprocess:()=>F_,promise:()=>C7,readonly:()=>gP,record:()=>ft,refine:()=>$P,set:()=>E7,strictObject:()=>k7,string:()=>R,stringFormat:()=>s7,stringbool:()=>U7,success:()=>Z7,superRefine:()=>kP,symbol:()=>_7,templateLiteral:()=>A7,transform:()=>M_,tuple:()=>QT,uint32:()=>m7,uint64:()=>y7,ulid:()=>GB,undefined:()=>v7,union:()=>et,unknown:()=>at,url:()=>FB,uuid:()=>DB,uuidv4:()=>qB,uuidv6:()=>LB,uuidv7:()=>UB,void:()=>w7,xid:()=>KB,xor:()=>z7});var ET={};uu(ET,{endsWith:()=>yT,gt:()=>Ea,gte:()=>gn,includes:()=>hT,length:()=>f_,lowercase:()=>pT,lt:()=>Pa,lte:()=>no,maxLength:()=>d_,maxSize:()=>l_,mime:()=>_T,minLength:()=>au,minSize:()=>vd,multipleOf:()=>_d,negative:()=>S8,nonnegative:()=>P8,nonpositive:()=>T8,normalize:()=>vT,overwrite:()=>Ii,positive:()=>z8,property:()=>E8,regex:()=>fT,size:()=>dT,slugify:()=>$T,startsWith:()=>gT,toLowerCase:()=>wT,toUpperCase:()=>xT,trim:()=>bT,uppercase:()=>mT});var p_={};uu(p_,{ZodISODate:()=>OT,ZodISODateTime:()=>IT,ZodISODuration:()=>AT,ZodISOTime:()=>jT,date:()=>ZT,datetime:()=>RT,duration:()=>CT,time:()=>NT});var IT=P("ZodISODateTime",(e,t)=>{GF.init(e,t),ut.init(e,t)});function RT(e){return r8(IT,e)}var OT=P("ZodISODate",(e,t)=>{KF.init(e,t),ut.init(e,t)});function ZT(e){return n8(OT,e)}var jT=P("ZodISOTime",(e,t)=>{YF.init(e,t),ut.init(e,t)});function NT(e){return o8(jT,e)}var AT=P("ZodISODuration",(e,t)=>{XF.init(e,t),ut.init(e,t)});function CT(e){return i8(AT,e)}var MT=(e,t)=>{tS.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>jU(e,r)},flatten:{value:r=>ZU(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,md,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,md,2)}},isEmpty:{get(){return e.issues.length===0}}})},Jee=P("ZodError",MT),Yr=P("ZodError",MT,{Parent:Error}),zB=Ed(Yr),SB=Id(Yr),TB=Rd(Yr),PB=Od(Yr),EB=CU(Yr),IB=MU(Yr),RB=DU(Yr),OB=qU(Yr),ZB=LU(Yr),jB=UU(Yr),NB=FU(Yr),AB=VU(Yr),Se=P("ZodType",(e,t)=>(ve.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:bd(e,"input"),output:bd(e,"output")}}),e.toJSONSchema=D8(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(qe.mergeDefs(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]})),e.clone=(r,n)=>jn(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e)),e.parse=(r,n)=>zB(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>TB(e,r,n),e.parseAsync=async(r,n)=>SB(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>PB(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>EB(e,r,n),e.decode=(r,n)=>IB(e,r,n),e.encodeAsync=async(r,n)=>RB(e,r,n),e.decodeAsync=async(r,n)=>OB(e,r,n),e.safeEncode=(r,n)=>ZB(e,r,n),e.safeDecode=(r,n)=>jB(e,r,n),e.safeEncodeAsync=async(r,n)=>NB(e,r,n),e.safeDecodeAsync=async(r,n)=>AB(e,r,n),e.refine=(r,n)=>e.check($P(r,n)),e.superRefine=r=>e.check(kP(r)),e.overwrite=r=>e.check(Ii(r)),e.optional=()=>_t(e),e.nullable=()=>xd(e),e.nullish=()=>_t(xd(e)),e.nonoptional=r=>lP(e,r),e.array=()=>Oe(e),e.or=r=>et([e,r]),e.and=r=>qd(e,r),e.transform=r=>$d(e,M_(r)),e.default=r=>sP(e,r),e.prefault=r=>cP(e,r),e.catch=r=>pP(e,r),e.pipe=r=>$d(e,r),e.readonly=()=>gP(e),e.describe=r=>{let n=e.clone();return to.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return to.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return to.get(e);let n=e.clone();return to.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),m_=P("_ZodString",(e,t)=>{jd.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(n,o,a)=>L8(e,n,o,a);let r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(fT(...n)),e.includes=(...n)=>e.check(hT(...n)),e.startsWith=(...n)=>e.check(gT(...n)),e.endsWith=(...n)=>e.check(yT(...n)),e.min=(...n)=>e.check(au(...n)),e.max=(...n)=>e.check(d_(...n)),e.length=(...n)=>e.check(f_(...n)),e.nonempty=(...n)=>e.check(au(1,...n)),e.lowercase=n=>e.check(pT(n)),e.uppercase=n=>e.check(mT(n)),e.trim=()=>e.check(bT()),e.normalize=(...n)=>e.check(vT(...n)),e.toLowerCase=()=>e.check(wT()),e.toUpperCase=()=>e.check(xT()),e.slugify=()=>e.check($T())}),h_=P("ZodString",(e,t)=>{jd.init(e,t),m_.init(e,t),e.email=r=>e.check(BS(g_,r)),e.url=r=>e.check(c_(Ad,r)),e.jwt=r=>e.check(lT(R_,r)),e.emoji=r=>e.check(KS(y_,r)),e.guid=r=>e.check(e_(wd,r)),e.uuid=r=>e.check(HS(ro,r)),e.uuidv4=r=>e.check(JS(ro,r)),e.uuidv6=r=>e.check(WS(ro,r)),e.uuidv7=r=>e.check(GS(ro,r)),e.nanoid=r=>e.check(YS(__,r)),e.guid=r=>e.check(e_(wd,r)),e.cuid=r=>e.check(XS(v_,r)),e.cuid2=r=>e.check(QS(b_,r)),e.ulid=r=>e.check(eT(w_,r)),e.base64=r=>e.check(sT(P_,r)),e.base64url=r=>e.check(uT(E_,r)),e.xid=r=>e.check(tT(x_,r)),e.ksuid=r=>e.check(rT($_,r)),e.ipv4=r=>e.check(nT(k_,r)),e.ipv6=r=>e.check(oT(z_,r)),e.cidrv4=r=>e.check(iT(S_,r)),e.cidrv6=r=>e.check(aT(T_,r)),e.e164=r=>e.check(cT(I_,r)),e.datetime=r=>e.check(RT(r)),e.date=r=>e.check(ZT(r)),e.time=r=>e.check(NT(r)),e.duration=r=>e.check(CT(r))});function R(e){return e8(h_,e)}var ut=P("ZodStringFormat",(e,t)=>{st.init(e,t),m_.init(e,t)}),g_=P("ZodEmail",(e,t)=>{qF.init(e,t),ut.init(e,t)});function CB(e){return BS(g_,e)}var wd=P("ZodGUID",(e,t)=>{MF.init(e,t),ut.init(e,t)});function MB(e){return e_(wd,e)}var ro=P("ZodUUID",(e,t)=>{DF.init(e,t),ut.init(e,t)});function DB(e){return HS(ro,e)}function qB(e){return JS(ro,e)}function LB(e){return WS(ro,e)}function UB(e){return GS(ro,e)}var Ad=P("ZodURL",(e,t)=>{LF.init(e,t),ut.init(e,t)});function FB(e){return c_(Ad,e)}function VB(e){return c_(Ad,{protocol:/^https?$/,hostname:lu.domain,...qe.normalizeParams(e)})}var y_=P("ZodEmoji",(e,t)=>{UF.init(e,t),ut.init(e,t)});function BB(e){return KS(y_,e)}var __=P("ZodNanoID",(e,t)=>{FF.init(e,t),ut.init(e,t)});function HB(e){return YS(__,e)}var v_=P("ZodCUID",(e,t)=>{VF.init(e,t),ut.init(e,t)});function JB(e){return XS(v_,e)}var b_=P("ZodCUID2",(e,t)=>{BF.init(e,t),ut.init(e,t)});function WB(e){return QS(b_,e)}var w_=P("ZodULID",(e,t)=>{HF.init(e,t),ut.init(e,t)});function GB(e){return eT(w_,e)}var x_=P("ZodXID",(e,t)=>{JF.init(e,t),ut.init(e,t)});function KB(e){return tT(x_,e)}var $_=P("ZodKSUID",(e,t)=>{WF.init(e,t),ut.init(e,t)});function YB(e){return rT($_,e)}var k_=P("ZodIPv4",(e,t)=>{QF.init(e,t),ut.init(e,t)});function XB(e){return nT(k_,e)}var DT=P("ZodMAC",(e,t)=>{tV.init(e,t),ut.init(e,t)});function QB(e){return t8(DT,e)}var z_=P("ZodIPv6",(e,t)=>{eV.init(e,t),ut.init(e,t)});function e7(e){return oT(z_,e)}var S_=P("ZodCIDRv4",(e,t)=>{rV.init(e,t),ut.init(e,t)});function t7(e){return iT(S_,e)}var T_=P("ZodCIDRv6",(e,t)=>{nV.init(e,t),ut.init(e,t)});function r7(e){return aT(T_,e)}var P_=P("ZodBase64",(e,t)=>{oV.init(e,t),ut.init(e,t)});function n7(e){return sT(P_,e)}var E_=P("ZodBase64URL",(e,t)=>{aV.init(e,t),ut.init(e,t)});function o7(e){return uT(E_,e)}var I_=P("ZodE164",(e,t)=>{sV.init(e,t),ut.init(e,t)});function i7(e){return cT(I_,e)}var R_=P("ZodJWT",(e,t)=>{cV.init(e,t),ut.init(e,t)});function a7(e){return lT(R_,e)}var pu=P("ZodCustomStringFormat",(e,t)=>{lV.init(e,t),ut.init(e,t)});function s7(e,t,r={}){return Nd(pu,e,t,r)}function u7(e){return Nd(pu,"hostname",lu.hostname,e)}function c7(e){return Nd(pu,"hex",lu.hex,e)}function l7(e,t){let r=t?.enc??"hex",n=`${e}_${r}`,o=lu[n];if(!o)throw new Error(`Unrecognized hash format: ${n}`);return Nd(pu,n,o,t)}var O_=P("ZodNumber",(e,t)=>{MS.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(n,o,a)=>U8(e,n,o,a),e.gt=(n,o)=>e.check(Ea(n,o)),e.gte=(n,o)=>e.check(gn(n,o)),e.min=(n,o)=>e.check(gn(n,o)),e.lt=(n,o)=>e.check(Pa(n,o)),e.lte=(n,o)=>e.check(no(n,o)),e.max=(n,o)=>e.check(no(n,o)),e.int=n=>e.check(t_(n)),e.safe=n=>e.check(t_(n)),e.positive=n=>e.check(Ea(0,n)),e.nonnegative=n=>e.check(gn(0,n)),e.negative=n=>e.check(Pa(0,n)),e.nonpositive=n=>e.check(no(0,n)),e.multipleOf=(n,o)=>e.check(_d(n,o)),e.step=(n,o)=>e.check(_d(n,o)),e.finite=()=>e;let r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function He(e){return a8(O_,e)}var Ra=P("ZodNumberFormat",(e,t)=>{dV.init(e,t),O_.init(e,t)});function t_(e){return s8(Ra,e)}function d7(e){return u8(Ra,e)}function f7(e){return c8(Ra,e)}function p7(e){return l8(Ra,e)}function m7(e){return d8(Ra,e)}var Z_=P("ZodBoolean",(e,t)=>{DS.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>F8(e,r,n,o)});function Ot(e){return f8(Z_,e)}var j_=P("ZodBigInt",(e,t)=>{qS.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(n,o,a)=>V8(e,n,o,a),e.gte=(n,o)=>e.check(gn(n,o)),e.min=(n,o)=>e.check(gn(n,o)),e.gt=(n,o)=>e.check(Ea(n,o)),e.gte=(n,o)=>e.check(gn(n,o)),e.min=(n,o)=>e.check(gn(n,o)),e.lt=(n,o)=>e.check(Pa(n,o)),e.lte=(n,o)=>e.check(no(n,o)),e.max=(n,o)=>e.check(no(n,o)),e.positive=n=>e.check(Ea(BigInt(0),n)),e.negative=n=>e.check(Pa(BigInt(0),n)),e.nonpositive=n=>e.check(no(BigInt(0),n)),e.nonnegative=n=>e.check(gn(BigInt(0),n)),e.multipleOf=(n,o)=>e.check(_d(n,o));let r=e._zod.bag;e.minValue=r.minimum??null,e.maxValue=r.maximum??null,e.format=r.format??null});function h7(e){return p8(j_,e)}var N_=P("ZodBigIntFormat",(e,t)=>{fV.init(e,t),j_.init(e,t)});function g7(e){return m8(N_,e)}function y7(e){return h8(N_,e)}var qT=P("ZodSymbol",(e,t)=>{pV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>B8(e,r,n,o)});function _7(e){return g8(qT,e)}var LT=P("ZodUndefined",(e,t)=>{mV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>J8(e,r,n,o)});function v7(e){return y8(LT,e)}var UT=P("ZodNull",(e,t)=>{hV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>H8(e,r,n,o)});function Cd(e){return _8(UT,e)}var FT=P("ZodAny",(e,t)=>{gV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>K8(e,r,n,o)});function b7(){return v8(FT)}var VT=P("ZodUnknown",(e,t)=>{yV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Y8(e,r,n,o)});function at(){return b8(VT)}var BT=P("ZodNever",(e,t)=>{_V.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>G8(e,r,n,o)});function A_(e){return w8(BT,e)}var HT=P("ZodVoid",(e,t)=>{vV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>W8(e,r,n,o)});function w7(e){return x8(HT,e)}var JT=P("ZodDate",(e,t)=>{bV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(n,o,a)=>X8(e,n,o,a),e.min=(n,o)=>e.check(gn(n,o)),e.max=(n,o)=>e.check(no(n,o));let r=e._zod.bag;e.minDate=r.minimum?new Date(r.minimum):null,e.maxDate=r.maximum?new Date(r.maximum):null});function x7(e){return $8(JT,e)}var WT=P("ZodArray",(e,t)=>{wV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>lB(e,r,n,o),e.element=t.element,e.min=(r,n)=>e.check(au(r,n)),e.nonempty=r=>e.check(au(1,r)),e.max=(r,n)=>e.check(d_(r,n)),e.length=(r,n)=>e.check(f_(r,n)),e.unwrap=()=>e.element});function Oe(e,t){return I8(WT,e,t)}function $7(e){let t=e._zod.def.shape;return ur(Object.keys(t))}var Md=P("ZodObject",(e,t)=>{$V.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>dB(e,r,n,o),qe.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>ur(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:at()}),e.loose=()=>e.clone({...e._zod.def,catchall:at()}),e.strict=()=>e.clone({...e._zod.def,catchall:A_()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>qe.extend(e,r),e.safeExtend=r=>qe.safeExtend(e,r),e.merge=r=>qe.merge(e,r),e.pick=r=>qe.pick(e,r),e.omit=r=>qe.omit(e,r),e.partial=(...r)=>qe.partial(D_,e,r[0]),e.required=(...r)=>qe.required(q_,e,r[0])});function Y(e,t){let r={type:"object",shape:e??{},...qe.normalizeParams(t)};return new Md(r)}function k7(e,t){return new Md({type:"object",shape:e,catchall:A_(),...qe.normalizeParams(t)})}function sr(e,t){return new Md({type:"object",shape:e,catchall:at(),...qe.normalizeParams(t)})}var Dd=P("ZodUnion",(e,t)=>{u_.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>TT(e,r,n,o),e.options=t.options});function et(e,t){return new Dd({type:"union",options:e,...qe.normalizeParams(t)})}var GT=P("ZodXor",(e,t)=>{Dd.init(e,t),kV.init(e,t),e._zod.processJSONSchema=(r,n,o)=>TT(e,r,n,o),e.options=t.options});function z7(e,t){return new GT({type:"union",options:e,inclusive:!1,...qe.normalizeParams(t)})}var KT=P("ZodDiscriminatedUnion",(e,t)=>{Dd.init(e,t),zV.init(e,t)});function C_(e,t,r){return new KT({type:"union",options:t,discriminator:e,...qe.normalizeParams(r)})}var YT=P("ZodIntersection",(e,t)=>{SV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>fB(e,r,n,o)});function qd(e,t){return new YT({type:"intersection",left:e,right:t})}var XT=P("ZodTuple",(e,t)=>{FS.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>pB(e,r,n,o),e.rest=r=>e.clone({...e._zod.def,rest:r})});function QT(e,t,r){let n=t instanceof ve,o=n?r:t,a=n?t:null;return new XT({type:"tuple",items:e,rest:a,...qe.normalizeParams(o)})}var Ld=P("ZodRecord",(e,t)=>{TV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>mB(e,r,n,o),e.keyType=t.keyType,e.valueType=t.valueType});function ft(e,t,r){return new Ld({type:"record",keyType:e,valueType:t,...qe.normalizeParams(r)})}function S7(e,t,r){let n=jn(e);return n._zod.values=void 0,new Ld({type:"record",keyType:n,valueType:t,...qe.normalizeParams(r)})}function T7(e,t,r){return new Ld({type:"record",keyType:e,valueType:t,mode:"loose",...qe.normalizeParams(r)})}var eP=P("ZodMap",(e,t)=>{PV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>uB(e,r,n,o),e.keyType=t.keyType,e.valueType=t.valueType});function P7(e,t,r){return new eP({type:"map",keyType:e,valueType:t,...qe.normalizeParams(r)})}var tP=P("ZodSet",(e,t)=>{EV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>cB(e,r,n,o),e.min=(...r)=>e.check(vd(...r)),e.nonempty=r=>e.check(vd(1,r)),e.max=(...r)=>e.check(l_(...r)),e.size=(...r)=>e.check(dT(...r))});function E7(e,t){return new tP({type:"set",valueType:e,...qe.normalizeParams(t)})}var su=P("ZodEnum",(e,t)=>{IV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(n,o,a)=>Q8(e,n,o,a),e.enum=t.entries,e.options=Object.values(t.entries);let r=new Set(Object.keys(t.entries));e.extract=(n,o)=>{let a={};for(let u of n)if(r.has(u))a[u]=t.entries[u];else throw new Error(`Key ${u} not found in enum`);return new su({...t,checks:[],...qe.normalizeParams(o),entries:a})},e.exclude=(n,o)=>{let a={...t.entries};for(let u of n)if(r.has(u))delete a[u];else throw new Error(`Key ${u} not found in enum`);return new su({...t,checks:[],...qe.normalizeParams(o),entries:a})}});function ur(e,t){let r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new su({type:"enum",entries:r,...qe.normalizeParams(t)})}function I7(e,t){return new su({type:"enum",entries:e,...qe.normalizeParams(t)})}var rP=P("ZodLiteral",(e,t)=>{RV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>eB(e,r,n,o),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function ae(e,t){return new rP({type:"literal",values:Array.isArray(e)?e:[e],...qe.normalizeParams(t)})}var nP=P("ZodFile",(e,t)=>{OV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>nB(e,r,n,o),e.min=(r,n)=>e.check(vd(r,n)),e.max=(r,n)=>e.check(l_(r,n)),e.mime=(r,n)=>e.check(_T(Array.isArray(r)?r:[r],n))});function R7(e){return R8(nP,e)}var oP=P("ZodTransform",(e,t)=>{ZV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>sB(e,r,n,o),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new n_(e.constructor.name);r.addIssue=a=>{if(typeof a=="string")r.issues.push(qe.issue(a,r.value,t));else{let u=a;u.fatal&&(u.continue=!1),u.code??(u.code="custom"),u.input??(u.input=r.value),u.inst??(u.inst=e),r.issues.push(qe.issue(u))}};let o=t.transform(r.value,r);return o instanceof Promise?o.then(a=>(r.value=a,r)):(r.value=o,r)}});function M_(e){return new oP({type:"transform",transform:e})}var D_=P("ZodOptional",(e,t)=>{jV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>$B(e,r,n,o),e.unwrap=()=>e._zod.def.innerType});function _t(e){return new D_({type:"optional",innerType:e})}var iP=P("ZodNullable",(e,t)=>{NV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>hB(e,r,n,o),e.unwrap=()=>e._zod.def.innerType});function xd(e){return new iP({type:"nullable",innerType:e})}function O7(e){return _t(xd(e))}var aP=P("ZodDefault",(e,t)=>{AV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>yB(e,r,n,o),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function sP(e,t){return new aP({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():qe.shallowClone(t)}})}var uP=P("ZodPrefault",(e,t)=>{CV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>_B(e,r,n,o),e.unwrap=()=>e._zod.def.innerType});function cP(e,t){return new uP({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():qe.shallowClone(t)}})}var q_=P("ZodNonOptional",(e,t)=>{MV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>gB(e,r,n,o),e.unwrap=()=>e._zod.def.innerType});function lP(e,t){return new q_({type:"nonoptional",innerType:e,...qe.normalizeParams(t)})}var dP=P("ZodSuccess",(e,t)=>{DV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>oB(e,r,n,o),e.unwrap=()=>e._zod.def.innerType});function Z7(e){return new dP({type:"success",innerType:e})}var fP=P("ZodCatch",(e,t)=>{qV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>vB(e,r,n,o),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function pP(e,t){return new fP({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}var mP=P("ZodNaN",(e,t)=>{LV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>tB(e,r,n,o)});function j7(e){return k8(mP,e)}var L_=P("ZodPipe",(e,t)=>{UV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>bB(e,r,n,o),e.in=t.in,e.out=t.out});function $d(e,t){return new L_({type:"pipe",in:e,out:t})}var U_=P("ZodCodec",(e,t)=>{L_.init(e,t),VS.init(e,t)});function N7(e,t,r){return new U_({type:"pipe",in:e,out:t,transform:r.decode,reverseTransform:r.encode})}var hP=P("ZodReadonly",(e,t)=>{FV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>wB(e,r,n,o),e.unwrap=()=>e._zod.def.innerType});function gP(e){return new hP({type:"readonly",innerType:e})}var yP=P("ZodTemplateLiteral",(e,t)=>{VV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>rB(e,r,n,o)});function A7(e,t){return new yP({type:"template_literal",parts:e,...qe.normalizeParams(t)})}var _P=P("ZodLazy",(e,t)=>{JV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>kB(e,r,n,o),e.unwrap=()=>e._zod.def.getter()});function vP(e){return new _P({type:"lazy",getter:e})}var bP=P("ZodPromise",(e,t)=>{HV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>xB(e,r,n,o),e.unwrap=()=>e._zod.def.innerType});function C7(e){return new bP({type:"promise",innerType:e})}var wP=P("ZodFunction",(e,t)=>{BV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>aB(e,r,n,o)});function Mz(e){return new wP({type:"function",input:Array.isArray(e?.input)?QT(e?.input):e?.input??Oe(at()),output:e?.output??at()})}var Ud=P("ZodCustom",(e,t)=>{WV.init(e,t),Se.init(e,t),e._zod.processJSONSchema=(r,n,o)=>iB(e,r,n,o)});function M7(e){let t=new $t({check:"custom"});return t._zod.check=e,t}function xP(e,t){return O8(Ud,e??(()=>!0),t)}function $P(e,t={}){return Z8(Ud,e,t)}function kP(e){return j8(e)}var D7=A8,q7=C8;function L7(e,t={error:`Input not instance of ${e.name}`}){let r=new Ud({type:"custom",check:"custom",fn:n=>n instanceof e,abort:!0,...qe.normalizeParams(t)});return r._zod.bag.Class=e,r}var U7=(...e)=>M8({Codec:U_,Boolean:Z_,String:h_},...e);function F7(e){let t=vP(()=>et([R(e),He(),Ot(),Cd(),Oe(t),ft(R(),t)]));return t}function F_(e,t){return $d(M_(e),t)}var Dz;Dz||(Dz={});var Wee={...PT,...ET,iso:p_};Gr(YV());var V7="io.modelcontextprotocol/related-task",Fd="2.0",Vt=xP(e=>e!==null&&(typeof e=="object"||typeof e=="function")),zP=et([R(),He().int()]),SP=R(),Gee=sr({ttl:et([He(),Cd()]).optional(),pollInterval:He().optional()}),B7=Y({ttl:He().optional()}),H7=Y({taskId:R()}),V_=sr({progressToken:zP.optional(),[V7]:H7.optional()}),Rr=Y({_meta:V_.optional()}),Vd=Rr.extend({task:B7.optional()}),Bt=Y({method:R(),params:Rr.loose().optional()}),Xr=Y({_meta:V_.optional()}),Qr=Y({method:R(),params:Xr.loose().optional()}),Ht=sr({_meta:V_.optional()}),Bd=et([R(),He().int()]),J7=Y({jsonrpc:ae(Fd),id:Bd,...Bt.shape}).strict(),W7=Y({jsonrpc:ae(Fd),...Qr.shape}).strict(),TP=Y({jsonrpc:ae(Fd),id:Bd,result:Ht}).strict(),qz;(function(e){e[e.ConnectionClosed=-32e3]="ConnectionClosed",e[e.RequestTimeout=-32001]="RequestTimeout",e[e.ParseError=-32700]="ParseError",e[e.InvalidRequest=-32600]="InvalidRequest",e[e.MethodNotFound=-32601]="MethodNotFound",e[e.InvalidParams=-32602]="InvalidParams",e[e.InternalError=-32603]="InternalError",e[e.UrlElicitationRequired=-32042]="UrlElicitationRequired"})(qz||(qz={}));var PP=Y({jsonrpc:ae(Fd),id:Bd.optional(),error:Y({code:He().int(),message:R(),data:at().optional()})}).strict(),G7=et([J7,W7,TP,PP]),Kee=et([TP,PP]),EP=Ht.strict(),K7=Xr.extend({requestId:Bd.optional(),reason:R().optional()}),IP=Qr.extend({method:ae("notifications/cancelled"),params:K7}),Y7=Y({src:R(),mimeType:R().optional(),sizes:Oe(R()).optional(),theme:ur(["light","dark"]).optional()}),mu=Y({icons:Oe(Y7).optional()}),Ia=Y({name:R(),title:R().optional()}),RP=Ia.extend({...Ia.shape,...mu.shape,version:R(),websiteUrl:R().optional(),description:R().optional()}),X7=qd(Y({applyDefaults:Ot().optional()}),ft(R(),at())),Q7=F_(e=>e&&typeof e=="object"&&!Array.isArray(e)&&Object.keys(e).length===0?{form:{}}:e,qd(Y({form:X7.optional(),url:Vt.optional()}),ft(R(),at()).optional())),eH=sr({list:Vt.optional(),cancel:Vt.optional(),requests:sr({sampling:sr({createMessage:Vt.optional()}).optional(),elicitation:sr({create:Vt.optional()}).optional()}).optional()}),tH=sr({list:Vt.optional(),cancel:Vt.optional(),requests:sr({tools:sr({call:Vt.optional()}).optional()}).optional()}),rH=Y({experimental:ft(R(),Vt).optional(),sampling:Y({context:Vt.optional(),tools:Vt.optional()}).optional(),elicitation:Q7.optional(),roots:Y({listChanged:Ot().optional()}).optional(),tasks:eH.optional()}),nH=Rr.extend({protocolVersion:R(),capabilities:rH,clientInfo:RP}),oH=Bt.extend({method:ae("initialize"),params:nH}),iH=Y({experimental:ft(R(),Vt).optional(),logging:Vt.optional(),completions:Vt.optional(),prompts:Y({listChanged:Ot().optional()}).optional(),resources:Y({subscribe:Ot().optional(),listChanged:Ot().optional()}).optional(),tools:Y({listChanged:Ot().optional()}).optional(),tasks:tH.optional()}),aH=Ht.extend({protocolVersion:R(),capabilities:iH,serverInfo:RP,instructions:R().optional()}),sH=Qr.extend({method:ae("notifications/initialized"),params:Xr.optional()}),OP=Bt.extend({method:ae("ping"),params:Rr.optional()}),uH=Y({progress:He(),total:_t(He()),message:_t(R())}),cH=Y({...Xr.shape,...uH.shape,progressToken:zP}),ZP=Qr.extend({method:ae("notifications/progress"),params:cH}),lH=Rr.extend({cursor:SP.optional()}),hu=Bt.extend({params:lH.optional()}),gu=Ht.extend({nextCursor:SP.optional()}),dH=ur(["working","input_required","completed","failed","cancelled"]),yu=Y({taskId:R(),status:dH,ttl:et([He(),Cd()]),createdAt:R(),lastUpdatedAt:R(),pollInterval:_t(He()),statusMessage:_t(R())}),jP=Ht.extend({task:yu}),fH=Xr.merge(yu),NP=Qr.extend({method:ae("notifications/tasks/status"),params:fH}),AP=Bt.extend({method:ae("tasks/get"),params:Rr.extend({taskId:R()})}),CP=Ht.merge(yu),MP=Bt.extend({method:ae("tasks/result"),params:Rr.extend({taskId:R()})}),Yee=Ht.loose(),DP=hu.extend({method:ae("tasks/list")}),qP=gu.extend({tasks:Oe(yu)}),LP=Bt.extend({method:ae("tasks/cancel"),params:Rr.extend({taskId:R()})}),Xee=Ht.merge(yu),UP=Y({uri:R(),mimeType:_t(R()),_meta:ft(R(),at()).optional()}),FP=UP.extend({text:R()}),B_=R().refine(e=>{try{return atob(e),!0}catch{return!1}},{message:"Invalid Base64 string"}),VP=UP.extend({blob:B_}),_u=ur(["user","assistant"]),Oa=Y({audience:Oe(_u).optional(),priority:He().min(0).max(1).optional(),lastModified:p_.datetime({offset:!0}).optional()}),BP=Y({...Ia.shape,...mu.shape,uri:R(),description:_t(R()),mimeType:_t(R()),annotations:Oa.optional(),_meta:_t(sr({}))}),pH=Y({...Ia.shape,...mu.shape,uriTemplate:R(),description:_t(R()),mimeType:_t(R()),annotations:Oa.optional(),_meta:_t(sr({}))}),mH=hu.extend({method:ae("resources/list")}),hH=gu.extend({resources:Oe(BP)}),gH=hu.extend({method:ae("resources/templates/list")}),yH=gu.extend({resourceTemplates:Oe(pH)}),H_=Rr.extend({uri:R()}),_H=H_,vH=Bt.extend({method:ae("resources/read"),params:_H}),bH=Ht.extend({contents:Oe(et([FP,VP]))}),wH=Qr.extend({method:ae("notifications/resources/list_changed"),params:Xr.optional()}),xH=H_,$H=Bt.extend({method:ae("resources/subscribe"),params:xH}),kH=H_,zH=Bt.extend({method:ae("resources/unsubscribe"),params:kH}),SH=Xr.extend({uri:R()}),TH=Qr.extend({method:ae("notifications/resources/updated"),params:SH}),PH=Y({name:R(),description:_t(R()),required:_t(Ot())}),EH=Y({...Ia.shape,...mu.shape,description:_t(R()),arguments:_t(Oe(PH)),_meta:_t(sr({}))}),IH=hu.extend({method:ae("prompts/list")}),RH=gu.extend({prompts:Oe(EH)}),OH=Rr.extend({name:R(),arguments:ft(R(),R()).optional()}),ZH=Bt.extend({method:ae("prompts/get"),params:OH}),J_=Y({type:ae("text"),text:R(),annotations:Oa.optional(),_meta:ft(R(),at()).optional()}),W_=Y({type:ae("image"),data:B_,mimeType:R(),annotations:Oa.optional(),_meta:ft(R(),at()).optional()}),G_=Y({type:ae("audio"),data:B_,mimeType:R(),annotations:Oa.optional(),_meta:ft(R(),at()).optional()}),jH=Y({type:ae("tool_use"),name:R(),id:R(),input:ft(R(),at()),_meta:ft(R(),at()).optional()}),NH=Y({type:ae("resource"),resource:et([FP,VP]),annotations:Oa.optional(),_meta:ft(R(),at()).optional()}),AH=BP.extend({type:ae("resource_link")}),K_=et([J_,W_,G_,AH,NH]),CH=Y({role:_u,content:K_}),MH=Ht.extend({description:R().optional(),messages:Oe(CH)}),DH=Qr.extend({method:ae("notifications/prompts/list_changed"),params:Xr.optional()}),qH=Y({title:R().optional(),readOnlyHint:Ot().optional(),destructiveHint:Ot().optional(),idempotentHint:Ot().optional(),openWorldHint:Ot().optional()}),LH=Y({taskSupport:ur(["required","optional","forbidden"]).optional()}),HP=Y({...Ia.shape,...mu.shape,description:R().optional(),inputSchema:Y({type:ae("object"),properties:ft(R(),Vt).optional(),required:Oe(R()).optional()}).catchall(at()),outputSchema:Y({type:ae("object"),properties:ft(R(),Vt).optional(),required:Oe(R()).optional()}).catchall(at()).optional(),annotations:qH.optional(),execution:LH.optional(),_meta:ft(R(),at()).optional()}),UH=hu.extend({method:ae("tools/list")}),FH=gu.extend({tools:Oe(HP)}),JP=Ht.extend({content:Oe(K_).default([]),structuredContent:ft(R(),at()).optional(),isError:Ot().optional()}),Qee=JP.or(Ht.extend({toolResult:at()})),VH=Vd.extend({name:R(),arguments:ft(R(),at()).optional()}),BH=Bt.extend({method:ae("tools/call"),params:VH}),HH=Qr.extend({method:ae("notifications/tools/list_changed"),params:Xr.optional()}),ete=Y({autoRefresh:Ot().default(!0),debounceMs:He().int().nonnegative().default(300)}),WP=ur(["debug","info","notice","warning","error","critical","alert","emergency"]),JH=Rr.extend({level:WP}),WH=Bt.extend({method:ae("logging/setLevel"),params:JH}),GH=Xr.extend({level:WP,logger:R().optional(),data:at()}),KH=Qr.extend({method:ae("notifications/message"),params:GH}),YH=Y({name:R().optional()}),XH=Y({hints:Oe(YH).optional(),costPriority:He().min(0).max(1).optional(),speedPriority:He().min(0).max(1).optional(),intelligencePriority:He().min(0).max(1).optional()}),QH=Y({mode:ur(["auto","required","none"]).optional()}),eJ=Y({type:ae("tool_result"),toolUseId:R().describe("The unique identifier for the corresponding tool call."),content:Oe(K_).default([]),structuredContent:Y({}).loose().optional(),isError:Ot().optional(),_meta:ft(R(),at()).optional()}),tJ=C_("type",[J_,W_,G_]),kd=C_("type",[J_,W_,G_,jH,eJ]),rJ=Y({role:_u,content:et([kd,Oe(kd)]),_meta:ft(R(),at()).optional()}),nJ=Vd.extend({messages:Oe(rJ),modelPreferences:XH.optional(),systemPrompt:R().optional(),includeContext:ur(["none","thisServer","allServers"]).optional(),temperature:He().optional(),maxTokens:He().int(),stopSequences:Oe(R()).optional(),metadata:Vt.optional(),tools:Oe(HP).optional(),toolChoice:QH.optional()}),oJ=Bt.extend({method:ae("sampling/createMessage"),params:nJ}),iJ=Ht.extend({model:R(),stopReason:_t(ur(["endTurn","stopSequence","maxTokens"]).or(R())),role:_u,content:tJ}),aJ=Ht.extend({model:R(),stopReason:_t(ur(["endTurn","stopSequence","maxTokens","toolUse"]).or(R())),role:_u,content:et([kd,Oe(kd)])}),sJ=Y({type:ae("boolean"),title:R().optional(),description:R().optional(),default:Ot().optional()}),uJ=Y({type:ae("string"),title:R().optional(),description:R().optional(),minLength:He().optional(),maxLength:He().optional(),format:ur(["email","uri","date","date-time"]).optional(),default:R().optional()}),cJ=Y({type:ur(["number","integer"]),title:R().optional(),description:R().optional(),minimum:He().optional(),maximum:He().optional(),default:He().optional()}),lJ=Y({type:ae("string"),title:R().optional(),description:R().optional(),enum:Oe(R()),default:R().optional()}),dJ=Y({type:ae("string"),title:R().optional(),description:R().optional(),oneOf:Oe(Y({const:R(),title:R()})),default:R().optional()}),fJ=Y({type:ae("string"),title:R().optional(),description:R().optional(),enum:Oe(R()),enumNames:Oe(R()).optional(),default:R().optional()}),pJ=et([lJ,dJ]),mJ=Y({type:ae("array"),title:R().optional(),description:R().optional(),minItems:He().optional(),maxItems:He().optional(),items:Y({type:ae("string"),enum:Oe(R())}),default:Oe(R()).optional()}),hJ=Y({type:ae("array"),title:R().optional(),description:R().optional(),minItems:He().optional(),maxItems:He().optional(),items:Y({anyOf:Oe(Y({const:R(),title:R()}))}),default:Oe(R()).optional()}),gJ=et([mJ,hJ]),yJ=et([fJ,pJ,gJ]),_J=et([yJ,sJ,uJ,cJ]),vJ=Vd.extend({mode:ae("form").optional(),message:R(),requestedSchema:Y({type:ae("object"),properties:ft(R(),_J),required:Oe(R()).optional()})}),bJ=Vd.extend({mode:ae("url"),message:R(),elicitationId:R(),url:R().url()}),wJ=et([vJ,bJ]),xJ=Bt.extend({method:ae("elicitation/create"),params:wJ}),$J=Xr.extend({elicitationId:R()}),kJ=Qr.extend({method:ae("notifications/elicitation/complete"),params:$J}),zJ=Ht.extend({action:ur(["accept","decline","cancel"]),content:F_(e=>e===null?void 0:e,ft(R(),et([R(),He(),Ot(),Oe(R())])).optional())}),SJ=Y({type:ae("ref/resource"),uri:R()}),TJ=Y({type:ae("ref/prompt"),name:R()}),PJ=Rr.extend({ref:et([TJ,SJ]),argument:Y({name:R(),value:R()}),context:Y({arguments:ft(R(),R()).optional()}).optional()}),EJ=Bt.extend({method:ae("completion/complete"),params:PJ}),IJ=Ht.extend({completion:sr({values:Oe(R()).max(100),total:_t(He().int()),hasMore:_t(Ot())})}),RJ=Y({uri:R().startsWith("file://"),name:R().optional(),_meta:ft(R(),at()).optional()}),OJ=Bt.extend({method:ae("roots/list"),params:Rr.optional()}),ZJ=Ht.extend({roots:Oe(RJ)}),jJ=Qr.extend({method:ae("notifications/roots/list_changed"),params:Xr.optional()}),tte=et([OP,oH,EJ,WH,ZH,IH,mH,gH,vH,$H,zH,BH,UH,AP,MP,DP,LP]),rte=et([IP,ZP,sH,jJ,NP]),nte=et([EP,iJ,aJ,zJ,ZJ,CP,qP,jP]),ote=et([OP,oJ,xJ,OJ,AP,MP,DP,LP]),ite=et([IP,ZP,KH,TH,wH,HH,DH,NP,kJ]),ate=et([EP,aH,IJ,MH,RH,hH,yH,bH,JP,FH,CP,qP,jP]),NJ=class{append(e){this._buffer=this._buffer?Buffer.concat([this._buffer,e]):e}readMessage(){if(!this._buffer)return null;let e=this._buffer.indexOf(`
`);if(e===-1)return null;let t=this._buffer.toString("utf8",0,e).replace(/\r$/,"");return this._buffer=this._buffer.subarray(e+1),AJ(t)}clear(){this._buffer=void 0}};function AJ(e){return G7.parse(JSON.parse(e))}function CJ(e){return JSON.stringify(e)+`
`}var MJ=class{constructor(e=Gy.default.stdin,t=Gy.default.stdout){this._stdin=e,this._stdout=t,this._readBuffer=new NJ,this._started=!1,this._ondata=r=>{this._readBuffer.append(r),this.processReadBuffer()},this._onerror=r=>{this.onerror?.(r)}}async start(){if(this._started)throw new Error("StdioServerTransport already started! If using Server class, note that connect() calls start() automatically.");this._started=!0,this._stdin.on("data",this._ondata),this._stdin.on("error",this._onerror)}processReadBuffer(){for(;;)try{let e=this._readBuffer.readMessage();if(e===null)break;this.onmessage?.(e)}catch(e){this.onerror?.(e)}}async close(){this._stdin.off("data",this._ondata),this._stdin.off("error",this._onerror),this._stdin.listenerCount("data")===0&&this._stdin.pause(),this._readBuffer.clear(),this.onclose?.()}send(e){return new Promise(t=>{let r=CJ(e);this._stdout.write(r)?t():this._stdout.once("drain",t)})}},ka=Fz(oU(),1),DJ=Fz(iU(),1),dd="0123456789abcdef",Lz=class iu{constructor(t){this.bytes=t}static ofInner(t){if(t.length!==16)throw new TypeError("not 128-bit length");return new iu(t)}static fromFieldsV7(t,r,n,o){if(!Number.isInteger(t)||!Number.isInteger(r)||!Number.isInteger(n)||!Number.isInteger(o)||t<0||r<0||n<0||o<0||t>0xffffffffffff||r>4095||n>1073741823||o>4294967295)throw new RangeError("invalid field value");let a=new Uint8Array(16);return a[0]=t/2**40,a[1]=t/2**32,a[2]=t/2**24,a[3]=t/2**16,a[4]=t/2**8,a[5]=t,a[6]=112|r>>>8,a[7]=r,a[8]=128|n>>>24,a[9]=n>>>16,a[10]=n>>>8,a[11]=n,a[12]=o>>>24,a[13]=o>>>16,a[14]=o>>>8,a[15]=o,new iu(a)}static parse(t){var r,n,o,a;let u;switch(t.length){case 32:u=(r=/^[0-9a-f]{32}$/i.exec(t))===null||r===void 0?void 0:r[0];break;case 36:u=(n=/^([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/i.exec(t))===null||n===void 0?void 0:n.slice(1,6).join("");break;case 38:u=(o=/^\{([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})\}$/i.exec(t))===null||o===void 0?void 0:o.slice(1,6).join("");break;case 45:u=(a=/^urn:uuid:([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/i.exec(t))===null||a===void 0?void 0:a.slice(1,6).join("");break;default:break}if(u){let c=new Uint8Array(16);for(let d=0;d<16;d+=4){let f=parseInt(u.substring(2*d,2*d+8),16);c[d+0]=f>>>24,c[d+1]=f>>>16,c[d+2]=f>>>8,c[d+3]=f}return new iu(c)}else throw new SyntaxError("could not parse UUID string")}toString(){let t="";for(let r=0;r<this.bytes.length;r++)t+=dd.charAt(this.bytes[r]>>>4),t+=dd.charAt(this.bytes[r]&15),(r===3||r===5||r===7||r===9)&&(t+="-");return t}toHex(){let t="";for(let r=0;r<this.bytes.length;r++)t+=dd.charAt(this.bytes[r]>>>4),t+=dd.charAt(this.bytes[r]&15);return t}toJSON(){return this.toString()}getVariant(){let t=this.bytes[8]>>>4;if(t<0)throw new Error("unreachable");if(t<=7)return this.bytes.every(r=>r===0)?"NIL":"VAR_0";if(t<=11)return"VAR_10";if(t<=13)return"VAR_110";if(t<=15)return this.bytes.every(r=>r===255)?"MAX":"VAR_RESERVED";throw new Error("unreachable")}getVersion(){return this.getVariant()==="VAR_10"?this.bytes[6]>>>4:void 0}clone(){return new iu(this.bytes.slice(0))}equals(t){return this.compareTo(t)===0}compareTo(t){for(let r=0;r<16;r++){let n=this.bytes[r]-t.bytes[r];if(n!==0)return Math.sign(n)}return 0}},qJ=class{constructor(e){this.timestamp_biased=0,this.counter=0,this.random=e??LJ()}generate(){return this.generateOrResetCore(Date.now(),1e4)}generateOrAbort(){return this.generateOrAbortCore(Date.now(),1e4)}generateOrResetCore(e,t){let r=this.generateOrAbortCore(e,t);return r===void 0&&(this.timestamp_biased=0,r=this.generateOrAbortCore(e,t)),r}generateOrAbortCore(e,t){if(!Number.isInteger(e)||e<0||e>0xffffffffffff)throw new RangeError("`unixTsMs` must be a 48-bit unsigned integer");if(t<0||t>0xffffffffffff)throw new RangeError("`rollbackAllowance` out of reasonable range");if(e++,e>this.timestamp_biased)this.timestamp_biased=e,this.resetCounter();else if(e+t>=this.timestamp_biased)this.counter++,this.counter>4398046511103&&(this.timestamp_biased++,this.resetCounter());else return;return Lz.fromFieldsV7(this.timestamp_biased-1,Math.trunc(this.counter/2**30),this.counter&2**30-1,this.random.nextUint32())}resetCounter(){this.counter=this.random.nextUint32()*1024+(this.random.nextUint32()&1023)}generateV4(){let e=new Uint8Array(Uint32Array.of(this.random.nextUint32(),this.random.nextUint32(),this.random.nextUint32(),this.random.nextUint32()).buffer);return e[6]=64|e[6]>>>4,e[8]=128|e[8]>>>2,Lz.ofInner(e)}},LJ=()=>{if(typeof crypto<"u"&&typeof crypto.getRandomValues<"u")return new UJ;if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");return{nextUint32:()=>Math.trunc(Math.random()*65536)*65536+Math.trunc(Math.random()*65536)}},UJ=class{constructor(){this.buffer=new Uint32Array(8),this.cursor=65535}nextUint32(){return this.cursor>=this.buffer.length&&(crypto.getRandomValues(this.buffer),this.cursor=0),this.buffer[this.cursor++]}},Uz,FJ=()=>VJ().toString(),VJ=()=>(Uz||(Uz=new qJ)).generate(),fd=Wy,pd=(e,t,r,n)=>{let o=new Date().toISOString().split("T")[1].split(".")[0],a=ka.default.dim(o),u=t(e);if(typeof r=="string")return`${a} ${u} ${r}`;let c=n||"",d=JSON.stringify(r,null,2);return`${a} ${u} ${c}
${ka.default.dim(d)}`},Zn={info:(e,t)=>console.error(pd("INFO",ka.default.blue,e,t)),error:(e,t)=>console.error(pd("ERROR",ka.default.red,e,t)),warn:(e,t)=>console.error(pd("WARN",ka.default.yellow,e,t)),debug:(e,t)=>console.error(pd("DEBUG",ka.default.cyan,e,t))};function BJ(e,t){let r={};for(let n of e){let o=n.match(/^([^=]+)=(.*)$/);if(!o)continue;let[,a,u]=o,c=a.split("."),d=u;try{d=JSON.parse(u)}catch{}DJ.default.set(r,c,d)}if(t){let n=t.safeParse(r);if(!n.success){let o=n.error.issues.map(a=>{let u=a.path.join("."),c=a.message,d=r;for(let f of a.path){let m=String(f);if(d&&typeof d=="object"&&m in d)d=d[m];else{d=void 0;break}}return`  ${u}: ${c} (received: ${JSON.stringify(d)})`});return Zn.error("Configuration validation failed:"),Zn.error(o.join(`
`)),Zn.error("Example usage:"),Zn.error("  node server.js server.host=localhost server.port=8080 debug=true"),{config:r,errors:o}}return{config:n.data,errors:void 0}}return{config:r,errors:void 0}}async function HJ(){try{Zn.info("Starting MCP server with stdio transport");let e=process.argv.slice(2),{config:t,errors:r}=BJ(e,fd.configSchema);r&&process.exit(1);let n;if(fd.default&&typeof fd.default=="function")Zn.info("Creating server"),n=await fd.default({config:t,session:{id:FJ(),get:async()=>{},set:async()=>{},delete:async()=>{}},env:process.env});else throw new Error(`No valid server export found. Please export:
- export default function({ config, session, env }) { ... }`);let o=new MJ;await n.connect(o),Zn.info("MCP server connected to stdio transport"),t&&typeof t=="object"&&Object.keys(t).length>0&&Zn.info({config:t},"Configuration loaded")}catch(e){Zn.error({error:e},"Failed to start MCP server"),process.exit(1)}}HJ().catch(e=>{Zn.error({error:e},"Unhandled error"),process.exit(1)});
/*! Bundled license information:

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)

uuidv7/dist/index.js:
  (**
   * uuidv7: A JavaScript implementation of UUID version 7
   *
   * Copyright 2021-2025 LiosK
   *
   * @license Apache-2.0
   * @packageDocumentation
   *)
*/
//# sourceMappingURL=index.cjs.map
